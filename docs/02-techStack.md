# ğŸ› ï¸ Technology Stack Document

## Markdown Preview EE â€” Engineering Decisions

**Document Type:** Technical Architecture & Stack Selection
**Version:** 1.0
**Created:** 2026-01-20

---

## ğŸ“‹ Executive Summary

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ARCHITECTURE: Client-Side SPA with Optional AI Integration                â”‚
â”‚   FRAMEWORK: React 19 + TypeScript                                          â”‚
â”‚   STYLING: Tailwind CSS v4 + shadcn/ui (Candyland Theme)                    â”‚
â”‚   BUILD: Vite + pnpm                                                         â”‚
â”‚   DEPLOYMENT: Static hosting (Vercel/Cloudflare Pages)                      â”‚
â”‚   OFFLINE: Service Worker + localStorage                                    â”‚
â”‚                                                                              â”‚
â”‚   KEY PRINCIPLE: Zero backend. Everything runs in the browser.              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Architecture Overview

### High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚                           MARKDOWN PREVIEW EE                               â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚                         BROWSER (CLIENT)                            â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚   â”‚   â”‚                      React Application                     â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   Editor    â”‚ â”‚   Preview   â”‚ â”‚     Toolbar         â”‚ â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  Component  â”‚ â”‚  Component  â”‚ â”‚    Component        â”‚ â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚    â”‚  â”‚
â”‚   â”‚   â”‚          â”‚               â”‚                                 â”‚    â”‚  â”‚
â”‚   â”‚   â”‚          â–¼               â–¼                                 â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â”‚              State Management (Zustand)              â”‚â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  â€¢ Editor Content  â€¢ Theme  â€¢ Files  â€¢ Settings     â”‚â”‚    â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚    â”‚  â”‚
â”‚   â”‚   â”‚                          â”‚                                 â”‚    â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                     Services Layer                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   Markdown   â”‚ â”‚   Mermaid    â”‚ â”‚   File System    â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   Service    â”‚ â”‚   Service    â”‚ â”‚     Service      â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  (marked.js) â”‚ â”‚  (mermaid)   â”‚ â”‚  (File API)      â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚    Prism     â”‚ â”‚     PDF      â”‚ â”‚   AI Organizer   â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   Service    â”‚ â”‚   Service    â”‚ â”‚    Service       â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  (prism.js)  â”‚ â”‚   (Native)   â”‚ â”‚   (BYOK API)     â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                              â”‚                                      â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚                  Persistence Layer                          â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚ localStorage â”‚ â”‚  IndexedDB   â”‚ â”‚   File System    â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â”‚  (settings)  â”‚ â”‚  (files)     â”‚ â”‚   Access API     â”‚   â”‚  â”‚  â”‚
â”‚   â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                      External Services (Optional)                    â”‚  â”‚
â”‚   â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚   â”‚   â”‚  OpenAI API  â”‚  Anthropic API  â”‚  Google Gemini  â”‚  Ollama  â”‚  â”‚  â”‚
â”‚   â”‚   â”‚              (BYOK - User's Own API Key)                     â”‚  â”‚  â”‚
â”‚   â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ Core Technology Choices

### Framework: React 19 + TypeScript

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   âš›ï¸ WHY REACT 19?                                                           â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   âœ… PROS                                                            â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€                                                               â”‚  â”‚
â”‚   â”‚   â€¢ Server Components (optional) for future flexibility             â”‚  â”‚
â”‚   â”‚   â€¢ Suspense for code splitting                                     â”‚  â”‚
â”‚   â”‚   â€¢ Concurrent rendering for smooth UI                              â”‚  â”‚
â”‚   â”‚   â€¢ Massive ecosystem and community                                 â”‚  â”‚
â”‚   â”‚   â€¢ shadcn/ui native support                                        â”‚  â”‚
â”‚   â”‚   â€¢ TypeScript first-class support                                  â”‚  â”‚
â”‚   â”‚   â€¢ Excellent DevTools                                              â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   âš ï¸ TRADE-OFFS                                                      â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚  â”‚
â”‚   â”‚   â€¢ Larger bundle than Svelte/SolidJS                               â”‚  â”‚
â”‚   â”‚   â€¢ Virtual DOM overhead (acceptable for our use case)              â”‚  â”‚
â”‚   â”‚   â€¢ Learning curve for hooks patterns                               â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   ğŸ¯ DECISION: React's ecosystem (shadcn, Radix, Framer Motion)     â”‚  â”‚
â”‚   â”‚      outweighs the small performance delta for our use case.        â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Alternative Frameworks Considered

| Framework | Bundle Size | DX | Ecosystem | Why Not Chosen |
|-----------|-------------|----|-----------|--------------:|
| **React 19** âœ… | 42kb | â­â­â­â­ | â­â­â­â­â­ | **CHOSEN** |
| Svelte 5 | 2kb | â­â­â­â­â­ | â­â­â­ | Limited UI library ecosystem |
| Vue 3 | 34kb | â­â­â­â­ | â­â­â­â­ | shadcn ports less mature |
| SolidJS | 7kb | â­â­â­â­ | â­â­ | Smaller ecosystem, fewer libraries |
| Vanilla JS | 0kb | â­â­ | â­â­â­â­â­ | Maintenance nightmare at scale |

---

## ğŸ“¦ Dependencies

### Core Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ“¦ PRODUCTION DEPENDENCIES                                                â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   FRAMEWORK & UI                                                    â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚  â”‚
â”‚   â”‚   react                  ^19.0.0       Core framework               â”‚  â”‚
â”‚   â”‚   react-dom              ^19.0.0       DOM rendering                â”‚  â”‚
â”‚   â”‚   @radix-ui/react-*      ^1.x.x        Accessible primitives        â”‚  â”‚
â”‚   â”‚   class-variance-authority ^0.7.x      Variant-based styling        â”‚  â”‚
â”‚   â”‚   clsx                    ^2.x.x       Class name utility           â”‚  â”‚
â”‚   â”‚   tailwind-merge          ^2.x.x       Tailwind class merging       â”‚  â”‚
â”‚   â”‚   lucide-react            ^0.x.x       Icon library                 â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   MARKDOWN PROCESSING                                               â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                               â”‚  â”‚
â”‚   â”‚   marked                  ^12.x.x      Markdown parser (GFM)        â”‚  â”‚
â”‚   â”‚   dompurify               ^3.x.x       HTML sanitization            â”‚  â”‚
â”‚   â”‚   prismjs                 ^1.29.x      Syntax highlighting          â”‚  â”‚
â”‚   â”‚   mermaid                 ^10.x.x      Diagram rendering            â”‚  â”‚
â”‚   â”‚   katex                   ^0.16.x      Math/LaTeX rendering         â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   STATE & DATA                                                      â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                      â”‚  â”‚
â”‚   â”‚   zustand                 ^4.x.x       State management             â”‚  â”‚
â”‚   â”‚   idb-keyval              ^6.x.x       IndexedDB wrapper            â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   EXPORT                                                            â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€                                                             â”‚  â”‚
â”‚   â”‚   â”‚   â”‚   (No external libs)                    â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   ANIMATION                                                         â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                          â”‚  â”‚
â”‚   â”‚   framer-motion           ^11.x.x      Animations                   â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Development Dependencies

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ”§ DEV DEPENDENCIES                                                       â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   BUILD & BUNDLING                                                  â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚  â”‚
â”‚   â”‚   vite                    ^5.x.x       Build tool                   â”‚  â”‚
â”‚   â”‚   @vitejs/plugin-react    ^4.x.x       React plugin for Vite        â”‚  â”‚
â”‚   â”‚   typescript              ^5.x.x       Type system                  â”‚  â”‚
â”‚   â”‚   tsconfig-paths          ^4.x.x       Path aliases                 â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   STYLING                                                           â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                                           â”‚  â”‚
â”‚   â”‚   tailwindcss             ^4.x.x       CSS framework                â”‚  â”‚
â”‚   â”‚   postcss                 ^8.x.x       CSS processing               â”‚  â”‚
â”‚   â”‚   autoprefixer            ^10.x.x      Vendor prefixes              â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   LINTING & FORMATTING                                              â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚  â”‚
â”‚   â”‚   eslint                  ^9.x.x       Linting                      â”‚  â”‚
â”‚   â”‚   @typescript-eslint/*    ^7.x.x       TypeScript ESLint            â”‚  â”‚
â”‚   â”‚   prettier                ^3.x.x       Code formatting              â”‚  â”‚
â”‚   â”‚   prettier-plugin-tailwindcss ^0.6.x   Tailwind class sorting       â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   TESTING                                                           â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€                                                           â”‚  â”‚
â”‚   â”‚   vitest                  ^2.x.x       Unit testing                 â”‚  â”‚
â”‚   â”‚   @testing-library/react  ^16.x.x      React testing                â”‚  â”‚
â”‚   â”‚   playwright              ^1.x.x       E2E testing                  â”‚  â”‚
â”‚   â”‚   msw                     ^2.x.x       API mocking                  â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   TYPES                                                             â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€                                                             â”‚  â”‚
â”‚   â”‚   @types/react            ^18.x.x      React types                  â”‚  â”‚
â”‚   â”‚   @types/node             ^20.x.x      Node types                   â”‚  â”‚
â”‚   â”‚   @types/dompurify        ^3.x.x       DOMPurify types              â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Package.json

```json
{
  "name": "markdown-preview-ee",
  "version": "1.0.0",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "format": "prettier --write \"src/**/*.{ts,tsx,css}\"",
    "test": "vitest",
    "test:ui": "vitest --ui",
    "test:e2e": "playwright test",
    "type-check": "tsc --noEmit"
  },
  "dependencies": {
    "react": "^19.0.0",
    "react-dom": "^19.0.0",
    "@radix-ui/react-dialog": "^1.0.5",
    "@radix-ui/react-dropdown-menu": "^2.0.6",
    "@radix-ui/react-popover": "^1.0.7",
    "@radix-ui/react-select": "^2.0.0",
    "@radix-ui/react-separator": "^1.0.3",
    "@radix-ui/react-slot": "^1.0.2",
    "@radix-ui/react-switch": "^1.0.3",
    "@radix-ui/react-tabs": "^1.0.4",
    "@radix-ui/react-toast": "^1.1.5",
    "@radix-ui/react-tooltip": "^1.0.7",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.1.0",
    "dompurify": "^3.0.8",
    "framer-motion": "^11.0.0",
    "idb-keyval": "^6.2.1",
    "katex": "^0.16.9",
    "lucide-react": "^0.312.0",
    "marked": "^12.0.0",
    "mermaid": "^10.7.0",
    "prismjs": "^1.29.0",
    "tailwind-merge": "^2.2.0",
    "zustand": "^4.5.0"
  },
  "devDependencies": {
    "@playwright/test": "^1.41.0",
    "@testing-library/react": "^16.0.0",
    "@types/dompurify": "^3.0.5",
    "@types/node": "^20.11.0",
    "@types/prismjs": "^1.26.3",
    "@types/react": "^18.2.48",
    "@types/react-dom": "^18.2.18",
    "@typescript-eslint/eslint-plugin": "^7.0.0",
    "@typescript-eslint/parser": "^7.0.0",
    "@vitejs/plugin-react": "^4.2.1",
    "autoprefixer": "^10.4.17",
    "eslint": "^9.0.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.5",
    "postcss": "^8.4.33",
    "prettier": "^3.2.4",
    "prettier-plugin-tailwindcss": "^0.6.0",
    "tailwindcss": "^4.0.0",
    "typescript": "^5.3.3",
    "vite": "^5.0.12",
    "vitest": "^2.0.0"
  },
  "engines": {
    "node": ">=20.0.0",
    "pnpm": ">=8.0.0"
  }
}
```

---

## ğŸ¨ Styling Architecture

### Tailwind CSS v4 + shadcn/ui

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ¨ STYLING STACK                                                          â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   LAYER 1: Design Tokens (CSS Variables)                            â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                             â”‚  â”‚
â”‚   â”‚   â€¢ Candyland theme colors (OKLCH)                                  â”‚  â”‚
â”‚   â”‚   â€¢ Typography scale (Poppins + Roboto Mono)                        â”‚  â”‚
â”‚   â”‚   â€¢ Spacing scale (4px base)                                        â”‚  â”‚
â”‚   â”‚   â€¢ Shadow scale                                                    â”‚  â”‚
â”‚   â”‚   â€¢ Radius scale                                                    â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   LAYER 2: Tailwind CSS v4 (@layer)                                 â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                  â”‚  â”‚
â”‚   â”‚   â€¢ Utility-first CSS                                               â”‚  â”‚
â”‚   â”‚   â€¢ Uses CSS Cascade Layers for strict isolation                    â”‚  â”‚
â”‚   â”‚   â€¢ @theme inline for token mapping                                 â”‚  â”‚
â”‚   â”‚   â€¢ Dark mode via .dark class                                       â”‚  â”‚
â”‚   â”‚   â€¢ Custom plugins for Candyland variants                           â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   LAYER 3: shadcn/ui Components                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚  â”‚
â”‚   â”‚   â€¢ Pre-built accessible components                                 â”‚  â”‚
â”‚   â”‚   â€¢ Customized with Candyland theme                                 â”‚  â”‚
â”‚   â”‚   â€¢ Copy-paste components (no npm dependency)                       â”‚  â”‚
â”‚   â”‚   â€¢ Based on Radix UI primitives                                    â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   LAYER 4: Custom Components                                        â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚  â”‚
â”‚   â”‚   â€¢ Editor-specific components                                      â”‚  â”‚
â”‚   â”‚   â€¢ Preview styling                                                 â”‚  â”‚
â”‚   â”‚   â€¢ Animation wrappers                                              â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### File Structure for Styles

```
src/
â”œâ”€â”€ styles/
â”‚   â”œâ”€â”€ globals.css          # Base styles, CSS reset, font imports
â”‚   â”œâ”€â”€ tokens.css           # Candyland design tokens (CSS variables)
â”‚   â”œâ”€â”€ components.css       # Component-specific styles
â”‚   â””â”€â”€ prose.css            # Markdown preview typography
â”œâ”€â”€ components/
â”‚   â””â”€â”€ ui/                  # shadcn/ui components
â”‚       â”œâ”€â”€ button.tsx
â”‚       â”œâ”€â”€ dialog.tsx
â”‚       â”œâ”€â”€ dropdown-menu.tsx
â”‚       â”œâ”€â”€ input.tsx
â”‚       â””â”€â”€ ...
â””â”€â”€ lib/
    â””â”€â”€ utils.ts             # cn() helper for class merging
```

---

## ğŸ—‚ï¸ Project Structure

### Directory Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ“ PROJECT STRUCTURE                                                      â”‚
â”‚                                                                              â”‚
â”‚   markdown-preview-ee/                                                      â”‚
â”‚   â”‚                                                                          â”‚
â”‚   â”œâ”€â”€ ğŸ“„ Configuration                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ .env.example             # Environment template                   â”‚
â”‚   â”‚   â”œâ”€â”€ .eslintrc.cjs            # ESLint config                         â”‚
â”‚   â”‚   â”œâ”€â”€ .gitignore               # Git ignore                            â”‚
â”‚   â”‚   â”œâ”€â”€ .prettierrc              # Prettier config                       â”‚
â”‚   â”‚   â”œâ”€â”€ components.json          # shadcn/ui config                      â”‚
â”‚   â”‚   â”œâ”€â”€ package.json             # Dependencies                          â”‚
â”‚   â”‚   â”œâ”€â”€ pnpm-lock.yaml           # Lock file                             â”‚
â”‚   â”‚   â”œâ”€â”€ postcss.config.js        # PostCSS config                        â”‚
â”‚   â”‚   â”œâ”€â”€ tailwind.config.ts       # Tailwind config                       â”‚
â”‚   â”‚   â”œâ”€â”€ tsconfig.json            # TypeScript config                     â”‚
â”‚   â”‚   â””â”€â”€ vite.config.ts           # Vite config                           â”‚
â”‚   â”‚                                                                          â”‚
â”‚   â”œâ”€â”€ ğŸ“ public/                   # Static assets                         â”‚
â”‚   â”‚   â”œâ”€â”€ favicon.svg                                                       â”‚
â”‚   â”‚   â”œâ”€â”€ og-image.png                                                      â”‚
â”‚   â”‚   â””â”€â”€ fonts/                   # Self-hosted fonts (optional)          â”‚
â”‚   â”‚                                                                          â”‚
â”‚   â”œâ”€â”€ ğŸ“ src/                      # Source code                           â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ components/           # React components                      â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                  # shadcn/ui primitives                  â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ button.tsx                                                â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ dialog.tsx                                                â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...                                                       â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ editor/              # Editor-specific                       â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Editor.tsx                                                â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ EditorToolbar.tsx                                         â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ EditorStatus.tsx                                          â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ preview/             # Preview-specific                      â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Preview.tsx                                               â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ PreviewControls.tsx                                       â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ sidebar/             # File browser                          â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx                                               â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FileTree.tsx                                              â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FileItem.tsx                                              â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/              # Layout components                     â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Header.tsx                                                â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Layout.tsx                                                â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Footer.tsx                                                â”‚
â”‚   â”‚   â”‚   â””â”€â”€ modals/              # Modal dialogs                         â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ ExportModal.tsx                                           â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ SettingsModal.tsx                                         â”‚
â”‚   â”‚   â”‚       â””â”€â”€ AIModal.tsx                                               â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ hooks/                # Custom React hooks                    â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ useDebounce.ts                                                â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts                                            â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ useMarkdown.ts                                                â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ useFileSystem.ts                                              â”‚
â”‚   â”‚   â”‚   â””â”€â”€ useTheme.ts                                                   â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ services/             # Business logic                        â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ markdown/                                                     â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MarkdownService.ts                                        â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ extensions.ts                                             â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sanitizer.ts                                              â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ syntax/                                                       â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PrismService.ts                                           â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ languages.ts                                              â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ diagrams/                                                     â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ MermaidService.ts                                         â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ export/                                                       â”‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PDFService.ts                                             â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ HTMLService.ts                                            â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ filesystem/                                                   â”‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ FileSystemService.ts                                      â”‚
â”‚   â”‚   â”‚   â””â”€â”€ ai/                                                           â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ AIService.ts                                              â”‚
â”‚   â”‚   â”‚       â”œâ”€â”€ prompts.ts                                                â”‚
â”‚   â”‚   â”‚       â””â”€â”€ providers/                                                â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ openai.ts                                             â”‚
â”‚   â”‚   â”‚           â”œâ”€â”€ anthropic.ts                                          â”‚
â”‚   â”‚   â”‚           â””â”€â”€ types.ts                                              â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ stores/               # Zustand stores                        â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ editorStore.ts                                                â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ settingsStore.ts                                              â”‚
â”‚   â”‚   â”‚   â””â”€â”€ fileStore.ts                                                  â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ styles/               # CSS                                   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ globals.css                                                   â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ tokens.css                                                    â”‚
â”‚   â”‚   â”‚   â””â”€â”€ prose.css                                                     â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“ lib/                  # Utilities                             â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ utils.ts             # cn() and helpers                      â”‚
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.ts                                                  â”‚
â”‚   â”‚   â”‚   â””â”€â”€ types.ts                                                      â”‚
â”‚   â”‚   â”‚                                                                      â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ App.tsx               # Root component                        â”‚
â”‚   â”‚   â”œâ”€â”€ ğŸ“„ main.tsx              # Entry point                           â”‚
â”‚   â”‚   â””â”€â”€ ğŸ“„ vite-env.d.ts         # Vite types                            â”‚
â”‚   â”‚                                                                          â”‚
â”‚   â”œâ”€â”€ ğŸ“ tests/                    # Test files                            â”‚
â”‚   â”‚   â”œâ”€â”€ unit/                    # Unit tests                            â”‚
â”‚   â”‚   â”œâ”€â”€ integration/             # Integration tests                     â”‚
â”‚   â”‚   â””â”€â”€ e2e/                     # Playwright E2E tests                  â”‚
â”‚   â”‚                                                                          â”‚
â”‚   â”œâ”€â”€ ğŸ“ docs/                     # Documentation                         â”‚
â”‚   â”‚   â”œâ”€â”€ brand-theme.md                                                    â”‚
â”‚   â”‚   â”œâ”€â”€ 01-userJourney.md                                                 â”‚
â”‚   â”‚   â””â”€â”€ 02-techStack.md                                                   â”‚
â”‚   â”‚                                                                          â”‚
â”‚   â””â”€â”€ ğŸ“„ README.md                 # Project documentation                 â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš¡ Performance Targets

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ¯ PERFORMANCE BUDGET                                                     â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   METRIC              â”‚ TARGET    â”‚ MEASUREMENT                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚   â”‚   First Contentful    â”‚ < 1.0s    â”‚ Lighthouse                      â”‚  â”‚
â”‚   â”‚   Paint (FCP)         â”‚           â”‚                                 â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚   â”‚   Largest Contentful  â”‚ < 1.5s    â”‚ Lighthouse                      â”‚  â”‚
â”‚   â”‚   Paint (LCP)         â”‚           â”‚                                 â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚   â”‚   Time to Interactive â”‚ < 2.0s    â”‚ Lighthouse                      â”‚  â”‚
â”‚   â”‚   (TTI)               â”‚           â”‚                                 â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚   â”‚   Cumulative Layout   â”‚ < 0.05    â”‚ Lighthouse                      â”‚  â”‚
â”‚   â”‚   Shift (CLS)         â”‚           â”‚                                 â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚   â”‚   Bundle Size (gzip)  â”‚ < 150kb   â”‚ Vite build                      â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚  â”‚
â”‚   â”‚   Render Latency      â”‚ < 100ms   â”‚ Performance.now()               â”‚  â”‚
â”‚   â”‚   (typing â†’ preview)  â”‚           â”‚                                 â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”’ Security Considerations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ›¡ï¸ SECURITY MODEL                                                         â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   1. HTML SANITIZATION                                              â”‚  â”‚
â”‚   â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                           â”‚  â”‚
â”‚   â”‚      â€¢ DOMPurify sanitizes ALL rendered markdown                    â”‚  â”‚
â”‚   â”‚      â€¢ Whitelist approach for allowed tags/attributes               â”‚  â”‚
â”‚   â”‚      â€¢ No inline JavaScript execution                               â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   2. API KEY SECURITY (BYOK)                                        â”‚  â”‚
â”‚   â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚  â”‚
â”‚   â”‚      â€¢ Keys stored in localStorage (encrypted with SubtleCrypto)    â”‚  â”‚
â”‚   â”‚      â€¢ Keys NEVER sent to our servers                               â”‚  â”‚
â”‚   â”‚      â€¢ Direct browser â†’ AI provider communication                   â”‚  â”‚
â”‚   â”‚      â€¢ User responsible for their own API key security              â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   3. FILE SYSTEM ACCESS                                             â”‚  â”‚
â”‚   â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                        â”‚  â”‚
â”‚   â”‚      â€¢ Uses File System Access API (permission-gated)               â”‚  â”‚
â”‚   â”‚      â€¢ User must explicitly grant folder access                     â”‚  â”‚
â”‚   â”‚      â€¢ Permissions don't persist across sessions by default         â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   4. CONTENT SECURITY POLICY                                        â”‚  â”‚
â”‚   â”‚      â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                     â”‚  â”‚
â”‚   â”‚      â€¢ Strict CSP headers in production                             â”‚  â”‚
â”‚   â”‚      â€¢ No inline scripts                                            â”‚  â”‚
â”‚   â”‚      â€¢ Limited external resource loading                            â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                              â”‚
â”‚   ğŸ“¦ DEPLOYMENT                                                             â”‚
â”‚                                                                              â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   PRIMARY: Vercel                                                   â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                              â”‚  â”‚
â”‚   â”‚   â€¢ Zero-config deployment                                          â”‚  â”‚
â”‚   â”‚   â€¢ Global CDN                                                      â”‚  â”‚
â”‚   â”‚   â€¢ Automatic HTTPS                                                 â”‚  â”‚
â”‚   â”‚   â€¢ Preview deployments for PRs                                     â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   ALTERNATIVE: Cloudflare Pages                                     â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                      â”‚  â”‚
â”‚   â”‚   â€¢ Even faster edge network                                        â”‚  â”‚
â”‚   â”‚   â€¢ Free tier generous                                              â”‚  â”‚
â”‚   â”‚   â€¢ Good for static sites                                           â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â”‚   CI/CD: GitHub Actions                                             â”‚  â”‚
â”‚   â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                          â”‚  â”‚
â”‚   â”‚   â€¢ Lint â†’ Test â†’ Build â†’ Deploy                                    â”‚  â”‚
â”‚   â”‚   â€¢ Lighthouse CI for performance regression                        â”‚  â”‚
â”‚   â”‚   â€¢ Auto-deploy on main branch                                      â”‚  â”‚
â”‚   â”‚                                                                      â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“‹ Summary

| Category | Choice | Justification |
|----------|--------|---------------|
| **Framework** | React 19 + TypeScript | Ecosystem, shadcn/ui support |
| **Styling** | Tailwind v4 + shadcn/ui | Rapid development, accessible |
| **State** | Zustand | Simple, performant, TypeScript |
| **Build** | Vite | Fast DX, optimized bundles |
| **Testing** | Vitest + Playwright | Fast unit tests, E2E coverage |
| **Deployment** | Vercel | Zero-config, global CDN |
| **Package Manager** | pnpm | Fast, disk efficient |

---

*Tech Stack Document v1.0*
*Created: 2026-01-20*
*Architecture: Client-Side SPA*
