# üîç Code Review - 12/9/2025, 9:09:07 AM

**Project:** AI Visual Code Review
**Generated by:** AI Visual Code Review v2.0

## üìä Change Summary

```
AI_REVIEW.md | 1031 +++++++++++-----------------------------------------------
 script.js    |  156 ++++++---
 2 files changed, 289 insertions(+), 898 deletions(-)
```

## üìù Files Changed (2/2 selected)


### üìÑ `AI_REVIEW.md`

**Type:** Documentation üìñ

```diff
@@ -1,4 +1,4 @@
  1     -# üîç Code Review - 12/9/2025, 7:37:02 AM
      1 +# üîç Code Review - 12/9/2025, 7:46:25 AM
  2   2  
  3   3  **Project:** AI Visual Code Review
  4   4  **Generated by:** AI Visual Code Review v2.0
@@ -6,759 +6,61 @@
  6   6  ## üìä Change Summary
  7   7  
  8   8  ```
  9     -AI_REVIEW.md      | 107 ++++++++++---
 10     - package-lock.json | 444 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 11     - package.json      |   1 +
 12     - script.js         |  39 +++--
 13     - vite.config.js    |   9 +-
 14     - 5 files changed, 555 insertions(+), 45 deletions(-)
      9 +codebase_audit/future_enhancements_roadmap.md |  6 +++
     10 + index.html                                    |  8 ++-
     11 + script.js                                     | 25 ++++++++++
     12 + style.css                                     | 70 +++++++++++++++++++++++++--
     13 + 4 files changed, 103 insertions(+), 6 deletions(-)
 15  14  ```
 16  15  
 17     -## üìù Files Changed (5/5 selected)
     16 +## üìù Files Changed (4/4 selected)
 18  17  
 19  18  
 20     -### üìÑ `AI_REVIEW.md`
     19 +### üìÑ `codebase_audit/future_enhancements_roadmap.md`
 21  20  
 22  21  **Type:** Documentation üìñ
 23  22  
 24  23  ```diff
 25     -@@ -1,4 +1,4 @@
 26     -  1     -# üîç Code Review - 12/9/2025, 7:27:41 AM
 27     -      1 +# üîç Code Review - 12/9/2025, 7:32:58 AM
 28     -  2   2  
 29     -  3   3  **Project:** AI Visual Code Review
 30     -  4   4  **Generated by:** AI Visual Code Review v2.0
 31     -@@ -6,12 +6,13 @@
 32     -  6   6  ## üìä Change Summary
 33     -  7   7  
 34     -  8   8  ```
 35     -  9     -AI_REVIEW.md | 18009 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
 36     - 10     - script.js    |     5 +-
 37     - 11     - 2 files changed, 15932 insertions(+), 2082 deletions(-)
 38     -      9 +AI_REVIEW.md | 15943 +--------------------------------------------------------
 39     -     10 + script.js    |    14 +-
 40     -     11 + style.css    |     2 +-
 41     -     12 + 3 files changed, 32 insertions(+), 15927 deletions(-)
 42     - 12  13  ```
 43     - 13  14  
 44     - 14     -## üìù Files Changed (2/2 selected)
 45     -     15 +## üìù Files Changed (3/3 selected)
 46     - 15  16  
 47     - 16  17  
 48     - 17  18  ### üìÑ `AI_REVIEW.md`
 49     -@@ -26,21 +27,85 @@ AI_REVIEW.md | 18009 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
 50     - 26  27  **Type:** JavaScript Source File üü®
 51     - 27  28  
 52     - 28  29  ```diff
 53     - 29     -@@ -199,10 +199,11 @@ function configureMarkedExtensions() {
 54     - 30     -199 199          name: 'mathEnvironment',
 55     - 31     -200 200          level: 'block',
 56     - 32     -201 201          start(src) {
 57     - 33     -202     -          return src.match(/^\\begin/)?.index;
 58     - 34     -    202 +          // Allow whitespace before \begin
 59     - 35     -    203 +          return src.match(/^\s*\\begin/)?.[0]?.length ? src.search(/\S/) : undefined;
 60     - 36     -203 204          },
 61     - 37     -204 205          tokenizer(src) {
 62     - 38     -205     -          const match = src.match(/^(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
 63     - 39     -    206 +          const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
 64     - 40     -206 207            if (match) {
 65     - 41     -207 208              return {
 66     - 42     -208 209                type: 'mathEnvironment',
 67     - 43     -209 210  
 68     -     30 +@@ -10,10 +10,13 @@ import markedFootnote from 'marked-footnote';
 69     -     31 + 10  10  import mermaid from 'mermaid';
 70     -     32 + 11  11  import Prism from 'prismjs';
 71     -     33 + 12  12  import 'prismjs/components/prism-bash';
 72     -     34 +     13 +import 'prismjs/components/prism-batch';
 73     -     35 + 13  14  import 'prismjs/components/prism-c';
 74     -     36 + 14  15  import 'prismjs/components/prism-cpp';
 75     -     37 + 15  16  import 'prismjs/components/prism-css';
 76     -     38 +     17 +import 'prismjs/components/prism-diff';
 77     -     39 + 16  18  import 'prismjs/components/prism-go';
 78     -     40 +     19 +import 'prismjs/components/prism-ini';
 79     -     41 + 17  20  import 'prismjs/components/prism-java';
 80     -     42 + 18  21  import 'prismjs/components/prism-javascript';
 81     -     43 + 19  22  import 'prismjs/components/prism-json';
 82     -     44 +@@ -200,15 +203,16 @@ function configureMarkedExtensions() {
 83     -     45 +200 203          level: 'block',
 84     -     46 +201 204          start(src) {
 85     -     47 +202 205            // Allow whitespace before \begin
 86     -     48 +203     -          return src.match(/^\s*\\begin/)?.[0]?.length ? src.search(/\S/) : undefined;
 87     -     49 +    206 +          return src.match(/^\s*\\begin/)?.index;
 88     -     50 +204 207          },
 89     -     51 +205 208          tokenizer(src) {
 90     -     52 +    209 +          // Robust regex for LaTeX environments
 91     -     53 +206 210            const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
 92     -     54 +207 211            if (match) {
 93     -     55 +208 212              return {
 94     -     56 +209 213                type: 'mathEnvironment',
 95     -     57 +210 214                raw: match[0],
 96     -     58 +211     -              text: match[1], // Capture the inner content or full block? KaTeX needs full block for environments
 97     -     59 +    215 +              text: match[1],
 98     -     60 +212 216              };
 99     -     61 +213 217            }
100     -     62 +214 218          },
101     -     63 +@@ -518,13 +522,15 @@ graph TD
102     -     64 +518 522        let html = marked.parse(markdownText);
103     -     65 +519 523  
104     -     66 +520 524        // Replace mermaid code blocks with placeholders
105     -     67 +    525 +      // Use 'mermaid-diagram' class to avoid auto-rendering conflicts
106     -     68 +521 526        html = html.replace(
107     -     69 +522 527          /<pre><code class="language-mermaid">([\s\S]*?)<\/code><\/pre>/g,
108     -     70 +523 528          (match, code) => {
109     -     71 +    529 +          // Decode HTML entities before passing to Mermaid
110     -     72 +524 530            const decodedCode = decodeHtmlEntities(code);
111     -     73 +525 531            const id = 'mermaid-' + Math.random().toString(36).substr(2, 9);
112     -     74 +526 532            // Return placeholder div
113     -     75 +527     -          return `<div class="mermaid" id="${id}" data-code="${encodeURIComponent(decodedCode)}">${code}</div>`;
114     -     76 +    533 +          return `<div class="mermaid-diagram" id="${id}" data-code="${encodeURIComponent(decodedCode)}">${code}</div>`;
115     -     77 +528 534          }
116     -     78 +529 535        );
117     -     79 +530 536  
118     -     80 +@@ -538,7 +544,7 @@ graph TD
119     -     81 +538 544        preview.innerHTML = cleanHtml;
120     -     82 +539 545  
121     -     83 +540 546        // Render Mermaid diagrams synchronously after DOM update
122     -     84 +541     -      const mermaidElements = preview.querySelectorAll('.mermaid');
123     -     85 +    547 +      const mermaidElements = preview.querySelectorAll('.mermaid-diagram');
124     -     86 +542 548        mermaidElements.forEach(element => {
125     -     87 +543 549          const id = element.id;
126     -     88 +544 550          const code = decodeURIComponent(element.dataset.code);
127     -     89 +545 551  
128     -     90 +
129     -     91 +```
130     -     92 +
131     -     93 +
132     -     94 +### üìÑ `style.css`
133     -     95 +
134     -     96 +**Type:** Stylesheet üé®
135     -     97 +
136     -     98 +```diff
137     -     99 +@@ -630,7 +630,7 @@ body {
138     -    100 +630 630  }
139     -    101 +631 631  
140     -    102 +632 632  /* ==================== MERMAID DIAGRAMS ==================== */
141     -    103 +633     -.mermaid {
142     -    104 +    633 +.mermaid-diagram {
143     -    105 +634 634    margin: 2em 0;
144     -    106 +635 635    display: flex;
145     -    107 +636 636    justify-content: center;
146     -    108 +637 637  
147     - 44 109  
148     - 45 110  ```
149     - 46 111  
150     -@@ -86,4 +151,4 @@ Please provide specific feedback on:
151     - 86 151  
152     - 87 152  ---
153     - 88 153  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
154     - 89     -*Files processed: 1/2 | Errors: 1 | Generated: 2025-12-09T01:57:41.998Z*
155     -    154 +*Files processed: 2/3 | Errors: 1 | Generated: 2025-12-09T02:02:58.836Z*
156     - 90 155  
     24 +@@ -4,6 +4,12 @@ This document outlines the strategic roadmap to transform the `markdown-viewer-a
     25 +  4   4  
     26 +  5   5  ---
     27 +  6   6  
     28 +      7 +## ‚úÖ Completed Enhancements (Phase 1.5 Polish)
     29 +      8 +*   **UI/UX:** Implemented Glassmorphism transparency on Toolbar and Modals (`color-mix` + `backdrop-filter`).
     30 +      9 +*   **Mobile Experience:** Added "Mobile Tabs" (Edit/Preview toggle) to replace awkward vertical stacking.
     31 +     10 +*   **Animations:** Added subtle keyframe animations for Modals and Fade-ins.
     32 +     11 +*   **Syntax Highlighting:** Fully future-proofed with `vite-plugin-prismjs`.
     33 +     12 +
     34 +  7  13  ## üèóÔ∏è Phase 1: Robust Application Architecture (Modernization)
     35 +  8  14  
     36 +  9  15  To support enterprise scale, we must move beyond the "Vanilla JS" constraints suitable for prototypes and adopt a robust, type-safe ecosystem.
     37 + 10  16  
157  38  
158  39  ```
159  40  
160  41  
161     -### üìÑ `package-lock.json`
     42 +### üìÑ `index.html`
162  43  
163     -**Type:** Configuration/Data File üìã
     44 +**Type:** HTML Template üåê
164  45  
165  46  ```diff
166     -@@ -26,6 +26,7 @@
167     - 26  26          "prettier": "3.6.2",
168     - 27  27          "typescript": "5.9.3",
169     - 28  28          "vite": "7.2.2",
170     -     29 +        "vite-plugin-prismjs": "0.0.11",
171     - 29  30          "vitest": "4.0.8"
172     - 30  31        }
173     - 31  32      },
174     -@@ -93,6 +94,175 @@
175     - 93  94        "dev": true,
176     - 94  95        "license": "MIT"
177     - 95  96      },
178     -     97 +    "node_modules/@babel/code-frame": {
179     -     98 +      "version": "7.27.1",
180     -     99 +      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
181     -    100 +      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
182     -    101 +      "dev": true,
183     -    102 +      "license": "MIT",
184     -    103 +      "dependencies": {
185     -    104 +        "@babel/helper-validator-identifier": "^7.27.1",
186     -    105 +        "js-tokens": "^4.0.0",
187     -    106 +        "picocolors": "^1.1.1"
188     -    107 +      },
189     -    108 +      "engines": {
190     -    109 +        "node": ">=6.9.0"
191     -    110 +      }
192     -    111 +    },
193     -    112 +    "node_modules/@babel/code-frame/node_modules/js-tokens": {
194     -    113 +      "version": "4.0.0",
195     -    114 +      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
196     -    115 +      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
197     -    116 +      "dev": true,
198     -    117 +      "license": "MIT"
199     -    118 +    },
200     -    119 +    "node_modules/@babel/compat-data": {
201     -    120 +      "version": "7.28.5",
202     -    121 +      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
203     -    122 +      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
204     -    123 +      "dev": true,
205     -    124 +      "license": "MIT",
206     -    125 +      "engines": {
207     -    126 +        "node": ">=6.9.0"
208     -    127 +      }
209     -    128 +    },
210     -    129 +    "node_modules/@babel/core": {
211     -    130 +      "version": "7.28.5",
212     -    131 +      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
213     -    132 +      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
214     -    133 +      "dev": true,
215     -    134 +      "license": "MIT",
216     -    135 +      "dependencies": {
217     -    136 +        "@babel/code-frame": "^7.27.1",
218     -    137 +        "@babel/generator": "^7.28.5",
219     -    138 +        "@babel/helper-compilation-targets": "^7.27.2",
220     -    139 +        "@babel/helper-module-transforms": "^7.28.3",
221     -    140 +        "@babel/helpers": "^7.28.4",
222     -    141 +        "@babel/parser": "^7.28.5",
223     -    142 +        "@babel/template": "^7.27.2",
224     -    143 +        "@babel/traverse": "^7.28.5",
225     -    144 +        "@babel/types": "^7.28.5",
226     -    145 +        "@jridgewell/remapping": "^2.3.5",
227     -    146 +        "convert-source-map": "^2.0.0",
228     -    147 +        "debug": "^4.1.0",
229     -    148 +        "gensync": "^1.0.0-beta.2",
230     -    149 +        "json5": "^2.2.3",
231     -    150 +        "semver": "^6.3.1"
232     -    151 +      },
233     -    152 +      "engines": {
234     -    153 +        "node": ">=6.9.0"
235     -    154 +      },
236     -    155 +      "funding": {
237     -    156 +        "type": "opencollective",
238     -    157 +        "url": "https://opencollective.com/babel"
239     -    158 +      }
240     -    159 +    },
241     -    160 +    "node_modules/@babel/core/node_modules/semver": {
242     -    161 +      "version": "6.3.1",
243     -    162 +      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
244     -    163 +      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
245     -    164 +      "dev": true,
246     -    165 +      "license": "ISC",
247     -    166 +      "bin": {
248     -    167 +        "semver": "bin/semver.js"
249     -    168 +      }
250     -    169 +    },
251     -    170 +    "node_modules/@babel/generator": {
252     -    171 +      "version": "7.28.5",
253     -    172 +      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
254     -    173 +      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
255     -    174 +      "dev": true,
256     -    175 +      "license": "MIT",
257     -    176 +      "dependencies": {
258     -    177 +        "@babel/parser": "^7.28.5",
259     -    178 +        "@babel/types": "^7.28.5",
260     -    179 +        "@jridgewell/gen-mapping": "^0.3.12",
261     -    180 +        "@jridgewell/trace-mapping": "^0.3.28",
262     -    181 +        "jsesc": "^3.0.2"
263     -    182 +      },
264     -    183 +      "engines": {
265     -    184 +        "node": ">=6.9.0"
266     -    185 +      }
267     -    186 +    },
268     -    187 +    "node_modules/@babel/helper-compilation-targets": {
269     -    188 +      "version": "7.27.2",
270     -    189 +      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
271     -    190 +      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
272     -    191 +      "dev": true,
273     -    192 +      "license": "MIT",
274     -    193 +      "dependencies": {
275     -    194 +        "@babel/compat-data": "^7.27.2",
276     -    195 +        "@babel/helper-validator-option": "^7.27.1",
277     -    196 +        "browserslist": "^4.24.0",
278     -    197 +        "lru-cache": "^5.1.1",
279     -    198 +        "semver": "^6.3.1"
280     -    199 +      },
281     -    200 +      "engines": {
282     -    201 +        "node": ">=6.9.0"
283     -    202 +      }
284     -    203 +    },
285     -    204 +    "node_modules/@babel/helper-compilation-targets/node_modules/lru-cache": {
286     -    205 +      "version": "5.1.1",
287     -    206 +      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
288     -    207 +      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
289     -    208 +      "dev": true,
290     -    209 +      "license": "ISC",
291     -    210 +      "dependencies": {
292     -    211 +        "yallist": "^3.0.2"
293     -    212 +      }
294     -    213 +    },
295     -    214 +    "node_modules/@babel/helper-compilation-targets/node_modules/semver": {
296     -    215 +      "version": "6.3.1",
297     -    216 +      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
298     -    217 +      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
299     -    218 +      "dev": true,
300     -    219 +      "license": "ISC",
301     -    220 +      "bin": {
302     -    221 +        "semver": "bin/semver.js"
303     -    222 +      }
304     -    223 +    },
305     -    224 +    "node_modules/@babel/helper-globals": {
306     -    225 +      "version": "7.28.0",
307     -    226 +      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
308     -    227 +      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
309     -    228 +      "dev": true,
310     -    229 +      "license": "MIT",
311     -    230 +      "engines": {
312     -    231 +        "node": ">=6.9.0"
313     -    232 +      }
314     -    233 +    },
315     -    234 +    "node_modules/@babel/helper-module-imports": {
316     -    235 +      "version": "7.27.1",
317     -    236 +      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
318     -    237 +      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
319     -    238 +      "dev": true,
320     -    239 +      "license": "MIT",
321     -    240 +      "dependencies": {
322     -    241 +        "@babel/traverse": "^7.27.1",
323     -    242 +        "@babel/types": "^7.27.1"
324     -    243 +      },
325     -    244 +      "engines": {
326     -    245 +        "node": ">=6.9.0"
327     -    246 +      }
328     -    247 +    },
329     -    248 +    "node_modules/@babel/helper-module-transforms": {
330     -    249 +      "version": "7.28.3",
331     -    250 +      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
332     -    251 +      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
333     -    252 +      "dev": true,
334     -    253 +      "license": "MIT",
335     -    254 +      "dependencies": {
336     -    255 +        "@babel/helper-module-imports": "^7.27.1",
337     -    256 +        "@babel/helper-validator-identifier": "^7.27.1",
338     -    257 +        "@babel/traverse": "^7.28.3"
339     -    258 +      },
340     -    259 +      "engines": {
341     -    260 +        "node": ">=6.9.0"
342     -    261 +      },
343     -    262 +      "peerDependencies": {
344     -    263 +        "@babel/core": "^7.0.0"
345     -    264 +      }
346     -    265 +    },
347     - 96 266      "node_modules/@babel/helper-string-parser": {
348     - 97 267        "version": "7.27.1",
349     - 98 268        "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
350     -@@ -113,6 +283,30 @@
351     -113 283          "node": ">=6.9.0"
352     -114 284        }
353     -115 285      },
354     -    286 +    "node_modules/@babel/helper-validator-option": {
355     -    287 +      "version": "7.27.1",
356     -    288 +      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
357     -    289 +      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
358     -    290 +      "dev": true,
359     -    291 +      "license": "MIT",
360     -    292 +      "engines": {
361     -    293 +        "node": ">=6.9.0"
362     -    294 +      }
363     -    295 +    },
364     -    296 +    "node_modules/@babel/helpers": {
365     -    297 +      "version": "7.28.4",
366     -    298 +      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
367     -    299 +      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
368     -    300 +      "dev": true,
369     -    301 +      "license": "MIT",
370     -    302 +      "dependencies": {
371     -    303 +        "@babel/template": "^7.27.2",
372     -    304 +        "@babel/types": "^7.28.4"
373     -    305 +      },
374     -    306 +      "engines": {
375     -    307 +        "node": ">=6.9.0"
376     -    308 +      }
377     -    309 +    },
378     -116 310      "node_modules/@babel/parser": {
379     -117 311        "version": "7.28.5",
380     -118 312        "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
381     -@@ -138,6 +332,40 @@
382     -138 332          "node": ">=6.9.0"
383     -139 333        }
384     -140 334      },
385     -    335 +    "node_modules/@babel/template": {
386     -    336 +      "version": "7.27.2",
387     -    337 +      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
388     -    338 +      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
389     -    339 +      "dev": true,
390     -    340 +      "license": "MIT",
391     -    341 +      "dependencies": {
392     -    342 +        "@babel/code-frame": "^7.27.1",
393     -    343 +        "@babel/parser": "^7.27.2",
394     -    344 +        "@babel/types": "^7.27.1"
395     -    345 +      },
396     -    346 +      "engines": {
397     -    347 +        "node": ">=6.9.0"
398     -    348 +      }
399     -    349 +    },
400     -    350 +    "node_modules/@babel/traverse": {
401     -    351 +      "version": "7.28.5",
402     -    352 +      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
403     -    353 +      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
404     -    354 +      "dev": true,
405     -    355 +      "license": "MIT",
406     -    356 +      "dependencies": {
407     -    357 +        "@babel/code-frame": "^7.27.1",
408     -    358 +        "@babel/generator": "^7.28.5",
409     -    359 +        "@babel/helper-globals": "^7.28.0",
410     -    360 +        "@babel/parser": "^7.28.5",
411     -    361 +        "@babel/template": "^7.27.2",
412     -    362 +        "@babel/types": "^7.28.5",
413     -    363 +        "debug": "^4.3.1"
414     -    364 +      },
415     -    365 +      "engines": {
416     -    366 +        "node": ">=6.9.0"
417     -    367 +      }
418     -    368 +    },
419     -141 369      "node_modules/@babel/types": {
420     -142 370        "version": "7.28.5",
421     -143 371        "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
422     -@@ -997,6 +1225,28 @@
423     -997 1225          "mlly": "^1.8.0"
424     -998 1226        }
425     -999 1227      },
426     -    1228 +    "node_modules/@jridgewell/gen-mapping": {
427     -    1229 +      "version": "0.3.13",
428     -    1230 +      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
429     -    1231 +      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
430     -    1232 +      "dev": true,
431     -    1233 +      "license": "MIT",
432     -    1234 +      "dependencies": {
433     -    1235 +        "@jridgewell/sourcemap-codec": "^1.5.0",
434     -    1236 +        "@jridgewell/trace-mapping": "^0.3.24"
435     -    1237 +      }
436     -    1238 +    },
437     -    1239 +    "node_modules/@jridgewell/remapping": {
438     -    1240 +      "version": "2.3.5",
439     -    1241 +      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
440     -    1242 +      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
441     -    1243 +      "dev": true,
442     -    1244 +      "license": "MIT",
443     -    1245 +      "dependencies": {
444     -    1246 +        "@jridgewell/gen-mapping": "^0.3.5",
445     -    1247 +        "@jridgewell/trace-mapping": "^0.3.24"
446     -    1248 +      }
447     -    1249 +    },
448     -1000 1250      "node_modules/@jridgewell/resolve-uri": {
449     -1001 1251        "version": "3.1.2",
450     -1002 1252        "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
451     -@@ -1965,6 +2215,16 @@
452     -1965 2215          "js-tokens": "^9.0.1"
453     -1966 2216        }
454     -1967 2217      },
455     -    2218 +    "node_modules/babel-plugin-prismjs": {
456     -    2219 +      "version": "2.1.0",
457     -    2220 +      "resolved": "https://registry.npmjs.org/babel-plugin-prismjs/-/babel-plugin-prismjs-2.1.0.tgz",
458     -    2221 +      "integrity": "sha512-ehzSKYfeAz4U78zi/sfwsjDPlq0LvDKxNefcZTJ/iKBu+plsHsLqZhUeGf1+82LAcA35UZGbU6ksEx2Utphc/g==",
459     -    2222 +      "dev": true,
460     -    2223 +      "license": "MIT",
461     -    2224 +      "peerDependencies": {
462     -    2225 +        "prismjs": "^1.18.0"
463     -    2226 +      }
464     -    2227 +    },
465     -1968 2228      "node_modules/balanced-match": {
466     -1969 2229        "version": "1.0.2",
467     -1970 2230        "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
468     -@@ -1981,6 +2241,16 @@
469     -1981 2241          "node": ">= 0.6.0"
470     -1982 2242        }
471     -1983 2243      },
472     -    2244 +    "node_modules/baseline-browser-mapping": {
473     -    2245 +      "version": "2.9.5",
474     -    2246 +      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.5.tgz",
475     -    2247 +      "integrity": "sha512-D5vIoztZOq1XM54LUdttJVc96ggEsIfju2JBvht06pSzpckp3C7HReun67Bghzrtdsq9XdMGbSSB3v3GhMNmAA==",
476     -    2248 +      "dev": true,
477     -    2249 +      "license": "Apache-2.0",
478     -    2250 +      "bin": {
479     -    2251 +        "baseline-browser-mapping": "dist/cli.js"
480     -    2252 +      }
481     -    2253 +    },
482     -1984 2254      "node_modules/bidi-js": {
483     -1985 2255        "version": "1.0.3",
484     -1986 2256        "resolved": "https://registry.npmjs.org/bidi-js/-/bidi-js-1.0.3.tgz",
485     -@@ -2057,6 +2327,40 @@
486     -2057 2327          "concat-map": "0.0.1"
487     -2058 2328        }
488     -2059 2329      },
489     -    2330 +    "node_modules/browserslist": {
490     -    2331 +      "version": "4.28.1",
491     -    2332 +      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
492     -    2333 +      "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
493     -    2334 +      "dev": true,
494     -    2335 +      "funding": [
495     -    2336 +        {
496     -    2337 +          "type": "opencollective",
497     -    2338 +          "url": "https://opencollective.com/browserslist"
498     -    2339 +        },
499     -    2340 +        {
500     -    2341 +          "type": "tidelift",
501     -    2342 +          "url": "https://tidelift.com/funding/github/npm/browserslist"
502     -    2343 +        },
503     -    2344 +        {
504     -    2345 +          "type": "github",
505     -    2346 +          "url": "https://github.com/sponsors/ai"
506     -    2347 +        }
507     -    2348 +      ],
508     -    2349 +      "license": "MIT",
509     -    2350 +      "dependencies": {
510     -    2351 +        "baseline-browser-mapping": "^2.9.0",
511     -    2352 +        "caniuse-lite": "^1.0.30001759",
512     -    2353 +        "electron-to-chromium": "^1.5.263",
513     -    2354 +        "node-releases": "^2.0.27",
514     -    2355 +        "update-browserslist-db": "^1.2.0"
515     -    2356 +      },
516     -    2357 +      "bin": {
517     -    2358 +        "browserslist": "cli.js"
518     -    2359 +      },
519     -    2360 +      "engines": {
520     -    2361 +        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
521     -    2362 +      }
522     -    2363 +    },
523     -2060 2364      "node_modules/bytes": {
524     -2061 2365        "version": "3.1.2",
525     -2062 2366        "resolved": "https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz",
526     -@@ -2108,6 +2412,27 @@
527     -2108 2412          "node": ">=6"
528     -2109 2413        }
529     -2110 2414      },
530     -    2415 +    "node_modules/caniuse-lite": {
531     -    2416 +      "version": "1.0.30001759",
532     -    2417 +      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001759.tgz",
533     -    2418 +      "integrity": "sha512-Pzfx9fOKoKvevQf8oCXoyNRQ5QyxJj+3O0Rqx2V5oxT61KGx8+n6hV/IUyJeifUci2clnmmKVpvtiqRzgiWjSw==",
534     -    2419 +      "dev": true,
535     -    2420 +      "funding": [
536     -    2421 +        {
537     -    2422 +          "type": "opencollective",
538     -    2423 +          "url": "https://opencollective.com/browserslist"
539     -    2424 +        },
540     -    2425 +        {
541     -    2426 +          "type": "tidelift",
542     -    2427 +          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
543     -    2428 +        },
544     -    2429 +        {
545     -    2430 +          "type": "github",
546     -    2431 +          "url": "https://github.com/sponsors/ai"
547     -    2432 +        }
548     -    2433 +      ],
549     -    2434 +      "license": "CC-BY-4.0"
550     -    2435 +    },
551     -2111 2436      "node_modules/canvg": {
552     -2112 2437        "version": "3.0.11",
553     -2113 2438        "resolved": "https://registry.npmjs.org/canvg/-/canvg-3.0.11.tgz",
554     -@@ -2246,6 +2571,13 @@
555     -2246 2571          "node": ">= 0.6"
556     -2247 2572        }
557     -2248 2573      },
558     -    2574 +    "node_modules/convert-source-map": {
559     -    2575 +      "version": "2.0.0",
560     -    2576 +      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
561     -    2577 +      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
562     -    2578 +      "dev": true,
563     -    2579 +      "license": "MIT"
564     -    2580 +    },
565     -2249 2581      "node_modules/cookie": {
566     -2250 2582        "version": "0.7.1",
567     -2251 2583        "resolved": "https://registry.npmjs.org/cookie/-/cookie-0.7.1.tgz",
568     -@@ -2972,6 +3304,13 @@
569     -2972 3304        "dev": true,
570     -2973 3305        "license": "MIT"
571     -2974 3306      },
572     -    3307 +    "node_modules/electron-to-chromium": {
573     -    3308 +      "version": "1.5.267",
574     -    3309 +      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
575     -    3310 +      "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
576     -    3311 +      "dev": true,
577     -    3312 +      "license": "ISC"
578     -    3313 +    },
579     -2975 3314      "node_modules/encodeurl": {
580     -2976 3315        "version": "2.0.0",
581     -2977 3316        "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
582     -@@ -3077,6 +3416,16 @@
583     -3077 3416          "@esbuild/win32-x64": "0.25.12"
584     -3078 3417        }
585     -3079 3418      },
586     -    3419 +    "node_modules/escalade": {
587     -    3420 +      "version": "3.2.0",
588     -    3421 +      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
589     -    3422 +      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
590     -    3423 +      "dev": true,
591     -    3424 +      "license": "MIT",
592     -    3425 +      "engines": {
593     -    3426 +        "node": ">=6"
594     -    3427 +      }
595     -    3428 +    },
596     -3080 3429      "node_modules/escape-html": {
597     -3081 3430        "version": "1.0.3",
598     -3082 3431        "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
599     -@@ -3533,6 +3882,16 @@
600     -3533 3882          "url": "https://github.com/sponsors/ljharb"
601     -3534 3883        }
602     -3535 3884      },
603     -    3885 +    "node_modules/gensync": {
604     -    3886 +      "version": "1.0.0-beta.2",
605     -    3887 +      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
606     -    3888 +      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
607     -    3889 +      "dev": true,
608     -    3890 +      "license": "MIT",
609     -    3891 +      "engines": {
610     -    3892 +        "node": ">=6.9.0"
611     -    3893 +      }
612     -    3894 +    },
613     -3536 3895      "node_modules/get-intrinsic": {
614     -3537 3896        "version": "1.3.0",
615     -3538 3897        "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
616     -@@ -3973,6 +4332,19 @@
617     -3973 4332          }
618     -3974 4333        }
619     -3975 4334      },
620     -    4335 +    "node_modules/jsesc": {
621     -    4336 +      "version": "3.1.0",
622     -    4337 +      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
623     -    4338 +      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
624     -    4339 +      "dev": true,
625     -    4340 +      "license": "MIT",
626     -    4341 +      "bin": {
627     -    4342 +        "jsesc": "bin/jsesc"
628     -    4343 +      },
629     -    4344 +      "engines": {
630     -    4345 +        "node": ">=6"
631     -    4346 +      }
632     -    4347 +    },
633     -3976 4348      "node_modules/json-buffer": {
634     -3977 4349        "version": "3.0.1",
635     -3978 4350        "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
636     -@@ -3994,6 +4366,19 @@
637     -3994 4366        "dev": true,
638     -3995 4367        "license": "MIT"
639     -3996 4368      },
640     -    4369 +    "node_modules/json5": {
641     -    4370 +      "version": "2.2.3",
642     -    4371 +      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
643     -    4372 +      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
644     -    4373 +      "dev": true,
645     -    4374 +      "license": "MIT",
646     -    4375 +      "bin": {
647     -    4376 +        "json5": "lib/cli.js"
648     -    4377 +      },
649     -    4378 +      "engines": {
650     -    4379 +        "node": ">=6"
651     -    4380 +      }
652     -    4381 +    },
653     -3997 4382      "node_modules/jspdf": {
654     -3998 4383        "version": "3.0.4",
655     -3999 4384        "resolved": "https://registry.npmjs.org/jspdf/-/jspdf-3.0.4.tgz",
656     -@@ -4377,6 +4762,13 @@
657     -4377 4762          "node": ">= 0.6"
658     -4378 4763        }
659     -4379 4764      },
660     -    4765 +    "node_modules/node-releases": {
661     -    4766 +      "version": "2.0.27",
662     -    4767 +      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
663     -    4768 +      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
664     -    4769 +      "dev": true,
665     -    4770 +      "license": "MIT"
666     -    4771 +    },
667     -4380 4772      "node_modules/object-assign": {
668     -4381 4773        "version": "4.1.1",
669     -4382 4774        "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
670     -@@ -5384,6 +5776,37 @@
671     -5384 5776          "node": ">= 0.8"
672     -5385 5777        }
673     -5386 5778      },
674     -    5779 +    "node_modules/update-browserslist-db": {
675     -    5780 +      "version": "1.2.2",
676     -    5781 +      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.2.tgz",
677     -    5782 +      "integrity": "sha512-E85pfNzMQ9jpKkA7+TJAi4TJN+tBCuWh5rUcS/sv6cFi+1q9LYDwDI5dpUL0u/73EElyQ8d3TEaeW4sPedBqYA==",
678     -    5783 +      "dev": true,
679     -    5784 +      "funding": [
680     -    5785 +        {
681     -    5786 +          "type": "opencollective",
682     -    5787 +          "url": "https://opencollective.com/browserslist"
683     -    5788 +        },
684     -    5789 +        {
685     -    5790 +          "type": "tidelift",
686     -    5791 +          "url": "https://tidelift.com/funding/github/npm/browserslist"
687     -    5792 +        },
688     -    5793 +        {
689     -    5794 +          "type": "github",
690     -    5795 +          "url": "https://github.com/sponsors/ai"
691     -    5796 +        }
692     -    5797 +      ],
693     -    5798 +      "license": "MIT",
694     -    5799 +      "dependencies": {
695     -    5800 +        "escalade": "^3.2.0",
696     -    5801 +        "picocolors": "^1.1.1"
697     -    5802 +      },
698     -    5803 +      "bin": {
699     -    5804 +        "update-browserslist-db": "cli.js"
700     -    5805 +      },
701     -    5806 +      "peerDependencies": {
702     -    5807 +        "browserslist": ">= 4.21.0"
703     -    5808 +      }
704     -    5809 +    },
705     -5387 5810      "node_modules/uri-js": {
706     -5388 5811        "version": "4.4.1",
707     -5389 5812        "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
708     -@@ -5511,6 +5934,20 @@
709     -5511 5934          }
710     -5512 5935        }
711     -5513 5936      },
712     -    5937 +    "node_modules/vite-plugin-prismjs": {
713     -    5938 +      "version": "0.0.11",
714     -    5939 +      "resolved": "https://registry.npmjs.org/vite-plugin-prismjs/-/vite-plugin-prismjs-0.0.11.tgz",
715     -    5940 +      "integrity": "sha512-20NBQxg/zH+3FTrlU6BQTob720xkuXNYtrx7psAQ4E6pMcRDeLEK77QU9kXURU587+f2To7ASH1JVTGbXVV/vQ==",
716     -    5941 +      "dev": true,
717     -    5942 +      "license": "MIT",
718     -    5943 +      "dependencies": {
719     -    5944 +        "@babel/core": "^7.15.5",
720     -    5945 +        "babel-plugin-prismjs": "^2.1.0"
721     -    5946 +      },
722     -    5947 +      "engines": {
723     -    5948 +        "node": ">=12.0.0"
724     -    5949 +      }
725     -    5950 +    },
726     -5514 5951      "node_modules/vitest": {
727     -5515 5952        "version": "4.0.8",
728     -5516 5953        "resolved": "https://registry.npmjs.org/vitest/-/vitest-4.0.8.tgz",
729     -@@ -5780,6 +6217,13 @@
730     -5780 6217        "dev": true,
731     -5781 6218        "license": "MIT"
732     -5782 6219      },
733     -    6220 +    "node_modules/yallist": {
734     -    6221 +      "version": "3.1.1",
735     -    6222 +      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
736     -    6223 +      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
737     -    6224 +      "dev": true,
738     -    6225 +      "license": "ISC"
739     -    6226 +    },
740     -5783 6227      "node_modules/yocto-queue": {
741     -5784 6228        "version": "0.1.0",
742     -5785 6229        "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
743     -5786 6230  
744     -
745     -```
746     -
747     -
748     -### üìÑ `package.json`
749     -
750     -**Type:** Configuration/Data File üìã
751     -
752     -```diff
753     -@@ -38,6 +38,7 @@
754     - 38  38      "prettier": "3.6.2",
755     - 39  39      "typescript": "5.9.3",
756     - 40  40      "vite": "7.2.2",
757     -     41 +    "vite-plugin-prismjs": "0.0.11",
758     - 41  42      "vitest": "4.0.8"
759     - 42  43    },
760     - 43  44    "dependencies": {
761     - 44  45  
     47 +@@ -193,8 +193,14 @@
     48 +193 193            </div>
     49 +194 194          </div>
     50 +195 195  
     51 +    196 +        <!-- Mobile Tabs (Visible only on < 768px) -->
     52 +    197 +        <div class="mobile-tabs">
     53 +    198 +          <button class="mobile-tab-btn active" data-tab="editor">üìù Editor</button>
     54 +    199 +          <button class="mobile-tab-btn" data-tab="preview">üëÅÔ∏è Preview</button>
     55 +    200 +        </div>
     56 +    201 +
     57 +196 202          <!-- Editor -->
     58 +197     -        <div class="editor-container">
     59 +    203 +        <div class="editor-container mobile-visible">
     60 +198 204            <div class="editor-header">MARKDOWN EDITOR</div>
     61 +199 205            <textarea id="markdown-editor" placeholder="Type your markdown here..."></textarea>
     62 +200 206          </div>
     63 +201 207  
762  64  
763  65  ```
764  66  
@@ -768,119 +70,156 @@ AI_REVIEW.md      | 107 ++++++++++---
768  70  **Type:** JavaScript Source File üü®
769  71  
770  72  ```diff
771     -@@ -9,26 +9,9 @@ import { marked } from 'marked';
772     -  9   9  import markedFootnote from 'marked-footnote';
773     - 10  10  import mermaid from 'mermaid';
774     - 11  11  import Prism from 'prismjs';
775     - 12     -import 'prismjs/components/prism-bash';
776     - 13     -import 'prismjs/components/prism-batch';
777     - 14     -import 'prismjs/components/prism-c';
778     - 15     -import 'prismjs/components/prism-cpp';
779     - 16     -import 'prismjs/components/prism-css';
780     - 17     -import 'prismjs/components/prism-diff';
781     - 18     -import 'prismjs/components/prism-go';
782     - 19     -import 'prismjs/components/prism-ini';
783     - 20     -import 'prismjs/components/prism-java';
784     - 21     -import 'prismjs/components/prism-javascript';
785     - 22     -import 'prismjs/components/prism-json';
786     - 23     -import 'prismjs/components/prism-markdown';
787     - 24     -import 'prismjs/components/prism-python';
788     - 25     -import 'prismjs/components/prism-r';
789     - 26     -import 'prismjs/components/prism-rust';
790     - 27     -import 'prismjs/components/prism-scss';
791     - 28     -import 'prismjs/components/prism-sql';
792     - 29     -import 'prismjs/components/prism-typescript';
793     - 30     -import 'prismjs/components/prism-yaml';
794     - 31     -import 'prismjs/themes/prism-tomorrow.css'; // Import Prism CSS
795     -     12 +
796     -     13 +// PrismJS is now handled by vite-plugin-prismjs
797     -     14 +// which automatically loads all languages and themes
798     - 32  15  
799     - 33  16  import { StorageManager } from './src/js/core/StorageManager.js';
800     - 34  17  import { ThemeManager } from './src/js/core/ThemeManager.js';
801     -@@ -189,6 +172,9 @@ function configureMarkedExtensions() {
802     -189 172                  throwOnError: false,
803     -190 173                  output: 'html',
804     -191 174                  trust: true, // Allow custom styling
805     -    175 +                macros: {
806     -    176 +                  '\\label': '\\phantom', // Hide \label
807     -    177 +                },
808     -192 178                }) +
809     -193 179                '</div>'
810     -194 180              );
811     -@@ -206,8 +192,8 @@ function configureMarkedExtensions() {
812     -206 192            return src.match(/^\s*\\begin/)?.index;
813     -207 193          },
814     -208 194          tokenizer(src) {
815     -209     -          // Robust regex for LaTeX environments
816     -210     -          const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
817     -    195 +          // Robust regex for LaTeX environments (tolerant to whitespace)
818     -    196 +          const match = src.match(/^\s*(\\begin\s*\{\s*([a-zA-Z]+\*?)\s*\}\s*([\s\S]*?)\s*\\end\s*\{\s*\2\s*\})/);
819     -211 197            if (match) {
820     -212 198              return {
821     -213 199                type: 'mathEnvironment',
822     -@@ -225,6 +211,12 @@ function configureMarkedExtensions() {
823     -225 211                  throwOnError: false,
824     -226 212                  output: 'html',
825     -227 213                  trust: true,
826     -    214 +                macros: {
827     -    215 +                  '\\label': '\\phantom', // Hide \label
828     -    216 +                  '\\eqref': '\\text', // Plain text for refs (or link if needed)
829     -    217 +                  '\\cite': '\\text',
830     -    218 +                  '\\ref': '\\text',
831     -    219 +                },
832     -228 220                }) +
833     -229 221                '</div>'
834     -230 222              );
835     -@@ -269,6 +261,9 @@ function configureMarkedExtensions() {
836     -269 261                displayMode: token.displayMode || false,
837     -270 262                throwOnError: false,
838     -271 263                output: 'html',
839     -    264 +              macros: {
840     -    265 +                '\\label': '\\phantom',
841     -    266 +              },
842     -272 267              });
843     -273 268  
844     -274 269              // Wrap display math in a div for proper spacing
845     -275 270  
     73 +@@ -1019,7 +1019,32 @@ graph TD
     74 +1019 1019      updateSyncScrollVisibility();
     75 +1020 1020    });
     76 +1021 1021  
     77 +    1022 +  // Mobile Tabs Logic
     78 +    1023 +  const mobileTabBtns = document.querySelectorAll('.mobile-tab-btn');
     79 +    1024 +  // Re-select containers to ensure we have the right elements
     80 +    1025 +  const editorContainerEl = document.querySelector('.editor-container');
     81 +    1026 +  const previewContainerEl = document.querySelector('.preview-container');
     82 +    1027 +
     83 +    1028 +  mobileTabBtns.forEach(btn => {
     84 +    1029 +    btn.addEventListener('click', () => {
     85 +    1030 +      // Remove active class from all buttons
     86 +    1031 +      mobileTabBtns.forEach(b => b.classList.remove('active'));
     87 +    1032 +      // Add active to clicked
     88 +    1033 +      btn.classList.add('active');
     89 +    1034 +
     90 +    1035 +      const tab = btn.dataset.tab;
     91 +    1036 +      if (tab === 'editor') {
     92 +    1037 +        editorContainerEl.classList.add('mobile-visible');
     93 +    1038 +        previewContainerEl.classList.remove('mobile-visible');
     94 +    1039 +      } else {
     95 +    1040 +        editorContainerEl.classList.remove('mobile-visible');
     96 +    1041 +        previewContainerEl.classList.add('mobile-visible');
     97 +    1042 +      }
     98 +    1043 +    });
     99 +    1044 +  });
    100 +    1045 +
    101 +1022 1046    // Initialize visibility
    102 +    1047 +
    103 +1023 1048    updateSyncScrollVisibility();
    104 +1024 1049  
    105 +1025 1050    // Load saved theme FIRST, then initialize Mermaid with correct colors
    106 +1026 1051  
846 107  
847 108  ```
848 109  
849 110  
850     -### üìÑ `vite.config.js`
    111 +### üìÑ `style.css`
851 112  
852     -**Type:** JavaScript Source File üü®
    113 +**Type:** Stylesheet üé®
853 114  
854 115  ```diff
855     -@@ -1,20 +1,25 @@
856     -  1   1  import { copyFileSync, mkdirSync, readdirSync } from 'fs';
857     -  2   2  import { join } from 'path';
858     -  3   3  import { defineConfig } from 'vite';
859     -      4 +import prism from 'vite-plugin-prismjs';
860     -  4   5  
861     -  5   6  export default defineConfig({
862     -  6   7    root: './',
863     -  7   8    base: '/markdown-viewer-app/',
864     -  8   9    build: {
865     -  9  10      outDir: 'dist',
866     - 10     -    // Note: marked, prismjs, and mermaid are loaded via CDN in index.html
867     - 11     -    // No need for manualChunks as they are not npm dependencies
868     - 12  11    },
869     - 13  12    server: {
870     - 14  13      port: 3000,
871     - 15  14      open: true,
872     - 16  15    },
873     - 17  16    plugins: [
874     -     17 +    prism({
875     -     18 +      languages: 'all', // Load ALL languages for future-proofing
876     -     19 +      plugins: ['line-numbers', 'copy-to-clipboard'],
877     -     20 +      theme: 'tomorrow',
878     -     21 +      css: true,
879     -     22 +    }),
880     - 18  23      {
881     - 19  24        name: 'copy-themes',
882     - 20  25        closeBundle() {
883     - 21  26  
    116 +@@ -24,13 +24,19 @@ body {
    117 + 24  24  
    118 + 25  25  /* ==================== TOOLBAR ==================== */
    119 + 26  26  .toolbar {
    120 + 27     -  background-color: var(--bg-secondary);
    121 +     27 +  background-color: color-mix(in srgb, var(--bg-secondary) 85%, transparent);
    122 +     28 +  backdrop-filter: blur(12px);
    123 +     29 +  -webkit-backdrop-filter: blur(12px);
    124 + 28  30    border-bottom: 1px solid var(--border-color);
    125 + 29  31    padding: 12px 20px;
    126 + 30  32    display: flex;
    127 + 31  33    justify-content: space-between;
    128 + 32  34    align-items: center;
    129 + 33     -  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    130 +     35 +  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
    131 +     36 +  position: sticky;
    132 +     37 +  top: 0;
    133 +     38 +  z-index: 100;
    134 +     39 +  transition: all 0.3s ease;
    135 + 34  40  }
    136 + 35  41  
    137 + 36  42  .toolbar h1 {
    138 +@@ -485,14 +491,28 @@ body {
    139 +485 491  }
    140 +486 492  
    141 +487 493  .modal-content {
    142 +488     -  background-color: var(--bg-primary);
    143 +489     -  border-radius: 12px;
    144 +    494 +  background-color: color-mix(in srgb, var(--bg-primary) 95%, transparent);
    145 +    495 +  backdrop-filter: blur(16px);
    146 +    496 +  -webkit-backdrop-filter: blur(16px);
    147 +    497 +  border-radius: 16px;
    148 +490 498    padding: 30px;
    149 +491 499    max-width: 800px;
    150 +492 500    max-height: 80vh;
    151 +493 501    overflow-y: auto;
    152 +494     -  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
    153 +    502 +  box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
    154 +495 503    width: 90%;
    155 +    504 +  border: 1px solid var(--border-color);
    156 +    505 +  animation: modalSlideIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    157 +    506 +}
    158 +    507 +
    159 +    508 +@keyframes modalSlideIn {
    160 +    509 +  from { opacity: 0; transform: translateY(20px) scale(0.95); }
    161 +    510 +  to { opacity: 1; transform: translateY(0) scale(1); }
    162 +    511 +}
    163 +    512 +
    164 +    513 +@keyframes fadeIn {
    165 +    514 +  from { opacity: 0; }
    166 +    515 +  to { opacity: 1; }
    167 +496 516  }
    168 +497 517  
    169 +498 518  .modal-header {
    170 +@@ -637,11 +657,51 @@ body {
    171 +637 657  }
    172 +638 658  
    173 +639 659  /* ==================== RESPONSIVE DESIGN ==================== */
    174 +    660 +/* ==================== RESPONSIVE DESIGN & MOBILE TABS ==================== */
    175 +    661 +.mobile-tabs {
    176 +    662 +  display: none;
    177 +    663 +  background-color: var(--bg-secondary);
    178 +    664 +  border-bottom: 1px solid var(--border-color);
    179 +    665 +  padding: 0 10px;
    180 +    666 +}
    181 +    667 +
    182 +    668 +.mobile-tab-btn {
    183 +    669 +  flex: 1;
    184 +    670 +  padding: 12px;
    185 +    671 +  border: none;
    186 +    672 +  background: none;
    187 +    673 +  color: var(--text-secondary);
    188 +    674 +  font-weight: 600;
    189 +    675 +  cursor: pointer;
    190 +    676 +  border-bottom: 3px solid transparent;
    191 +    677 +  transition: all 0.2s;
    192 +    678 +}
    193 +    679 +
    194 +    680 +.mobile-tab-btn.active {
    195 +    681 +  color: var(--h1-color);
    196 +    682 +  border-bottom-color: var(--h1-color);
    197 +    683 +}
    198 +    684 +
    199 +640 685  @media (max-width: 768px) {
    200 +641 686    .main-content {
    201 +642 687      flex-direction: column;
    202 +643 688    }
    203 +644 689  
    204 +    690 +  .mobile-tabs {
    205 +    691 +    display: flex;
    206 +    692 +  }
    207 +    693 +
    208 +    694 +  /* Mobile Tab Logic: Hide/Show based on active class */
    209 +    695 +  .editor-container, .preview-container {
    210 +    696 +    display: none !important; /* Override flex */
    211 +    697 +    height: calc(100vh - 120px); /* Adjust for toolbar + footer + tabs */
    212 +    698 +  }
    213 +    699 +
    214 +    700 +  .editor-container.mobile-visible, .preview-container.mobile-visible {
    215 +    701 +    display: flex !important;
    216 +    702 +  }
    217 +    703 +
    218 +    704 +
    219 +645 705    .editor-container {
    220 +646 706      border-right: none;
    221 +647 707      border-bottom: 1px solid var(--border-color);
    222 +648 708  
884 223  
885 224  ```
886 225  
@@ -926,4 +265,4 @@ Please provide specific feedback on:
926 265  
927 266  ---
928 267  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
929     -*Files processed: 5/5 | Errors: 0 | Generated: 2025-12-09T02:07:02.257Z*
    268 +*Files processed: 4/4 | Errors: 0 | Generated: 2025-12-09T02:16:25.821Z*
930 269  

```


### üìÑ `script.js`

**Type:** JavaScript Source File üü®

```diff
@@ -540,19 +540,29 @@ graph TD
540 540  
541 541        // Render Mermaid diagrams synchronously after DOM update
542 542        const mermaidElements = preview.querySelectorAll('.mermaid-diagram');
543     -      mermaidElements.forEach(element => {
    543 +      mermaidElements.forEach(async element => {
544 544          const id = element.id;
545 545          const code = decodeURIComponent(element.dataset.code);
546 546  
547     -        if (typeof mermaid !== 'undefined') {
548     -          mermaid
549     -            .render('mermaid-svg-' + id, code)
550     -            .then(result => {
551     -              element.innerHTML = result.svg;
552     -            })
553     -            .catch(err => {
554     -              element.innerHTML = `<p style="color: red;">Mermaid diagram error: ${err.message}</p>`;
555     -            });
    547 +        if (!code || !code.trim()) {
    548 +          element.innerHTML = ''; // Hide empty diagrams
    549 +          return;
    550 +        }
    551 +
    552 +        try {
    553 +          // Attempt to parse first to avoid ugly error SVGs
    554 +          if (await mermaid.parse(code)) {
    555 +            const { svg } = await mermaid.render(id, code);
    556 +            element.innerHTML = svg;
    557 +            element.dataset.processed = 'true';
    558 +          }
    559 +        } catch (err) {
    560 +          console.warn('Mermaid rendering error:', err);
    561 +          // Graceful failure: Show a small icon or nothing instead of giant red text
    562 +          element.innerHTML = `<div style="color: var(--text-secondary); font-size: 0.8em; text-align: center; border: 1px dashed var(--border-color); padding: 10px; border-radius: 8px;">
    563 +            <span style="display: block; font-size: 1.5em; margin-bottom: 5px;">‚ö†Ô∏è</span>
    564 +            Invalid Diagram Syntax
    565 +          </div>`;
556 566          }
557 567        });
558 568  
@@ -565,6 +575,9 @@ graph TD
565 575  
566 576        // Save content using StorageManager
567 577        storageManager.set('markdownContent', markdownText);
    578 +
    579 +      // After rendering, build the scroll map for sync scrolling
    580 +      setTimeout(buildScrollMap, 50); // Small delay to ensure DOM is fully updated
568 581      } catch (error) {
569 582        console.error('Render error:', error);
570 583        preview.innerHTML =
@@ -947,61 +960,100 @@ graph TD
947 960      }
948 961    });
949 962  
950     -  // Editor scroll handler with smooth sync
951     -  editor.addEventListener('scroll', () => {
    963 +  // Enhanced Scroll Sync (Header-Based)
    964 +  let scrollMap = [];
    965 +
    966 +  function buildScrollMap() {
    967 +    if (typeof editor === 'undefined' || typeof preview === 'undefined') return;
    968 +    const markdown = editor.value;
    969 +    const lines = markdown.split('\n');
    970 +    const editorHeaders = [];
    971 +
    972 +    // Find headers in Editor
    973 +    lines.forEach((line, index) => {
    974 +      if (/^#{1,6}\s/.test(line)) {
    975 +        editorHeaders.push({ line: index, text: line.replace(/^#{1,6}\s/, '').trim() });
    976 +      }
    977 +    });
    978 +
    979 +    // Find headers in Preview
    980 +    const previewHeaders = Array.from(preview.querySelectorAll('h1, h2, h3, h4, h5, h6'));
    981 +
    982 +    // Create Map: [EditorLine, PreviewOffset]
    983 +    scrollMap = [];
    984 +    scrollMap.push([0, 0]); // Start
    985 +
    986 +    const count = Math.min(editorHeaders.length, previewHeaders.length);
    987 +    for (let i = 0; i < count; i++) {
    988 +      const line = editorHeaders[i].line;
    989 +      const offset = previewHeaders[i].offsetTop;
    990 +      scrollMap.push([line, offset]);
    991 +    }
    992 +
    993 +    scrollMap.push([lines.length, preview.scrollHeight]); // End
    994 +  }
    995 +
    996 +  // Update map on render
    997 +  // This is called via setTimeout in renderMarkdown
    998 +
    999 +  // Function to sync Preview based on Editor position
    1000 +  function syncPreview() {
952 1001      if (!syncScrollEnabled || syncScrolling) return;
953 1002  
954 1003      syncScrolling = true;
    1004 +    const editorScrollTop = editor.scrollTop;
    1005 +    const editorScrollHeight = editor.scrollHeight;
    1006 +    const editorClientHeight = editor.clientHeight;
955 1007  
956     -    requestAnimationFrame(() => {
957     -      const editorHeight = editor.scrollHeight - editor.clientHeight;
958     -      const previewHeight = previewContainer.scrollHeight - previewContainer.clientHeight;
    1008 +    // Estimate current line number
    1009 +    const totalLines = editor.value.split('\n').length;
    1010 +    const currentLine = (editorScrollTop / (editorScrollHeight - editorClientHeight)) * totalLines;
959 1011  
960     -      // Handle edge cases for perfect alignment
961     -      if (editor.scrollTop <= 0) {
962     -        // At top
963     -        previewContainer.scrollTop = 0;
964     -      } else if (editor.scrollTop >= editorHeight) {
965     -        // At bottom
966     -        previewContainer.scrollTop = previewHeight;
967     -      } else {
968     -        // Middle - proportional scroll
969     -        const scrollPercent = editor.scrollTop / editorHeight;
970     -        previewContainer.scrollTop = scrollPercent * previewHeight;
    1012 +    if (scrollMap.length < 2 || isNaN(currentLine)) {
    1013 +      // Fallback to simple percentage
    1014 +      const percentage = editorScrollTop / (editorScrollHeight - editorClientHeight);
    1015 +      previewContainer.scrollTop = percentage * (previewContainer.scrollHeight - previewContainer.clientHeight);
    1016 +    } else {
    1017 +      let start = scrollMap[0];
    1018 +      let end = scrollMap[scrollMap.length - 1];
    1019 +
    1020 +      for (let i = 0; i < scrollMap.length - 1; i++) {
    1021 +        if (currentLine >= scrollMap[i][0] && currentLine <= scrollMap[i + 1][0]) {
    1022 +          start = scrollMap[i];
    1023 +          end = scrollMap[i + 1];
    1024 +          break;
    1025 +        }
971 1026        }
972 1027  
973     -      setTimeout(() => {
974     -        syncScrolling = false;
975     -      }, 10); // Reduced from 50ms for more responsive feel
976     -    });
    1028 +      // Interpolate
    1029 +      const lineRange = end[0] - start[0];
    1030 +      const offsetRange = end[1] - start[1];
    1031 +
    1032 +      if (lineRange === 0) {
    1033 +        previewContainer.scrollTop = start[1];
    1034 +      } else {
    1035 +        const progressInBlock = (currentLine - start[0]) / lineRange;
    1036 +        previewContainer.scrollTop = start[1] + (progressInBlock * offsetRange);
    1037 +      }
    1038 +    }
    1039 +
    1040 +    setTimeout(() => { syncScrolling = false; }, 10);
    1041 +  }
    1042 +
    1043 +  editor.addEventListener('scroll', () => {
    1044 +    if (syncScrollEnabled) {
    1045 +      requestAnimationFrame(syncPreview);
    1046 +    }
977 1047    });
978 1048  
979     -  // Preview container scroll handler with smooth sync
    1049 +  // Keep simple percentage sync for Preview -> Editor to avoid complexity
980 1050    previewContainer.addEventListener('scroll', () => {
981 1051      if (!syncScrollEnabled || syncScrolling) return;
982     -
983 1052      syncScrolling = true;
984     -
985 1053      requestAnimationFrame(() => {
986     -      const editorHeight = editor.scrollHeight - editor.clientHeight;
987     -      const previewHeight = previewContainer.scrollHeight - previewContainer.clientHeight;
988     -
989     -      // Handle edge cases for perfect alignment
990     -      if (previewContainer.scrollTop <= 0) {
991     -        // At top
992     -        editor.scrollTop = 0;
993     -      } else if (previewContainer.scrollTop >= previewHeight) {
994     -        // At bottom
995     -        editor.scrollTop = editorHeight;
996     -      } else {
997     -        // Middle - proportional scroll
998     -        const scrollPercent = previewContainer.scrollTop / previewHeight;
999     -        editor.scrollTop = scrollPercent * editorHeight;
1000     -      }
1001     -
1002     -      setTimeout(() => {
1003     -        syncScrolling = false;
1004     -      }, 10); // Reduced from 50ms for more responsive feel
    1054 +      const percentage = previewContainer.scrollTop / (previewContainer.scrollHeight - previewContainer.clientHeight);
    1055 +      editor.scrollTop = percentage * (editor.scrollHeight - editor.clientHeight);
    1056 +      setTimeout(() => { syncScrolling = false; }, 10);
1005 1057      });
1006 1058    });
1007 1059  
1008 1060  

```

---

## ü§ñ AI Review Checklist

Please review these changes for:

### üîç Code Quality
- [ ] **Linting Compliance**: No unused imports/variables, proper formatting
- [ ] **Type Safety**: Proper typing throughout (TypeScript/Python type hints)
- [ ] **Best Practices**: Framework-specific conventions and patterns
- [ ] **Performance**: Efficient algorithms, proper memoization
- [ ] **Documentation**: Clear comments and function descriptions

### üêõ Potential Issues
- [ ] **Runtime Errors**: Type mismatches, null/undefined handling
- [ ] **Logic Bugs**: Incorrect calculations, edge cases
- [ ] **Memory Leaks**: Cleanup in lifecycle methods, event listeners
- [ ] **Error Handling**: Proper try-catch blocks, user feedback
- [ ] **Accessibility**: ARIA labels, keyboard navigation, screen readers

### üîí Security & Data
- [ ] **Input Validation**: Sanitization, XSS prevention, SQL injection
- [ ] **Authentication**: Proper access controls and permissions
- [ ] **Privacy**: No sensitive data exposure in logs/client
- [ ] **Dependencies**: Updated packages, vulnerability checks

### üì± UX/UI
- [ ] **Responsive Design**: Mobile/desktop/tablet compatibility
- [ ] **Loading States**: Proper feedback during async operations
- [ ] **Error Messages**: User-friendly error handling and recovery
- [ ] **Performance**: Fast loading, smooth animations

### üí° Suggestions & Improvements
Please provide specific feedback on:
1. Code organization and structure improvements
2. Performance optimization opportunities
3. Security considerations and hardening
4. Testing coverage and strategies
5. Documentation and maintainability

---
*Generated by AI Visual Code Review v2.0 - Unified Export Script*
*Files processed: 2/2 | Errors: 0 | Generated: 2025-12-09T03:39:07.322Z*
