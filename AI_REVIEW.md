# üîç Code Review - 12/9/2025, 7:14:05 PM

**Project:** AI Visual Code Review
**Generated by:** AI Visual Code Review v2.0

## üìä Change Summary

```
AI_REVIEW.md                   | 2803 ++++++----------------------------------
 CODE_REVIEW_AND_FINDINGS.md    |   52 +
 SERVICE_AUDIT.md               |   55 +
 script.js                      |  112 +-
 src/js/services/HTMLService.js |  150 +++
 src/js/services/PDFService.js  |   28 +-
 style.css                      |   14 +-
 7 files changed, 734 insertions(+), 2480 deletions(-)
```

## üìù Files Changed (7/7 selected)


### üìÑ `AI_REVIEW.md`

**Type:** Documentation üìñ

```diff
@@ -1,4 +1,4 @@
  1     -# üîç Code Review - 12/9/2025, 1:15:27 PM
      1 +# üîç Code Review - 12/9/2025, 7:03:47 PM
  2   2  
  3   3  **Project:** AI Visual Code Review
  4   4  **Generated by:** AI Visual Code Review v2.0
@@ -6,2392 +6,435 @@
  6   6  ## üìä Change Summary
  7   7  
  8   8  ```
  9     -AI_REVIEW.md | 2344 ++++------------------------------------------------------
 10     - 1 file changed, 130 insertions(+), 2214 deletions(-)
      9 +CODE_REVIEW_AND_FINDINGS.md    |  52 ++++++++++++++++++
     10 + script.js                      | 112 +++++++-------------------------------
     11 + src/js/services/HTMLService.js | 119 +++++++++++++++++++++++++++++++++++++++++
     12 + style.css                      |  14 ++---
     13 + 4 files changed, 198 insertions(+), 99 deletions(-)
 11  14  ```
 12  15  
 13     -## üìù Files Changed (1/1 selected)
     16 +## üìù Files Changed (4/4 selected)
 14  17  
 15  18  
 16     -### üìÑ `AI_REVIEW.md`
     19 +### ‚ú® `CODE_REVIEW_AND_FINDINGS.md` **[ADDED]**
     20 +
     21 +**Status:** ‚úÖ **NEW FILE** - This file has been newly created
 17  22  
 18  23  **Type:** Documentation üìñ
 19  24  
 20  25  ```diff
 21     -@@ -1,4 +1,4 @@
 22     -  1     -# üîç Code Review - 12/9/2025, 9:29:52 AM
 23     -      1 +# üîç Code Review - 12/9/2025, 1:09:37 PM
 24     -  2   2  
 25     -  3   3  **Project:** AI Visual Code Review
 26     -  4   4  **Generated by:** AI Visual Code Review v2.0
 27     -@@ -6,2129 +6,80 @@
 28     -  6   6  ## üìä Change Summary
 29     -  7   7  
 30     -  8   8  ```
 31     -  9     -AI_REVIEW.md | 2073 ++++++++++++++++++++++++++++++----------------------------
 32     - 10     - script.js    |   13 +-
 33     - 11     - style.css    |   22 +-
 34     - 12     - 3 files changed, 1105 insertions(+), 1003 deletions(-)
 35     -      9 +index.html | 39 ++++++++++++++++++++++-----------------
 36     -     10 + script.js  | 23 ++++++++---------------
 37     -     11 + 2 files changed, 30 insertions(+), 32 deletions(-)
 38     - 13  12  ```
 39     - 14  13  
 40     - 15     -## üìù Files Changed (3/3 selected)
 41     -     14 +## üìù Files Changed (2/2 selected)
 42     - 16  15  
 43     - 17  16  
 44     - 18     -### üìÑ `AI_REVIEW.md`
 45     -     17 +### üìÑ `index.html`
 46     - 19  18  
 47     - 20     -**Type:** Documentation üìñ
 48     -     19 +**Type:** HTML Template üåê
 49     - 21  20  
 50     - 22  21  ```diff
 51     - 23     -@@ -1,4 +1,4 @@
 52     - 24     -  1     -# üîç Code Review - 12/9/2025, 9:21:39 AM
 53     - 25     -      1 +# üîç Code Review - 12/9/2025, 9:26:04 AM
 54     - 26     -  2   2  
 55     - 27     -  3   3  **Project:** AI Visual Code Review
 56     - 28     -  4   4  **Generated by:** AI Visual Code Review v2.0
 57     - 29     -@@ -6,9 +6,9 @@
 58     - 30     -  6   6  ## üìä Change Summary
 59     - 31     -  7   7  
 60     - 32     -  8   8  ```
 61     - 33     -  9     -AI_REVIEW.md | 899 +++--------------------------------------------------------
 62     - 34     - 10     - style.css    |  44 ++-
 63     - 35     - 11     - 2 files changed, 71 insertions(+), 872 deletions(-)
 64     - 36     -      9 +AI_REVIEW.md | 1044 ++++++++++++++++++++++++++++++++++++++++++++++++++++++++--
 65     - 37     -     10 + script.js    |    4 +-
 66     - 38     -     11 + 2 files changed, 1014 insertions(+), 34 deletions(-)
 67     - 39     - 12  12  ```
 68     - 40     - 13  13  
 69     - 41     - 14  14  ## üìù Files Changed (2/2 selected)
 70     - 42     -@@ -20,1008 +20,1093 @@ AI_REVIEW.md | 899 +++--------------------------------------------------------
 71     - 43     - 20  20  
 72     - 44     - 21  21  ```diff
 73     - 45     - 22  22  @@ -1,4 +1,4 @@
 74     - 46     - 23     -  1     -# üîç Code Review - 12/9/2025, 7:37:02 AM
 75     - 47     - 24     -      1 +# üîç Code Review - 12/9/2025, 9:17:49 AM
 76     - 48     -     23 +  1     -# üîç Code Review - 12/9/2025, 9:17:49 AM
 77     - 49     -     24 +      1 +# üîç Code Review - 12/9/2025, 9:21:39 AM
 78     - 50     - 25  25    2   2  
 79     - 51     - 26  26    3   3  **Project:** AI Visual Code Review
 80     - 52     - 27  27    4   4  **Generated by:** AI Visual Code Review v2.0
 81     - 53     - 28     -@@ -6,761 +6,11 @@
 82     - 54     -     28 +@@ -6,44 +6,1022 @@
 83     - 55     - 29  29    6   6  ## üìä Change Summary
 84     - 56     - 30  30    7   7  
 85     - 57     - 31  31    8   8  ```
 86     - 58     - 32     -  9     -AI_REVIEW.md      | 107 ++++++++++---
 87     - 59     - 33     - 10     - package-lock.json | 444 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
 88     - 60     - 34     - 11     - package.json      |   1 +
 89     - 61     - 35     - 12     - script.js         |  39 +++--
 90     - 62     - 36     - 13     - vite.config.js    |   9 +-
 91     - 63     - 37     - 14     - 5 files changed, 555 insertions(+), 45 deletions(-)
 92     - 64     - 38     -      9 +script.js | 11 ++++++++++-
 93     - 65     - 39     -     10 + 1 file changed, 10 insertions(+), 1 deletion(-)
 94     - 66     - 40     - 15  11  ```
 95     - 67     - 41     - 16  12  
 96     - 68     - 42     - 17     -## üìù Files Changed (5/5 selected)
 97     - 69     - 43     - 18     -
 98     - 70     - 44     - 19     -
 99     - 71     - 45     - 20     -### üìÑ `AI_REVIEW.md`
100     - 72     - 46     - 21     -
101     - 73     - 47     - 22     -**Type:** Documentation üìñ
102     - 74     - 48     - 23     -
103     - 75     - 49     - 24     -```diff
104     - 76     - 50     - 25     -@@ -1,4 +1,4 @@
105     - 77     - 51     - 26     -  1     -# üîç Code Review - 12/9/2025, 7:27:41 AM
106     - 78     - 52     - 27     -      1 +# üîç Code Review - 12/9/2025, 7:32:58 AM
107     - 79     - 53     - 28     -  2   2  
108     - 80     - 54     - 29     -  3   3  **Project:** AI Visual Code Review
109     - 81     - 55     - 30     -  4   4  **Generated by:** AI Visual Code Review v2.0
110     - 82     - 56     - 31     -@@ -6,12 +6,13 @@
111     - 83     - 57     - 32     -  6   6  ## üìä Change Summary
112     - 84     - 58     - 33     -  7   7  
113     - 85     - 59     - 34     -  8   8  ```
114     - 86     - 60     - 35     -  9     -AI_REVIEW.md | 18009 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
115     - 87     - 61     - 36     - 10     - script.js    |     5 +-
116     - 88     - 62     - 37     - 11     - 2 files changed, 15932 insertions(+), 2082 deletions(-)
117     - 89     - 63     - 38     -      9 +AI_REVIEW.md | 15943 +--------------------------------------------------------
118     - 90     - 64     - 39     -     10 + script.js    |    14 +-
119     - 91     - 65     - 40     -     11 + style.css    |     2 +-
120     - 92     - 66     - 41     -     12 + 3 files changed, 32 insertions(+), 15927 deletions(-)
121     - 93     - 67     - 42     - 12  13  ```
122     - 94     - 68     - 43     - 13  14  
123     - 95     - 69     - 44     - 14     -## üìù Files Changed (2/2 selected)
124     - 96     - 70     - 45     -     15 +## üìù Files Changed (3/3 selected)
125     - 97     - 71     - 46     - 15  16  
126     - 98     - 72     - 47     - 16  17  
127     - 99     - 73     - 48     - 17  18  ### üìÑ `AI_REVIEW.md`
128     -100     - 74     - 49     -@@ -26,21 +27,85 @@ AI_REVIEW.md | 18009 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
129     -101     - 75     - 50     - 26  27  **Type:** JavaScript Source File üü®
130     -102     - 76     - 51     - 27  28  
131     -103     - 77     - 52     - 28  29  ```diff
132     -104     - 78     - 53     - 29     -@@ -199,10 +199,11 @@ function configureMarkedExtensions() {
133     -105     - 79     - 54     - 30     -199 199          name: 'mathEnvironment',
134     -106     - 80     - 55     - 31     -200 200          level: 'block',
135     -107     - 81     - 56     - 32     -201 201          start(src) {
136     -108     - 82     - 57     - 33     -202     -          return src.match(/^\\begin/)?.index;
137     -109     - 83     - 58     - 34     -    202 +          // Allow whitespace before \begin
138     -110     - 84     - 59     - 35     -    203 +          return src.match(/^\s*\\begin/)?.[0]?.length ? src.search(/\S/) : undefined;
139     -111     - 85     - 60     - 36     -203 204          },
140     -112     - 86     - 61     - 37     -204 205          tokenizer(src) {
141     -113     - 87     - 62     - 38     -205     -          const match = src.match(/^(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
142     -114     - 88     - 63     - 39     -    206 +          const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
143     -115     - 89     - 64     - 40     -206 207            if (match) {
144     -116     - 90     - 65     - 41     -207 208              return {
145     -117     - 91     - 66     - 42     -208 209                type: 'mathEnvironment',
146     -118     - 92     - 67     - 43     -209 210  
147     -119     - 93     - 68     -     30 +@@ -10,10 +10,13 @@ import markedFootnote from 'marked-footnote';
148     -120     - 94     - 69     -     31 + 10  10  import mermaid from 'mermaid';
149     -121     - 95     - 70     -     32 + 11  11  import Prism from 'prismjs';
150     -122     - 96     - 71     -     33 + 12  12  import 'prismjs/components/prism-bash';
151     -123     - 97     - 72     -     34 +     13 +import 'prismjs/components/prism-batch';
152     -124     - 98     - 73     -     35 + 13  14  import 'prismjs/components/prism-c';
153     -125     - 99     - 74     -     36 + 14  15  import 'prismjs/components/prism-cpp';
154     -126     -100     - 75     -     37 + 15  16  import 'prismjs/components/prism-css';
155     -127     -101     - 76     -     38 +     17 +import 'prismjs/components/prism-diff';
156     -128     -102     - 77     -     39 + 16  18  import 'prismjs/components/prism-go';
157     -129     -103     - 78     -     40 +     19 +import 'prismjs/components/prism-ini';
158     -130     -104     - 79     -     41 + 17  20  import 'prismjs/components/prism-java';
159     -131     -105     - 80     -     42 + 18  21  import 'prismjs/components/prism-javascript';
160     -132     -106     - 81     -     43 + 19  22  import 'prismjs/components/prism-json';
161     -133     -107     - 82     -     44 +@@ -200,15 +203,16 @@ function configureMarkedExtensions() {
162     -134     -108     - 83     -     45 +200 203          level: 'block',
163     -135     -109     - 84     -     46 +201 204          start(src) {
164     -136     -110     - 85     -     47 +202 205            // Allow whitespace before \begin
165     -137     -111     - 86     -     48 +203     -          return src.match(/^\s*\\begin/)?.[0]?.length ? src.search(/\S/) : undefined;
166     -138     -112     - 87     -     49 +    206 +          return src.match(/^\s*\\begin/)?.index;
167     -139     -113     - 88     -     50 +204 207          },
168     -140     -114     - 89     -     51 +205 208          tokenizer(src) {
169     -141     -115     - 90     -     52 +    209 +          // Robust regex for LaTeX environments
170     -142     -116     - 91     -     53 +206 210            const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
171     -143     -117     - 92     -     54 +207 211            if (match) {
172     -144     -118     - 93     -     55 +208 212              return {
173     -145     -119     - 94     -     56 +209 213                type: 'mathEnvironment',
174     -146     -120     - 95     -     57 +210 214                raw: match[0],
175     -147     -121     - 96     -     58 +211     -              text: match[1], // Capture the inner content or full block? KaTeX needs full block for environments
176     -148     -122     - 97     -     59 +    215 +              text: match[1],
177     -149     -123     - 98     -     60 +212 216              };
178     -150     -124     - 99     -     61 +213 217            }
179     -151     -125     -100     -     62 +214 218          },
180     -152     -126     -101     -     63 +@@ -518,13 +522,15 @@ graph TD
181     -153     -127     -102     -     64 +518 522        let html = marked.parse(markdownText);
182     -154     -128     -103     -     65 +519 523  
183     -155     -129     -104     -     66 +520 524        // Replace mermaid code blocks with placeholders
184     -156     -130     -105     -     67 +    525 +      // Use 'mermaid-diagram' class to avoid auto-rendering conflicts
185     -157     -131     -106     -     68 +521 526        html = html.replace(
186     -158     -132     -107     -     69 +522 527          /<pre><code class="language-mermaid">([\s\S]*?)<\/code><\/pre>/g,
187     -159     -133     -108     -     70 +523 528          (match, code) => {
188     -160     -134     -109     -     71 +    529 +          // Decode HTML entities before passing to Mermaid
189     -161     -135     -110     -     72 +524 530            const decodedCode = decodeHtmlEntities(code);
190     -162     -136     -111     -     73 +525 531            const id = 'mermaid-' + Math.random().toString(36).substr(2, 9);
191     -163     -137     -112     -     74 +526 532            // Return placeholder div
192     -164     -138     -113     -     75 +527     -          return `<div class="mermaid" id="${id}" data-code="${encodeURIComponent(decodedCode)}">${code}</div>`;
193     -165     -139     -114     -     76 +    533 +          return `<div class="mermaid-diagram" id="${id}" data-code="${encodeURIComponent(decodedCode)}">${code}</div>`;
194     -166     -140     -115     -     77 +528 534          }
195     -167     -141     -116     -     78 +529 535        );
196     -168     -142     -117     -     79 +530 536  
197     -169     -143     -118     -     80 +@@ -538,7 +544,7 @@ graph TD
198     -170     -144     -119     -     81 +538 544        preview.innerHTML = cleanHtml;
199     -171     -145     -120     -     82 +539 545  
200     -172     -146     -121     -     83 +540 546        // Render Mermaid diagrams synchronously after DOM update
201     -173     -147     -122     -     84 +541     -      const mermaidElements = preview.querySelectorAll('.mermaid');
202     -174     -148     -123     -     85 +    547 +      const mermaidElements = preview.querySelectorAll('.mermaid-diagram');
203     -175     -149     -124     -     86 +542 548        mermaidElements.forEach(element => {
204     -176     -150     -125     -     87 +543 549          const id = element.id;
205     -177     -151     -126     -     88 +544 550          const code = decodeURIComponent(element.dataset.code);
206     -178     -152     -127     -     89 +545 551  
207     -179     -153     -128     -     90 +
208     -180     -154     -129     -     91 +```
209     -181     -155     -130     -     92 +
210     -182     -156     -131     -     93 +
211     -183     -157     -132     -     94 +### üìÑ `style.css`
212     -184     -158     -133     -     95 +
213     -185     -159     -134     -     96 +**Type:** Stylesheet üé®
214     -186     -160     -135     -     97 +
215     -187     -161     -136     -     98 +```diff
216     -188     -162     -137     -     99 +@@ -630,7 +630,7 @@ body {
217     -189     -163     -138     -    100 +630 630  }
218     -190     -164     -139     -    101 +631 631  
219     -191     -165     -140     -    102 +632 632  /* ==================== MERMAID DIAGRAMS ==================== */
220     -192     -166     -141     -    103 +633     -.mermaid {
221     -193     -167     -142     -    104 +    633 +.mermaid-diagram {
222     -194     -168     -143     -    105 +634 634    margin: 2em 0;
223     -195     -169     -144     -    106 +635 635    display: flex;
224     -196     -170     -145     -    107 +636 636    justify-content: center;
225     -197     -171     -146     -    108 +637 637  
226     -198     -172     -147     - 44 109  
227     -199     -173     -148     - 45 110  ```
228     -200     -174     -149     - 46 111  
229     -201     -175     -150     -@@ -86,4 +151,4 @@ Please provide specific feedback on:
230     -202     -176     -151     - 86 151  
231     -203     -177     -152     - 87 152  ---
232     -204     -178     -153     - 88 153  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
233     -205     -179     -154     - 89     -*Files processed: 1/2 | Errors: 1 | Generated: 2025-12-09T01:57:41.998Z*
234     -206     -180     -155     -    154 +*Files processed: 2/3 | Errors: 1 | Generated: 2025-12-09T02:02:58.836Z*
235     -207     -181     -156     - 90 155  
236     -208     -182     -157     -
237     -209     -183     -158     -```
238     -210     -184     -159     -
239     -211     -185     -160     -
240     -212     -186     -161     -### üìÑ `package-lock.json`
241     -213     -187     -162     -
242     -214     -188     -163     -**Type:** Configuration/Data File üìã
243     -215     -189     -164     -
244     -216     -190     -165     -```diff
245     -217     -191     -166     -@@ -26,6 +26,7 @@
246     -218     -192     -167     - 26  26          "prettier": "3.6.2",
247     -219     -193     -168     - 27  27          "typescript": "5.9.3",
248     -220     -194     -169     - 28  28          "vite": "7.2.2",
249     -221     -195     -170     -     29 +        "vite-plugin-prismjs": "0.0.11",
250     -222     -196     -171     - 29  30          "vitest": "4.0.8"
251     -223     -197     -172     - 30  31        }
252     -224     -198     -173     - 31  32      },
253     -225     -199     -174     -@@ -93,6 +94,175 @@
254     -226     -200     -175     - 93  94        "dev": true,
255     -227     -201     -176     - 94  95        "license": "MIT"
256     -228     -202     -177     - 95  96      },
257     -229     -203     -178     -     97 +    "node_modules/@babel/code-frame": {
258     -230     -204     -179     -     98 +      "version": "7.27.1",
259     -231     -205     -180     -     99 +      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
260     -232     -206     -181     -    100 +      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
261     -233     -207     -182     -    101 +      "dev": true,
262     -234     -208     -183     -    102 +      "license": "MIT",
263     -235     -209     -184     -    103 +      "dependencies": {
264     -236     -210     -185     -    104 +        "@babel/helper-validator-identifier": "^7.27.1",
265     -237     -211     -186     -    105 +        "js-tokens": "^4.0.0",
266     -238     -212     -187     -    106 +        "picocolors": "^1.1.1"
267     -239     -213     -188     -    107 +      },
268     -240     -214     -189     -    108 +      "engines": {
269     -241     -215     -190     -    109 +        "node": ">=6.9.0"
270     -242     -216     -191     -    110 +      }
271     -243     -217     -192     -    111 +    },
272     -244     -218     -193     -    112 +    "node_modules/@babel/code-frame/node_modules/js-tokens": {
273     -245     -219     -194     -    113 +      "version": "4.0.0",
274     -246     -220     -195     -    114 +      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
275     -247     -221     -196     -    115 +      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
276     -248     -222     -197     -    116 +      "dev": true,
277     -249     -223     -198     -    117 +      "license": "MIT"
278     -250     -224     -199     -    118 +    },
279     -251     -225     -200     -    119 +    "node_modules/@babel/compat-data": {
280     -252     -226     -201     -    120 +      "version": "7.28.5",
281     -253     -227     -202     -    121 +      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
282     -254     -228     -203     -    122 +      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
283     -255     -229     -204     -    123 +      "dev": true,
284     -256     -230     -205     -    124 +      "license": "MIT",
285     -257     -231     -206     -    125 +      "engines": {
286     -258     -232     -207     -    126 +        "node": ">=6.9.0"
287     -259     -233     -208     -    127 +      }
288     -260     -234     -209     -    128 +    },
289     -261     -235     -210     -    129 +    "node_modules/@babel/core": {
290     -262     -236     -211     -    130 +      "version": "7.28.5",
291     -263     -237     -212     -    131 +      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
292     -264     -238     -213     -    132 +      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
293     -265     -239     -214     -    133 +      "dev": true,
294     -266     -240     -215     -    134 +      "license": "MIT",
295     -267     -241     -216     -    135 +      "dependencies": {
296     -268     -242     -217     -    136 +        "@babel/code-frame": "^7.27.1",
297     -269     -243     -218     -    137 +        "@babel/generator": "^7.28.5",
298     -270     -244     -219     -    138 +        "@babel/helper-compilation-targets": "^7.27.2",
299     -271     -245     -220     -    139 +        "@babel/helper-module-transforms": "^7.28.3",
300     -272     -246     -221     -    140 +        "@babel/helpers": "^7.28.4",
301     -273     -247     -222     -    141 +        "@babel/parser": "^7.28.5",
302     -274     -248     -223     -    142 +        "@babel/template": "^7.27.2",
303     -275     -249     -224     -    143 +        "@babel/traverse": "^7.28.5",
304     -276     -250     -225     -    144 +        "@babel/types": "^7.28.5",
305     -277     -251     -226     -    145 +        "@jridgewell/remapping": "^2.3.5",
306     -278     -252     -227     -    146 +        "convert-source-map": "^2.0.0",
307     -279     -253     -228     -    147 +        "debug": "^4.1.0",
308     -280     -254     -229     -    148 +        "gensync": "^1.0.0-beta.2",
309     -281     -255     -230     -    149 +        "json5": "^2.2.3",
310     -282     -256     -231     -    150 +        "semver": "^6.3.1"
311     -283     -257     -232     -    151 +      },
312     -284     -258     -233     -    152 +      "engines": {
313     -285     -259     -234     -    153 +        "node": ">=6.9.0"
314     -286     -260     -235     -    154 +      },
315     -287     -261     -236     -    155 +      "funding": {
316     -288     -262     -237     -    156 +        "type": "opencollective",
317     -289     -263     -238     -    157 +        "url": "https://opencollective.com/babel"
318     -290     -264     -239     -    158 +      }
319     -291     -265     -240     -    159 +    },
320     -292     -266     -241     -    160 +    "node_modules/@babel/core/node_modules/semver": {
321     -293     -267     -242     -    161 +      "version": "6.3.1",
322     -294     -268     -243     -    162 +      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
323     -295     -269     -244     -    163 +      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
324     -296     -270     -245     -    164 +      "dev": true,
325     -297     -271     -246     -    165 +      "license": "ISC",
326     -298     -272     -247     -    166 +      "bin": {
327     -299     -273     -248     -    167 +        "semver": "bin/semver.js"
328     -300     -274     -249     -    168 +      }
329     -301     -275     -250     -    169 +    },
330     -302     -276     -251     -    170 +    "node_modules/@babel/generator": {
331     -303     -277     -252     -    171 +      "version": "7.28.5",
332     -304     -278     -253     -    172 +      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
333     -305     -279     -254     -    173 +      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
334     -306     -280     -255     -    174 +      "dev": true,
335     -307     -281     -256     -    175 +      "license": "MIT",
336     -308     -282     -257     -    176 +      "dependencies": {
337     -309     -283     -258     -    177 +        "@babel/parser": "^7.28.5",
338     -310     -284     -259     -    178 +        "@babel/types": "^7.28.5",
339     -311     -285     -260     -    179 +        "@jridgewell/gen-mapping": "^0.3.12",
340     -312     -286     -261     -    180 +        "@jridgewell/trace-mapping": "^0.3.28",
341     -313     -287     -262     -    181 +        "jsesc": "^3.0.2"
342     -314     -288     -263     -    182 +      },
343     -315     -289     -264     -    183 +      "engines": {
344     -316     -290     -265     -    184 +        "node": ">=6.9.0"
345     -317     -291     -266     -    185 +      }
346     -318     -292     -267     -    186 +    },
347     -319     -293     -268     -    187 +    "node_modules/@babel/helper-compilation-targets": {
348     -320     -294     -269     -    188 +      "version": "7.27.2",
349     -321     -295     -270     -    189 +      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
350     -322     -296     -271     -    190 +      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
351     -323     -297     -272     -    191 +      "dev": true,
352     -324     -298     -273     -    192 +      "license": "MIT",
353     -325     -299     -274     -    193 +      "dependencies": {
354     -326     -300     -275     -    194 +        "@babel/compat-data": "^7.27.2",
355     -327     -301     -276     -    195 +        "@babel/helper-validator-option": "^7.27.1",
356     -328     -302     -277     -    196 +        "browserslist": "^4.24.0",
357     -329     -303     -278     -    197 +        "lru-cache": "^5.1.1",
358     -330     -304     -279     -    198 +        "semver": "^6.3.1"
359     -331     -305     -280     -    199 +      },
360     -332     -306     -281     -    200 +      "engines": {
361     -333     -307     -282     -    201 +        "node": ">=6.9.0"
362     -334     -308     -283     -    202 +      }
363     -335     -309     -284     -    203 +    },
364     -336     -310     -285     -    204 +    "node_modules/@babel/helper-compilation-targets/node_modules/lru-cache": {
365     -337     -311     -286     -    205 +      "version": "5.1.1",
366     -338     -312     -287     -    206 +      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
367     -339     -313     -288     -    207 +      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
368     -340     -314     -289     -    208 +      "dev": true,
369     -341     -315     -290     -    209 +      "license": "ISC",
370     -342     -316     -291     -    210 +      "dependencies": {
371     -343     -317     -292     -    211 +        "yallist": "^3.0.2"
372     -344     -318     -293     -    212 +      }
373     -345     -319     -294     -    213 +    },
374     -346     -320     -295     -    214 +    "node_modules/@babel/helper-compilation-targets/node_modules/semver": {
375     -347     -321     -296     -    215 +      "version": "6.3.1",
376     -348     -322     -297     -    216 +      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
377     -349     -323     -298     -    217 +      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
378     -350     -324     -299     -    218 +      "dev": true,
379     -351     -325     -300     -    219 +      "license": "ISC",
380     -352     -326     -301     -    220 +      "bin": {
381     -353     -327     -302     -    221 +        "semver": "bin/semver.js"
382     -354     -328     -303     -    222 +      }
383     -355     -329     -304     -    223 +    },
384     -356     -330     -305     -    224 +    "node_modules/@babel/helper-globals": {
385     -357     -331     -306     -    225 +      "version": "7.28.0",
386     -358     -332     -307     -    226 +      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
387     -359     -333     -308     -    227 +      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
388     -360     -334     -309     -    228 +      "dev": true,
389     -361     -335     -310     -    229 +      "license": "MIT",
390     -362     -336     -311     -    230 +      "engines": {
391     -363     -337     -312     -    231 +        "node": ">=6.9.0"
392     -364     -338     -313     -    232 +      }
393     -365     -339     -314     -    233 +    },
394     -366     -340     -315     -    234 +    "node_modules/@babel/helper-module-imports": {
395     -367     -341     -316     -    235 +      "version": "7.27.1",
396     -368     -342     -317     -    236 +      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
397     -369     -343     -318     -    237 +      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
398     -370     -344     -319     -    238 +      "dev": true,
399     -371     -345     -320     -    239 +      "license": "MIT",
400     -372     -346     -321     -    240 +      "dependencies": {
401     -373     -347     -322     -    241 +        "@babel/traverse": "^7.27.1",
402     -374     -348     -323     -    242 +        "@babel/types": "^7.27.1"
403     -375     -349     -324     -    243 +      },
404     -376     -350     -325     -    244 +      "engines": {
405     -377     -351     -326     -    245 +        "node": ">=6.9.0"
406     -378     -352     -327     -    246 +      }
407     -379     -353     -328     -    247 +    },
408     -380     -354     -329     -    248 +    "node_modules/@babel/helper-module-transforms": {
409     -381     -355     -330     -    249 +      "version": "7.28.3",
410     -382     -356     -331     -    250 +      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
411     -383     -357     -332     -    251 +      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
412     -384     -358     -333     -    252 +      "dev": true,
413     -385     -359     -334     -    253 +      "license": "MIT",
414     -386     -360     -335     -    254 +      "dependencies": {
415     -387     -361     -336     -    255 +        "@babel/helper-module-imports": "^7.27.1",
416     -388     -362     -337     -    256 +        "@babel/helper-validator-identifier": "^7.27.1",
417     -389     -363     -338     -    257 +        "@babel/traverse": "^7.28.3"
418     -390     -364     -339     -    258 +      },
419     -391     -365     -340     -    259 +      "engines": {
420     -392     -366     -341     -    260 +        "node": ">=6.9.0"
421     -393     -367     -342     -    261 +      },
422     -394     -368     -343     -    262 +      "peerDependencies": {
423     -395     -369     -344     -    263 +        "@babel/core": "^7.0.0"
424     -396     -370     -345     -    264 +      }
425     -397     -371     -346     -    265 +    },
426     -398     -372     -347     - 96 266      "node_modules/@babel/helper-string-parser": {
427     -399     -373     -348     - 97 267        "version": "7.27.1",
428     -400     -374     -349     - 98 268        "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
429     -401     -375     -350     -@@ -113,6 +283,30 @@
430     -402     -376     -351     -113 283          "node": ">=6.9.0"
431     -403     -377     -352     -114 284        }
432     -404     -378     -353     -115 285      },
433     -405     -379     -354     -    286 +    "node_modules/@babel/helper-validator-option": {
434     -406     -380     -355     -    287 +      "version": "7.27.1",
435     -407     -381     -356     -    288 +      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
436     -408     -382     -357     -    289 +      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
437     -409     -383     -358     -    290 +      "dev": true,
438     -410     -384     -359     -    291 +      "license": "MIT",
439     -411     -385     -360     -    292 +      "engines": {
440     -412     -386     -361     -    293 +        "node": ">=6.9.0"
441     -413     -387     -362     -    294 +      }
442     -414     -388     -363     -    295 +    },
443     -415     -389     -364     -    296 +    "node_modules/@babel/helpers": {
444     -416     -390     -365     -    297 +      "version": "7.28.4",
445     -417     -391     -366     -    298 +      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
446     -418     -392     -367     -    299 +      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
447     -419     -393     -368     -    300 +      "dev": true,
448     -420     -394     -369     -    301 +      "license": "MIT",
449     -421     -395     -370     -    302 +      "dependencies": {
450     -422     -396     -371     -    303 +        "@babel/template": "^7.27.2",
451     -423     -397     -372     -    304 +        "@babel/types": "^7.28.4"
452     -424     -398     -373     -    305 +      },
453     -425     -399     -374     -    306 +      "engines": {
454     -426     -400     -375     -    307 +        "node": ">=6.9.0"
455     -427     -401     -376     -    308 +      }
456     -428     -402     -377     -    309 +    },
457     -429     -403     -378     -116 310      "node_modules/@babel/parser": {
458     -430     -404     -379     -117 311        "version": "7.28.5",
459     -431     -405     -380     -118 312        "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
460     -432     -406     -381     -@@ -138,6 +332,40 @@
461     -433     -407     -382     -138 332          "node": ">=6.9.0"
462     -434     -408     -383     -139 333        }
463     -435     -409     -384     -140 334      },
464     -436     -410     -385     -    335 +    "node_modules/@babel/template": {
465     -437     -411     -386     -    336 +      "version": "7.27.2",
466     -438     -412     -387     -    337 +      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
467     -439     -413     -388     -    338 +      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
468     -440     -414     -389     -    339 +      "dev": true,
469     -441     -415     -390     -    340 +      "license": "MIT",
470     -442     -416     -391     -    341 +      "dependencies": {
471     -443     -417     -392     -    342 +        "@babel/code-frame": "^7.27.1",
472     -444     -418     -393     -    343 +        "@babel/parser": "^7.27.2",
473     -445     -419     -394     -    344 +        "@babel/types": "^7.27.1"
474     -446     -420     -395     -    345 +      },
475     -447     -421     -396     -    346 +      "engines": {
476     -448     -422     -397     -    347 +        "node": ">=6.9.0"
477     -449     -423     -398     -    348 +      }
478     -450     -424     -399     -    349 +    },
479     -451     -425     -400     -    350 +    "node_modules/@babel/traverse": {
480     -452     -426     -401     -    351 +      "version": "7.28.5",
481     -453     -427     -402     -    352 +      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
482     -454     -428     -403     -    353 +      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
483     -455     -429     -404     -    354 +      "dev": true,
484     -456     -430     -405     -    355 +      "license": "MIT",
485     -457     -431     -406     -    356 +      "dependencies": {
486     -458     -432     -407     -    357 +        "@babel/code-frame": "^7.27.1",
487     -459     -433     -408     -    358 +        "@babel/generator": "^7.28.5",
488     -460     -434     -409     -    359 +        "@babel/helper-globals": "^7.28.0",
489     -461     -435     -410     -    360 +        "@babel/parser": "^7.28.5",
490     -462     -436     -411     -    361 +        "@babel/template": "^7.27.2",
491     -463     -437     -412     -    362 +        "@babel/types": "^7.28.5",
492     -464     -438     -413     -    363 +        "debug": "^4.3.1"
493     -465     -439     -414     -    364 +      },
494     -466     -440     -415     -    365 +      "engines": {
495     -467     -441     -416     -    366 +        "node": ">=6.9.0"
496     -468     -442     -417     -    367 +      }
497     -469     -443     -418     -    368 +    },
498     -470     -444     -419     -141 369      "node_modules/@babel/types": {
499     -471     -445     -420     -142 370        "version": "7.28.5",
500     -472     -446     -421     -143 371        "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
501     -473     -447     -422     -@@ -997,6 +1225,28 @@
502     -474     -448     -423     -997 1225          "mlly": "^1.8.0"
503     -475     -449     -424     -998 1226        }
504     -476     -450     -425     -999 1227      },
505     -477     -451     -426     -    1228 +    "node_modules/@jridgewell/gen-mapping": {
506     -478     -452     -427     -    1229 +      "version": "0.3.13",
507     -479     -453     -428     -    1230 +      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
508     -480     -454     -429     -    1231 +      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
509     -481     -455     -430     -    1232 +      "dev": true,
510     -482     -456     -431     -    1233 +      "license": "MIT",
511     -483     -457     -432     -    1234 +      "dependencies": {
512     -484     -458     -433     -    1235 +        "@jridgewell/sourcemap-codec": "^1.5.0",
513     -485     -459     -434     -    1236 +        "@jridgewell/trace-mapping": "^0.3.24"
514     -486     -460     -435     -    1237 +      }
515     -487     -461     -436     -    1238 +    },
516     -488     -462     -437     -    1239 +    "node_modules/@jridgewell/remapping": {
517     -489     -463     -438     -    1240 +      "version": "2.3.5",
518     -490     -464     -439     -    1241 +      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
519     -491     -465     -440     -    1242 +      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
520     -492     -466     -441     -    1243 +      "dev": true,
521     -493     -467     -442     -    1244 +      "license": "MIT",
522     -494     -468     -443     -    1245 +      "dependencies": {
523     -495     -469     -444     -    1246 +        "@jridgewell/gen-mapping": "^0.3.5",
524     -496     -470     -445     -    1247 +        "@jridgewell/trace-mapping": "^0.3.24"
525     -497     -471     -446     -    1248 +      }
526     -498     -472     -447     -    1249 +    },
527     -499     -473     -448     -1000 1250      "node_modules/@jridgewell/resolve-uri": {
528     -500     -474     -449     -1001 1251        "version": "3.1.2",
529     -501     -475     -450     -1002 1252        "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
530     -502     -476     -451     -@@ -1965,6 +2215,16 @@
531     -503     -477     -452     -1965 2215          "js-tokens": "^9.0.1"
532     -504     -478     -453     -1966 2216        }
533     -505     -479     -454     -1967 2217      },
534     -506     -480     -455     -    2218 +    "node_modules/babel-plugin-prismjs": {
535     -507     -481     -456     -    2219 +      "version": "2.1.0",
536     -508     -482     -457     -    2220 +      "resolved": "https://registry.npmjs.org/babel-plugin-prismjs/-/babel-plugin-prismjs-2.1.0.tgz",
537     -509     -483     -458     -    2221 +      "integrity": "sha512-ehzSKYfeAz4U78zi/sfwsjDPlq0LvDKxNefcZTJ/iKBu+plsHsLqZhUeGf1+82LAcA35UZGbU6ksEx2Utphc/g==",
538     -510     -484     -459     -    2222 +      "dev": true,
539     -511     -485     -460     -    2223 +      "license": "MIT",
540     -512     -486     -461     -    2224 +      "peerDependencies": {
541     -513     -487     -462     -    2225 +        "prismjs": "^1.18.0"
542     -514     -488     -463     -    2226 +      }
543     -515     -489     -464     -    2227 +    },
544     -516     -490     -465     -1968 2228      "node_modules/balanced-match": {
545     -517     -491     -466     -1969 2229        "version": "1.0.2",
546     -518     -492     -467     -1970 2230        "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
547     -519     -493     -468     -@@ -1981,6 +2241,16 @@
548     -520     -494     -469     -1981 2241          "node": ">= 0.6.0"
549     -521     -495     -470     -1982 2242        }
550     -522     -496     -471     -1983 2243      },
551     -523     -497     -472     -    2244 +    "node_modules/baseline-browser-mapping": {
552     -524     -498     -473     -    2245 +      "version": "2.9.5",
553     -525     -499     -474     -    2246 +      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.5.tgz",
554     -526     -500     -475     -    2247 +      "integrity": "sha512-D5vIoztZOq1XM54LUdttJVc96ggEsIfju2JBvht06pSzpckp3C7HReun67Bghzrtdsq9XdMGbSSB3v3GhMNmAA==",
555     -527     -501     -476     -    2248 +      "dev": true,
556     -528     -502     -477     -    2249 +      "license": "Apache-2.0",
557     -529     -503     -478     -    2250 +      "bin": {
558     -530     -504     -479     -    2251 +        "baseline-browser-mapping": "dist/cli.js"
559     -531     -505     -480     -    2252 +      }
560     -532     -506     -481     -    2253 +    },
561     -533     -507     -482     -1984 2254      "node_modules/bidi-js": {
562     -534     -508     -483     -1985 2255        "version": "1.0.3",
563     -535     -509     -484     -1986 2256        "resolved": "https://registry.npmjs.org/bidi-js/-/bidi-js-1.0.3.tgz",
564     -536     -510     -485     -@@ -2057,6 +2327,40 @@
565     -537     -511     -486     -2057 2327          "concat-map": "0.0.1"
566     -538     -512     -487     -2058 2328        }
567     -539     -513     -488     -2059 2329      },
568     -540     -514     -489     -    2330 +    "node_modules/browserslist": {
569     -541     -515     -490     -    2331 +      "version": "4.28.1",
570     -542     -516     -491     -    2332 +      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
571     -543     -517     -492     -    2333 +      "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
572     -544     -518     -493     -    2334 +      "dev": true,
573     -545     -519     -494     -    2335 +      "funding": [
574     -546     -520     -495     -    2336 +        {
575     -547     -521     -496     -    2337 +          "type": "opencollective",
576     -548     -522     -497     -    2338 +          "url": "https://opencollective.com/browserslist"
577     -549     -523     -498     -    2339 +        },
578     -550     -524     -499     -    2340 +        {
579     -551     -525     -500     -    2341 +          "type": "tidelift",
580     -552     -526     -501     -    2342 +          "url": "https://tidelift.com/funding/github/npm/browserslist"
581     -553     -527     -502     -    2343 +        },
582     -554     -528     -503     -    2344 +        {
583     -555     -529     -504     -    2345 +          "type": "github",
584     -556     -530     -505     -    2346 +          "url": "https://github.com/sponsors/ai"
585     -557     -531     -506     -    2347 +        }
586     -558     -532     -507     -    2348 +      ],
587     -559     -533     -508     -    2349 +      "license": "MIT",
588     -560     -534     -509     -    2350 +      "dependencies": {
589     -561     -535     -510     -    2351 +        "baseline-browser-mapping": "^2.9.0",
590     -562     -536     -511     -    2352 +        "caniuse-lite": "^1.0.30001759",
591     -563     -537     -512     -    2353 +        "electron-to-chromium": "^1.5.263",
592     -564     -538     -513     -    2354 +        "node-releases": "^2.0.27",
593     -565     -539     -514     -    2355 +        "update-browserslist-db": "^1.2.0"
594     -566     -540     -515     -    2356 +      },
595     -567     -541     -516     -    2357 +      "bin": {
596     -568     -542     -517     -    2358 +        "browserslist": "cli.js"
597     -569     -543     -518     -    2359 +      },
598     -570     -544     -519     -    2360 +      "engines": {
599     -571     -545     -520     -    2361 +        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
600     -572     -546     -521     -    2362 +      }
601     -573     -547     -522     -    2363 +    },
602     -574     -548     -523     -2060 2364      "node_modules/bytes": {
603     -575     -549     -524     -2061 2365        "version": "3.1.2",
604     -576     -550     -525     -2062 2366        "resolved": "https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz",
605     -577     -551     -526     -@@ -2108,6 +2412,27 @@
606     -578     -552     -527     -2108 2412          "node": ">=6"
607     -579     -553     -528     -2109 2413        }
608     -580     -554     -529     -2110 2414      },
609     -581     -555     -530     -    2415 +    "node_modules/caniuse-lite": {
610     -582     -556     -531     -    2416 +      "version": "1.0.30001759",
611     -583     -557     -532     -    2417 +      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001759.tgz",
612     -584     -558     -533     -    2418 +      "integrity": "sha512-Pzfx9fOKoKvevQf8oCXoyNRQ5QyxJj+3O0Rqx2V5oxT61KGx8+n6hV/IUyJeifUci2clnmmKVpvtiqRzgiWjSw==",
613     -585     -559     -534     -    2419 +      "dev": true,
614     -586     -560     -535     -    2420 +      "funding": [
615     -587     -561     -536     -    2421 +        {
616     -588     -562     -537     -    2422 +          "type": "opencollective",
617     -589     -563     -538     -    2423 +          "url": "https://opencollective.com/browserslist"
618     -590     -564     -539     -    2424 +        },
619     -591     -565     -540     -    2425 +        {
620     -592     -566     -541     -    2426 +          "type": "tidelift",
621     -593     -567     -542     -    2427 +          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
622     -594     -568     -543     -    2428 +        },
623     -595     -569     -544     -    2429 +        {
624     -596     -570     -545     -    2430 +          "type": "github",
625     -597     -571     -546     -    2431 +          "url": "https://github.com/sponsors/ai"
626     -598     -572     -547     -    2432 +        }
627     -599     -573     -548     -    2433 +      ],
628     -600     -574     -549     -    2434 +      "license": "CC-BY-4.0"
629     -601     -575     -550     -    2435 +    },
630     -602     -576     -551     -2111 2436      "node_modules/canvg": {
631     -603     -577     -552     -2112 2437        "version": "3.0.11",
632     -604     -578     -553     -2113 2438        "resolved": "https://registry.npmjs.org/canvg/-/canvg-3.0.11.tgz",
633     -605     -579     -554     -@@ -2246,6 +2571,13 @@
634     -606     -580     -555     -2246 2571          "node": ">= 0.6"
635     -607     -581     -556     -2247 2572        }
636     -608     -582     -557     -2248 2573      },
637     -609     -583     -558     -    2574 +    "node_modules/convert-source-map": {
638     -610     -584     -559     -    2575 +      "version": "2.0.0",
639     -611     -585     -560     -    2576 +      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
640     -612     -586     -561     -    2577 +      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
641     -613     -587     -562     -    2578 +      "dev": true,
642     -614     -588     -563     -    2579 +      "license": "MIT"
643     -615     -589     -564     -    2580 +    },
644     -616     -590     -565     -2249 2581      "node_modules/cookie": {
645     -617     -591     -566     -2250 2582        "version": "0.7.1",
646     -618     -592     -567     -2251 2583        "resolved": "https://registry.npmjs.org/cookie/-/cookie-0.7.1.tgz",
647     -619     -593     -568     -@@ -2972,6 +3304,13 @@
648     -620     -594     -569     -2972 3304        "dev": true,
649     -621     -595     -570     -2973 3305        "license": "MIT"
650     -622     -596     -571     -2974 3306      },
651     -623     -597     -572     -    3307 +    "node_modules/electron-to-chromium": {
652     -624     -598     -573     -    3308 +      "version": "1.5.267",
653     -625     -599     -574     -    3309 +      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
654     -626     -600     -575     -    3310 +      "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
655     -627     -601     -576     -    3311 +      "dev": true,
656     -628     -602     -577     -    3312 +      "license": "ISC"
657     -629     -603     -578     -    3313 +    },
658     -630     -604     -579     -2975 3314      "node_modules/encodeurl": {
659     -631     -605     -580     -2976 3315        "version": "2.0.0",
660     -632     -606     -581     -2977 3316        "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
661     -633     -607     -582     -@@ -3077,6 +3416,16 @@
662     -634     -608     -583     -3077 3416          "@esbuild/win32-x64": "0.25.12"
663     -635     -609     -584     -3078 3417        }
664     -636     -610     -585     -3079 3418      },
665     -637     -611     -586     -    3419 +    "node_modules/escalade": {
666     -638     -612     -587     -    3420 +      "version": "3.2.0",
667     -639     -613     -588     -    3421 +      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
668     -640     -614     -589     -    3422 +      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
669     -641     -615     -590     -    3423 +      "dev": true,
670     -642     -616     -591     -    3424 +      "license": "MIT",
671     -643     -617     -592     -    3425 +      "engines": {
672     -644     -618     -593     -    3426 +        "node": ">=6"
673     -645     -619     -594     -    3427 +      }
674     -646     -620     -595     -    3428 +    },
675     -647     -621     -596     -3080 3429      "node_modules/escape-html": {
676     -648     -622     -597     -3081 3430        "version": "1.0.3",
677     -649     -623     -598     -3082 3431        "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
678     -650     -624     -599     -@@ -3533,6 +3882,16 @@
679     -651     -625     -600     -3533 3882          "url": "https://github.com/sponsors/ljharb"
680     -652     -626     -601     -3534 3883        }
681     -653     -627     -602     -3535 3884      },
682     -654     -628     -603     -    3885 +    "node_modules/gensync": {
683     -655     -629     -604     -    3886 +      "version": "1.0.0-beta.2",
684     -656     -630     -605     -    3887 +      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
685     -657     -631     -606     -    3888 +      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
686     -658     -632     -607     -    3889 +      "dev": true,
687     -659     -633     -608     -    3890 +      "license": "MIT",
688     -660     -634     -609     -    3891 +      "engines": {
689     -661     -635     -610     -    3892 +        "node": ">=6.9.0"
690     -662     -636     -611     -    3893 +      }
691     -663     -637     -612     -    3894 +    },
692     -664     -638     -613     -3536 3895      "node_modules/get-intrinsic": {
693     -665     -639     -614     -3537 3896        "version": "1.3.0",
694     -666     -640     -615     -3538 3897        "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
695     -667     -641     -616     -@@ -3973,6 +4332,19 @@
696     -668     -642     -617     -3973 4332          }
697     -669     -643     -618     -3974 4333        }
698     -670     -644     -619     -3975 4334      },
699     -671     -645     -620     -    4335 +    "node_modules/jsesc": {
700     -672     -646     -621     -    4336 +      "version": "3.1.0",
701     -673     -647     -622     -    4337 +      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
702     -674     -648     -623     -    4338 +      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
703     -675     -649     -624     -    4339 +      "dev": true,
704     -676     -650     -625     -    4340 +      "license": "MIT",
705     -677     -651     -626     -    4341 +      "bin": {
706     -678     -652     -627     -    4342 +        "jsesc": "bin/jsesc"
707     -679     -653     -628     -    4343 +      },
708     -680     -654     -629     -    4344 +      "engines": {
709     -681     -655     -630     -    4345 +        "node": ">=6"
710     -682     -656     -631     -    4346 +      }
711     -683     -657     -632     -    4347 +    },
712     -684     -658     -633     -3976 4348      "node_modules/json-buffer": {
713     -685     -659     -634     -3977 4349        "version": "3.0.1",
714     -686     -660     -635     -3978 4350        "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
715     -687     -661     -636     -@@ -3994,6 +4366,19 @@
716     -688     -662     -637     -3994 4366        "dev": true,
717     -689     -663     -638     -3995 4367        "license": "MIT"
718     -690     -664     -639     -3996 4368      },
719     -691     -665     -640     -    4369 +    "node_modules/json5": {
720     -692     -666     -641     -    4370 +      "version": "2.2.3",
721     -693     -667     -642     -    4371 +      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
722     -694     -668     -643     -    4372 +      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
723     -695     -669     -644     -    4373 +      "dev": true,
724     -696     -670     -645     -    4374 +      "license": "MIT",
725     -697     -671     -646     -    4375 +      "bin": {
726     -698     -672     -647     -    4376 +        "json5": "lib/cli.js"
727     -699     -673     -648     -    4377 +      },
728     -700     -674     -649     -    4378 +      "engines": {
729     -701     -675     -650     -    4379 +        "node": ">=6"
730     -702     -676     -651     -    4380 +      }
731     -703     -677     -652     -    4381 +    },
732     -704     -678     -653     -3997 4382      "node_modules/jspdf": {
733     -705     -679     -654     -3998 4383        "version": "3.0.4",
734     -706     -680     -655     -3999 4384        "resolved": "https://registry.npmjs.org/jspdf/-/jspdf-3.0.4.tgz",
735     -707     -681     -656     -@@ -4377,6 +4762,13 @@
736     -708     -682     -657     -4377 4762          "node": ">= 0.6"
737     -709     -683     -658     -4378 4763        }
738     -710     -684     -659     -4379 4764      },
739     -711     -685     -660     -    4765 +    "node_modules/node-releases": {
740     -712     -686     -661     -    4766 +      "version": "2.0.27",
741     -713     -687     -662     -    4767 +      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
742     -714     -688     -663     -    4768 +      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
743     -715     -689     -664     -    4769 +      "dev": true,
744     -716     -690     -665     -    4770 +      "license": "MIT"
745     -717     -691     -666     -    4771 +    },
746     -718     -692     -667     -4380 4772      "node_modules/object-assign": {
747     -719     -693     -668     -4381 4773        "version": "4.1.1",
748     -720     -694     -669     -4382 4774        "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
749     -721     -695     -670     -@@ -5384,6 +5776,37 @@
750     -722     -696     -671     -5384 5776          "node": ">= 0.8"
751     -723     -697     -672     -5385 5777        }
752     -724     -698     -673     -5386 5778      },
753     -725     -699     -674     -    5779 +    "node_modules/update-browserslist-db": {
754     -726     -700     -675     -    5780 +      "version": "1.2.2",
755     -727     -701     -676     -    5781 +      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.2.tgz",
756     -728     -702     -677     -    5782 +      "integrity": "sha512-E85pfNzMQ9jpKkA7+TJAi4TJN+tBCuWh5rUcS/sv6cFi+1q9LYDwDI5dpUL0u/73EElyQ8d3TEaeW4sPedBqYA==",
757     -729     -703     -678     -    5783 +      "dev": true,
758     -730     -704     -679     -    5784 +      "funding": [
759     -731     -705     -680     -    5785 +        {
760     -732     -706     -681     -    5786 +          "type": "opencollective",
761     -733     -707     -682     -    5787 +          "url": "https://opencollective.com/browserslist"
762     -734     -708     -683     -    5788 +        },
763     -735     -709     -684     -    5789 +        {
764     -736     -710     -685     -    5790 +          "type": "tidelift",
765     -737     -711     -686     -    5791 +          "url": "https://tidelift.com/funding/github/npm/browserslist"
766     -738     -712     -687     -    5792 +        },
767     -739     -713     -688     -    5793 +        {
768     -740     -714     -689     -    5794 +          "type": "github",
769     -741     -715     -690     -    5795 +          "url": "https://github.com/sponsors/ai"
770     -742     -716     -691     -    5796 +        }
771     -743     -717     -692     -    5797 +      ],
772     -744     -718     -693     -    5798 +      "license": "MIT",
773     -745     -719     -694     -    5799 +      "dependencies": {
774     -746     -720     -695     -    5800 +        "escalade": "^3.2.0",
775     -747     -721     -696     -    5801 +        "picocolors": "^1.1.1"
776     -748     -722     -697     -    5802 +      },
777     -749     -723     -698     -    5803 +      "bin": {
778     -750     -724     -699     -    5804 +        "update-browserslist-db": "cli.js"
779     -751     -725     -700     -    5805 +      },
780     -752     -726     -701     -    5806 +      "peerDependencies": {
781     -753     -727     -702     -    5807 +        "browserslist": ">= 4.21.0"
782     -754     -728     -703     -    5808 +      }
783     -755     -729     -704     -    5809 +    },
784     -756     -730     -705     -5387 5810      "node_modules/uri-js": {
785     -757     -731     -706     -5388 5811        "version": "4.4.1",
786     -758     -732     -707     -5389 5812        "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
787     -759     -733     -708     -@@ -5511,6 +5934,20 @@
788     -760     -734     -709     -5511 5934          }
789     -761     -735     -710     -5512 5935        }
790     -762     -736     -711     -5513 5936      },
791     -763     -737     -712     -    5937 +    "node_modules/vite-plugin-prismjs": {
792     -764     -738     -713     -    5938 +      "version": "0.0.11",
793     -765     -739     -714     -    5939 +      "resolved": "https://registry.npmjs.org/vite-plugin-prismjs/-/vite-plugin-prismjs-0.0.11.tgz",
794     -766     -740     -715     -    5940 +      "integrity": "sha512-20NBQxg/zH+3FTrlU6BQTob720xkuXNYtrx7psAQ4E6pMcRDeLEK77QU9kXURU587+f2To7ASH1JVTGbXVV/vQ==",
795     -767     -741     -716     -    5941 +      "dev": true,
796     -768     -742     -717     -    5942 +      "license": "MIT",
797     -769     -743     -718     -    5943 +      "dependencies": {
798     -770     -744     -719     -    5944 +        "@babel/core": "^7.15.5",
799     -771     -745     -720     -    5945 +        "babel-plugin-prismjs": "^2.1.0"
800     -772     -746     -721     -    5946 +      },
801     -773     -747     -722     -    5947 +      "engines": {
802     -774     -748     -723     -    5948 +        "node": ">=12.0.0"
803     -775     -749     -724     -    5949 +      }
804     -776     -750     -725     -    5950 +    },
805     -777     -751     -726     -5514 5951      "node_modules/vitest": {
806     -778     -752     -727     -5515 5952        "version": "4.0.8",
807     -779     -753     -728     -5516 5953        "resolved": "https://registry.npmjs.org/vitest/-/vitest-4.0.8.tgz",
808     -780     -754     -729     -@@ -5780,6 +6217,13 @@
809     -781     -755     -730     -5780 6217        "dev": true,
810     -782     -756     -731     -5781 6218        "license": "MIT"
811     -783     -757     -732     -5782 6219      },
812     -784     -758     -733     -    6220 +    "node_modules/yallist": {
813     -785     -759     -734     -    6221 +      "version": "3.1.1",
814     -786     -760     -735     -    6222 +      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
815     -787     -761     -736     -    6223 +      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
816     -788     -762     -737     -    6224 +      "dev": true,
817     -789     -763     -738     -    6225 +      "license": "ISC"
818     -790     -764     -739     -    6226 +    },
819     -791     -765     -740     -5783 6227      "node_modules/yocto-queue": {
820     -792     -766     -741     -5784 6228        "version": "0.1.0",
821     -793     -767     -742     -5785 6229        "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
822     -794     -768     -743     -5786 6230  
823     -795     -769     -744     -
824     -796     -770     -745     -```
825     -797     -771     -746     -
826     -798     -772     -747     -
827     -799     -773     -748     -### üìÑ `package.json`
828     -800     -774     -749     -
829     -801     -775     -750     -**Type:** Configuration/Data File üìã
830     -802     -776     -751     -
831     -803     -777     -752     -```diff
832     -804     -778     -753     -@@ -38,6 +38,7 @@
833     -805     -779     -754     - 38  38      "prettier": "3.6.2",
834     -806     -780     -755     - 39  39      "typescript": "5.9.3",
835     -807     -781     -756     - 40  40      "vite": "7.2.2",
836     -808     -782     -757     -     41 +    "vite-plugin-prismjs": "0.0.11",
837     -809     -783     -758     - 41  42      "vitest": "4.0.8"
838     -810     -784     -759     - 42  43    },
839     -811     -785     -760     - 43  44    "dependencies": {
840     -812     -786     -761     - 44  45  
841     -813     -787     -762     -
842     -814     -788     -763     -```
843     -815     -789     -     13 +## üìù Files Changed (1/1 selected)
844     -816     -790     -764  14  
845     -817     -791     -765  15  
846     -818     -792     -766  16  ### üìÑ `script.js`
847     -819     -793     -@@ -768,119 +18,32 @@ AI_REVIEW.md      | 107 ++++++++++---
848     -820     -794     -768  18  **Type:** JavaScript Source File üü®
849     -821     -795     -769  19  
850     -822     -796     -770  20  ```diff
851     -823     -797     -771     -@@ -9,26 +9,9 @@ import { marked } from 'marked';
852     -824     -798     -772     -  9   9  import markedFootnote from 'marked-footnote';
853     -825     -799     -773     - 10  10  import mermaid from 'mermaid';
854     -826     -800     -774     - 11  11  import Prism from 'prismjs';
855     -827     -801     -775     - 12     -import 'prismjs/components/prism-bash';
856     -828     -802     -776     - 13     -import 'prismjs/components/prism-batch';
857     -829     -803     -777     - 14     -import 'prismjs/components/prism-c';
858     -830     -804     -778     - 15     -import 'prismjs/components/prism-cpp';
859     -831     -805     -779     - 16     -import 'prismjs/components/prism-css';
860     -832     -806     -780     - 17     -import 'prismjs/components/prism-diff';
861     -833     -807     -781     - 18     -import 'prismjs/components/prism-go';
862     -834     -808     -782     - 19     -import 'prismjs/components/prism-ini';
863     -835     -809     -783     - 20     -import 'prismjs/components/prism-java';
864     -836     -810     -784     - 21     -import 'prismjs/components/prism-javascript';
865     -837     -811     -785     - 22     -import 'prismjs/components/prism-json';
866     -838     -812     -786     - 23     -import 'prismjs/components/prism-markdown';
867     -839     -813     -787     - 24     -import 'prismjs/components/prism-python';
868     -840     -814     -788     - 25     -import 'prismjs/components/prism-r';
869     -841     -815     -789     - 26     -import 'prismjs/components/prism-rust';
870     -842     -816     -790     - 27     -import 'prismjs/components/prism-scss';
871     -843     -817     -791     - 28     -import 'prismjs/components/prism-sql';
872     -844     -818     -792     - 29     -import 'prismjs/components/prism-typescript';
873     -845     -819     -793     - 30     -import 'prismjs/components/prism-yaml';
874     -846     -820     -794     - 31     -import 'prismjs/themes/prism-tomorrow.css'; // Import Prism CSS
875     -847     -821     -795     -     12 +
876     -848     -822     -796     -     13 +// PrismJS is now handled by vite-plugin-prismjs
877     -849     -823     -797     -     14 +// which automatically loads all languages and themes
878     -850     -824     -798     - 32  15  
879     -851     -825     -799     - 33  16  import { StorageManager } from './src/js/core/StorageManager.js';
880     -852     -826     -800     - 34  17  import { ThemeManager } from './src/js/core/ThemeManager.js';
881     -853     -827     -801     -@@ -189,6 +172,9 @@ function configureMarkedExtensions() {
882     -854     -828     -802     -189 172                  throwOnError: false,
883     -855     -829     -803     -190 173                  output: 'html',
884     -856     -830     -804     -191 174                  trust: true, // Allow custom styling
885     -857     -831     -805     -    175 +                macros: {
886     -858     -832     -806     -    176 +                  '\\label': '\\phantom', // Hide \label
887     -859     -833     -807     -    177 +                },
888     -860     -834     -808     -192 178                }) +
889     -861     -835     -809     -193 179                '</div>'
890     -862     -836     -810     -194 180              );
891     -863     -837     -811     -@@ -206,8 +192,8 @@ function configureMarkedExtensions() {
892     -864     -838     -812     -206 192            return src.match(/^\s*\\begin/)?.index;
893     -865     -839     -813     -207 193          },
894     -866     -840     -814     -208 194          tokenizer(src) {
895     -867     -841     -815     -209     -          // Robust regex for LaTeX environments
896     -868     -842     -816     -210     -          const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
897     -869     -843     -817     -    195 +          // Robust regex for LaTeX environments (tolerant to whitespace)
898     -870     -844     -818     -    196 +          const match = src.match(/^\s*(\\begin\s*\{\s*([a-zA-Z]+\*?)\s*\}\s*([\s\S]*?)\s*\\end\s*\{\s*\2\s*\})/);
899     -871     -845     -819     -211 197            if (match) {
900     -872     -846     -820     -212 198              return {
901     -873     -847     -821     -213 199                type: 'mathEnvironment',
902     -874     -848     -822     -@@ -225,6 +211,12 @@ function configureMarkedExtensions() {
903     -875     -849     -823     -225 211                  throwOnError: false,
904     -876     -850     -824     -226 212                  output: 'html',
905     -877     -851     -825     -227 213                  trust: true,
906     -878     -852     -826     -    214 +                macros: {
907     -879     -853     -827     -    215 +                  '\\label': '\\phantom', // Hide \label
908     -880     -854     -828     -    216 +                  '\\eqref': '\\text', // Plain text for refs (or link if needed)
909     -881     -855     -829     -    217 +                  '\\cite': '\\text',
910     -882     -856     -830     -    218 +                  '\\ref': '\\text',
911     -883     -857     -831     -    219 +                },
912     -884     -858     -832     -228 220                }) +
913     -885     -859     -833     -229 221                '</div>'
914     -886     -860     -834     -230 222              );
915     -887     -861     -835     -@@ -269,6 +261,9 @@ function configureMarkedExtensions() {
916     -888     -862     -836     -269 261                displayMode: token.displayMode || false,
917     -889     -863     -837     -270 262                throwOnError: false,
918     -890     -864     -838     -271 263                output: 'html',
919     -891     -865     -839     -    264 +              macros: {
920     -892     -866     -840     -    265 +                '\\label': '\\phantom',
921     -893     -867     -841     -    266 +              },
922     -894     -868     -842     -272 267              });
923     -895     -869     -843     -273 268  
924     -896     -870     -844     -274 269              // Wrap display math in a div for proper spacing
925     -897     -871     -845     -275 270  
926     -898     -872     -846     -
927     -899     -873     -847     -```
928     -900     -874     -848     -
929     -901     -875     -849     -
930     -902     -876     -850     -### üìÑ `vite.config.js`
931     -903     -877     -851     -
932     -904     -878     -852     -**Type:** JavaScript Source File üü®
933     -905     -879     -853     -
934     -906     -880     -854     -```diff
935     -907     -881     -855     -@@ -1,20 +1,25 @@
936     -908     -882     -856     -  1   1  import { copyFileSync, mkdirSync, readdirSync } from 'fs';
937     -909     -883     -857     -  2   2  import { join } from 'path';
938     -910     -884     -858     -  3   3  import { defineConfig } from 'vite';
939     -911     -885     -859     -      4 +import prism from 'vite-plugin-prismjs';
940     -912     -886     -860     -  4   5  
941     -913     -887     -861     -  5   6  export default defineConfig({
942     -914     -888     -862     -  6   7    root: './',
943     -915     -889     -863     -  7   8    base: '/markdown-viewer-app/',
944     -916     -890     -864     -  8   9    build: {
945     -917     -891     -865     -  9  10      outDir: 'dist',
946     -918     -892     -866     - 10     -    // Note: marked, prismjs, and mermaid are loaded via CDN in index.html
947     -919     -893     -867     - 11     -    // No need for manualChunks as they are not npm dependencies
948     -920     -894     -868     - 12  11    },
949     -921     -895     -869     - 13  12    server: {
950     -922     -896     -870     - 14  13      port: 3000,
951     -923     -897     -871     - 15  14      open: true,
952     -924     -898     -872     - 16  15    },
953     -925     -899     -873     - 17  16    plugins: [
954     -926     -900     -874     -     17 +    prism({
955     -927     -901     -875     -     18 +      languages: 'all', // Load ALL languages for future-proofing
956     -928     -902     -876     -     19 +      plugins: ['line-numbers', 'copy-to-clipboard'],
957     -929     -903     -877     -     20 +      theme: 'tomorrow',
958     -930     -904     -878     -     21 +      css: true,
959     -931     -905     -879     -     22 +    }),
960     -932     -906     -880     - 18  23      {
961     -933     -907     -881     - 19  24        name: 'copy-themes',
962     -934     -908     -882     - 20  25        closeBundle() {
963     -935     -909     -883     - 21  26  
964     -936     -910     -     21 +@@ -544,6 +544,11 @@ graph TD
965     -937     -911     -     22 +544 544          const id = element.id;
966     -938     -912     -     23 +545 545          const code = decodeURIComponent(element.dataset.code);
967     -939     -913     -     24 +546 546  
968     -940     -914     -     25 +    547 +        if (!code || !code.trim()) {
969     -941     -915     -     26 +    548 +          element.innerHTML = '';
970     -942     -916     -     27 +    549 +          return;
971     -943     -917     -     28 +    550 +        }
972     -944     -918     -     29 +    551 +
973     -945     -919     -     30 +547 552          if (typeof mermaid !== 'undefined') {
974     -946     -920     -     31 +548 553            mermaid
975     -947     -921     -     32 +549 554              .render('mermaid-svg-' + id, code)
976     -948     -922     -     33 +@@ -551,7 +556,11 @@ graph TD
977     -949     -923     -     34 +551 556                element.innerHTML = result.svg;
978     -950     -924     -     35 +552 557              })
979     -951     -925     -     36 +553 558              .catch(err => {
980     -952     -926     -     37 +554     -              element.innerHTML = `<p style="color: red;">Mermaid diagram error: ${err.message}</p>`;
981     -953     -927     -     38 +    559 +              console.warn('Mermaid error:', err);
982     -954     -928     -     39 +    560 +              // Graceful failure: small warning instead of giant red text
983     -955     -929     -     40 +    561 +              element.innerHTML = `<div style="color: var(--text-secondary); font-size: 0.8em; text-align: center; border: 1px dashed var(--border-color); padding: 8px; border-radius: 6px; opacity: 0.8; margin: 10px 0;">
984     -956     -930     -     41 +    562 +                <span style="font-size: 1.2em;">‚ö†Ô∏è</span> Invalid Mermaid Syntax
985     -957     -931     -     42 +    563 +              </div>`;
986     -958     -932     -     43 +555 564              });
987     -959     -933     -     44 +556 565          }
988     -960     -934     -     45 +557 566        });
989     -961     -935     -     46 +558 567  
990     -962     -936     -884  47  
991     -963     -937     -885  48  ```
992     -964     -938     -886  49  
993     -965     -939     -@@ -926,4 +89,4 @@ Please provide specific feedback on:
994     -966     -940     -926  89  
995     -967     -941     -927  90  ---
996     -968     -942     -928  91  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
997     -969     -943     -929     -*Files processed: 5/5 | Errors: 0 | Generated: 2025-12-09T02:07:02.257Z*
998     -970     -944     -     92 +*Files processed: 1/1 | Errors: 0 | Generated: 2025-12-09T03:47:49.443Z*
999     -971     -945     -930  93  
1000     -972     -     32 +  9     -script.js | 11 ++++++++++-
1001     -973     -     33 + 10     - 1 file changed, 10 insertions(+), 1 deletion(-)
1002     -974     -     34 +      9 +AI_REVIEW.md | 899 +++--------------------------------------------------------
1003     -975     -     35 +     10 + style.css    |  44 ++-
1004     -976     -     36 +     11 + 2 files changed, 71 insertions(+), 872 deletions(-)
1005     -977     -     37 + 11  12  ```
1006     -978     -     38 + 12  13  
1007     -979     -     39 + 13     -## üìù Files Changed (1/1 selected)
1008     -980     -     40 +     14 +## üìù Files Changed (2/2 selected)
1009     -981     -     41 + 14  15  
1010     -982     -     42 + 15  16  
1011     -983     -     43 + 16     -### üìÑ `script.js`
1012     -984     -     44 +     17 +### üìÑ `AI_REVIEW.md`
1013     -985     -     45 + 17  18  
1014     -986     -     46 + 18     -**Type:** JavaScript Source File üü®
1015     -987     -     47 +     19 +**Type:** Documentation üìñ
1016     -988     -     48 + 19  20  
1017     -989     -     49 + 20  21  ```diff
1018     -990     -     50 + 21     -@@ -544,6 +544,11 @@ graph TD
1019     -991     -     51 + 22     -544 544          const id = element.id;
1020     -992     -     52 + 23     -545 545          const code = decodeURIComponent(element.dataset.code);
1021     -993     -     53 + 24     -546 546  
1022     -994     -     54 + 25     -    547 +        if (!code || !code.trim()) {
1023     -995     -     55 + 26     -    548 +          element.innerHTML = '';
1024     -996     -     56 + 27     -    549 +          return;
1025     -997     -     57 + 28     -    550 +        }
1026     -998     -     58 + 29     -    551 +
1027     -999     -     59 + 30     -547 552          if (typeof mermaid !== 'undefined') {
1028     -1000     -     60 + 31     -548 553            mermaid
1029     -1001     -     61 + 32     -549 554              .render('mermaid-svg-' + id, code)
1030     -1002     -     62 + 33     -@@ -551,7 +556,11 @@ graph TD
1031     -1003     -     63 + 34     -551 556                element.innerHTML = result.svg;
1032     -1004     -     64 + 35     -552 557              })
1033     -1005     -     65 + 36     -553 558              .catch(err => {
1034     -1006     -     66 + 37     -554     -              element.innerHTML = `<p style="color: red;">Mermaid diagram error: ${err.message}</p>`;
1035     -1007     -     67 + 38     -    559 +              console.warn('Mermaid error:', err);
1036     -1008     -     68 + 39     -    560 +              // Graceful failure: small warning instead of giant red text
1037     -1009     -     69 + 40     -    561 +              element.innerHTML = `<div style="color: var(--text-secondary); font-size: 0.8em; text-align: center; border: 1px dashed var(--border-color); padding: 8px; border-radius: 6px; opacity: 0.8; margin: 10px 0;">
1038     -1010     -     70 + 41     -    562 +                <span style="font-size: 1.2em;">‚ö†Ô∏è</span> Invalid Mermaid Syntax
1039     -1011     -     71 + 42     -    563 +              </div>`;
1040     -1012     -     72 + 43     -555 564              });
1041     -1013     -     73 + 44     -556 565          }
1042     -1014     -     74 + 45     -557 566        });
1043     -1015     -     75 + 46     -558 567  
1044     -1016     -     76 +     22 +@@ -1,4 +1,4 @@
1045     -1017     -     77 +     23 +  1     -# üîç Code Review - 12/9/2025, 7:37:02 AM
1046     -1018     -     78 +     24 +      1 +# üîç Code Review - 12/9/2025, 9:17:49 AM
1047     -1019     -     79 +     25 +  2   2  
1048     -1020     -     80 +     26 +  3   3  **Project:** AI Visual Code Review
1049     -1021     -     81 +     27 +  4   4  **Generated by:** AI Visual Code Review v2.0
1050     -1022     -     82 +     28 +@@ -6,761 +6,11 @@
1051     -1023     -     83 +     29 +  6   6  ## üìä Change Summary
1052     -1024     -     84 +     30 +  7   7  
1053     -1025     -     85 +     31 +  8   8  ```
1054     -1026     -     86 +     32 +  9     -AI_REVIEW.md      | 107 ++++++++++---
1055     -1027     -     87 +     33 + 10     - package-lock.json | 444 ++++++++++++++++++++++++++++++++++++++++++++++++++++++
1056     -1028     -     88 +     34 + 11     - package.json      |   1 +
1057     -1029     -     89 +     35 + 12     - script.js         |  39 +++--
1058     -1030     -     90 +     36 + 13     - vite.config.js    |   9 +-
1059     -1031     -     91 +     37 + 14     - 5 files changed, 555 insertions(+), 45 deletions(-)
1060     -1032     -     92 +     38 +      9 +script.js | 11 ++++++++++-
1061     -1033     -     93 +     39 +     10 + 1 file changed, 10 insertions(+), 1 deletion(-)
1062     -1034     -     94 +     40 + 15  11  ```
1063     -1035     -     95 +     41 + 16  12  
1064     -1036     -     96 +     42 + 17     -## üìù Files Changed (5/5 selected)
1065     -1037     -     97 +     43 + 18     -
1066     -1038     -     98 +     44 + 19     -
1067     -1039     -     99 +     45 + 20     -### üìÑ `AI_REVIEW.md`
1068     -1040     -    100 +     46 + 21     -
1069     -1041     -    101 +     47 + 22     -**Type:** Documentation üìñ
1070     -1042     -    102 +     48 + 23     -
1071     -1043     -    103 +     49 + 24     -```diff
1072     -1044     -    104 +     50 + 25     -@@ -1,4 +1,4 @@
1073     -1045     -    105 +     51 + 26     -  1     -# üîç Code Review - 12/9/2025, 7:27:41 AM
1074     -1046     -    106 +     52 + 27     -      1 +# üîç Code Review - 12/9/2025, 7:32:58 AM
1075     -1047     -    107 +     53 + 28     -  2   2  
1076     -1048     -    108 +     54 + 29     -  3   3  **Project:** AI Visual Code Review
1077     -1049     -    109 +     55 + 30     -  4   4  **Generated by:** AI Visual Code Review v2.0
1078     -1050     -    110 +     56 + 31     -@@ -6,12 +6,13 @@
1079     -1051     -    111 +     57 + 32     -  6   6  ## üìä Change Summary
1080     -1052     -    112 +     58 + 33     -  7   7  
1081     -1053     -    113 +     59 + 34     -  8   8  ```
1082     -1054     -    114 +     60 + 35     -  9     -AI_REVIEW.md | 18009 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
1083     -1055     -    115 +     61 + 36     - 10     - script.js    |     5 +-
1084     -1056     -    116 +     62 + 37     - 11     - 2 files changed, 15932 insertions(+), 2082 deletions(-)
1085     -1057     -    117 +     63 + 38     -      9 +AI_REVIEW.md | 15943 +--------------------------------------------------------
1086     -1058     -    118 +     64 + 39     -     10 + script.js    |    14 +-
1087     -1059     -    119 +     65 + 40     -     11 + style.css    |     2 +-
1088     -1060     -    120 +     66 + 41     -     12 + 3 files changed, 32 insertions(+), 15927 deletions(-)
1089     -1061     -    121 +     67 + 42     - 12  13  ```
1090     -1062     -    122 +     68 + 43     - 13  14  
1091     -1063     -    123 +     69 + 44     - 14     -## üìù Files Changed (2/2 selected)
1092     -1064     -    124 +     70 + 45     -     15 +## üìù Files Changed (3/3 selected)
1093     -1065     -    125 +     71 + 46     - 15  16  
1094     -1066     -    126 +     72 + 47     - 16  17  
1095     -1067     -    127 +     73 + 48     - 17  18  ### üìÑ `AI_REVIEW.md`
1096     -1068     -    128 +     74 + 49     -@@ -26,21 +27,85 @@ AI_REVIEW.md | 18009 ++++++++++++++++++++++++++++++++++++++++++++++++++-------
1097     -1069     -    129 +     75 + 50     - 26  27  **Type:** JavaScript Source File üü®
1098     -1070     -    130 +     76 + 51     - 27  28  
1099     -1071     -    131 +     77 + 52     - 28  29  ```diff
1100     -1072     -    132 +     78 + 53     - 29     -@@ -199,10 +199,11 @@ function configureMarkedExtensions() {
1101     -1073     -    133 +     79 + 54     - 30     -199 199          name: 'mathEnvironment',
1102     -1074     -    134 +     80 + 55     - 31     -200 200          level: 'block',
1103     -1075     -    135 +     81 + 56     - 32     -201 201          start(src) {
1104     -1076     -    136 +     82 + 57     - 33     -202     -          return src.match(/^\\begin/)?.index;
1105     -1077     -    137 +     83 + 58     - 34     -    202 +          // Allow whitespace before \begin
1106     -1078     -    138 +     84 + 59     - 35     -    203 +          return src.match(/^\s*\\begin/)?.[0]?.length ? src.search(/\S/) : undefined;
1107     -1079     -    139 +     85 + 60     - 36     -203 204          },
1108     -1080     -    140 +     86 + 61     - 37     -204 205          tokenizer(src) {
1109     -1081     -    141 +     87 + 62     - 38     -205     -          const match = src.match(/^(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
1110     -1082     -    142 +     88 + 63     - 39     -    206 +          const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
1111     -1083     -    143 +     89 + 64     - 40     -206 207            if (match) {
1112     -1084     -    144 +     90 + 65     - 41     -207 208              return {
1113     -1085     -    145 +     91 + 66     - 42     -208 209                type: 'mathEnvironment',
1114     -1086     -    146 +     92 + 67     - 43     -209 210  
1115     -1087     -    147 +     93 + 68     -     30 +@@ -10,10 +10,13 @@ import markedFootnote from 'marked-footnote';
1116     -1088     -    148 +     94 + 69     -     31 + 10  10  import mermaid from 'mermaid';
1117     -1089     -    149 +     95 + 70     -     32 + 11  11  import Prism from 'prismjs';
1118     -1090     -    150 +     96 + 71     -     33 + 12  12  import 'prismjs/components/prism-bash';
1119     -1091     -    151 +     97 + 72     -     34 +     13 +import 'prismjs/components/prism-batch';
1120     -1092     -    152 +     98 + 73     -     35 + 13  14  import 'prismjs/components/prism-c';
1121     -1093     -    153 +     99 + 74     -     36 + 14  15  import 'prismjs/components/prism-cpp';
1122     -1094     -    154 +    100 + 75     -     37 + 15  16  import 'prismjs/components/prism-css';
1123     -1095     -    155 +    101 + 76     -     38 +     17 +import 'prismjs/components/prism-diff';
1124     -1096     -    156 +    102 + 77     -     39 + 16  18  import 'prismjs/components/prism-go';
1125     -1097     -    157 +    103 + 78     -     40 +     19 +import 'prismjs/components/prism-ini';
1126     -1098     -    158 +    104 + 79     -     41 + 17  20  import 'prismjs/components/prism-java';
1127     -1099     -    159 +    105 + 80     -     42 + 18  21  import 'prismjs/components/prism-javascript';
1128     -1100     -    160 +    106 + 81     -     43 + 19  22  import 'prismjs/components/prism-json';
1129     -1101     -    161 +    107 + 82     -     44 +@@ -200,15 +203,16 @@ function configureMarkedExtensions() {
1130     -1102     -    162 +    108 + 83     -     45 +200 203          level: 'block',
1131     -1103     -    163 +    109 + 84     -     46 +201 204          start(src) {
1132     -1104     -    164 +    110 + 85     -     47 +202 205            // Allow whitespace before \begin
1133     -1105     -    165 +    111 + 86     -     48 +203     -          return src.match(/^\s*\\begin/)?.[0]?.length ? src.search(/\S/) : undefined;
1134     -1106     -    166 +    112 + 87     -     49 +    206 +          return src.match(/^\s*\\begin/)?.index;
1135     -1107     -    167 +    113 + 88     -     50 +204 207          },
1136     -1108     -    168 +    114 + 89     -     51 +205 208          tokenizer(src) {
1137     -1109     -    169 +    115 + 90     -     52 +    209 +          // Robust regex for LaTeX environments
1138     -1110     -    170 +    116 + 91     -     53 +206 210            const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
1139     -1111     -    171 +    117 + 92     -     54 +207 211            if (match) {
1140     -1112     -    172 +    118 + 93     -     55 +208 212              return {
1141     -1113     -    173 +    119 + 94     -     56 +209 213                type: 'mathEnvironment',
1142     -1114     -    174 +    120 + 95     -     57 +210 214                raw: match[0],
1143     -1115     -    175 +    121 + 96     -     58 +211     -              text: match[1], // Capture the inner content or full block? KaTeX needs full block for environments
1144     -1116     -    176 +    122 + 97     -     59 +    215 +              text: match[1],
1145     -1117     -    177 +    123 + 98     -     60 +212 216              };
1146     -1118     -    178 +    124 + 99     -     61 +213 217            }
1147     -1119     -    179 +    125 +100     -     62 +214 218          },
1148     -1120     -    180 +    126 +101     -     63 +@@ -518,13 +522,15 @@ graph TD
1149     -1121     -    181 +    127 +102     -     64 +518 522        let html = marked.parse(markdownText);
1150     -1122     -    182 +    128 +103     -     65 +519 523  
1151     -1123     -    183 +    129 +104     -     66 +520 524        // Replace mermaid code blocks with placeholders
1152     -1124     -    184 +    130 +105     -     67 +    525 +      // Use 'mermaid-diagram' class to avoid auto-rendering conflicts
1153     -1125     -    185 +    131 +106     -     68 +521 526        html = html.replace(
1154     -1126     -    186 +    132 +107     -     69 +522 527          /<pre><code class="language-mermaid">([\s\S]*?)<\/code><\/pre>/g,
1155     -1127     -    187 +    133 +108     -     70 +523 528          (match, code) => {
1156     -1128     -    188 +    134 +109     -     71 +    529 +          // Decode HTML entities before passing to Mermaid
1157     -1129     -    189 +    135 +110     -     72 +524 530            const decodedCode = decodeHtmlEntities(code);
1158     -1130     -    190 +    136 +111     -     73 +525 531            const id = 'mermaid-' + Math.random().toString(36).substr(2, 9);
1159     -1131     -    191 +    137 +112     -     74 +526 532            // Return placeholder div
1160     -1132     -    192 +    138 +113     -     75 +527     -          return `<div class="mermaid" id="${id}" data-code="${encodeURIComponent(decodedCode)}">${code}</div>`;
1161     -1133     -    193 +    139 +114     -     76 +    533 +          return `<div class="mermaid-diagram" id="${id}" data-code="${encodeURIComponent(decodedCode)}">${code}</div>`;
1162     -1134     -    194 +    140 +115     -     77 +528 534          }
1163     -1135     -    195 +    141 +116     -     78 +529 535        );
1164     -1136     -    196 +    142 +117     -     79 +530 536  
1165     -1137     -    197 +    143 +118     -     80 +@@ -538,7 +544,7 @@ graph TD
1166     -1138     -    198 +    144 +119     -     81 +538 544        preview.innerHTML = cleanHtml;
1167     -1139     -    199 +    145 +120     -     82 +539 545  
1168     -1140     -    200 +    146 +121     -     83 +540 546        // Render Mermaid diagrams synchronously after DOM update
1169     -1141     -    201 +    147 +122     -     84 +541     -      const mermaidElements = preview.querySelectorAll('.mermaid');
1170     -1142     -    202 +    148 +123     -     85 +    547 +      const mermaidElements = preview.querySelectorAll('.mermaid-diagram');
1171     -1143     -    203 +    149 +124     -     86 +542 548        mermaidElements.forEach(element => {
1172     -1144     -    204 +    150 +125     -     87 +543 549          const id = element.id;
1173     -1145     -    205 +    151 +126     -     88 +544 550          const code = decodeURIComponent(element.dataset.code);
1174     -1146     -    206 +    152 +127     -     89 +545 551  
1175     -1147     -    207 +    153 +128     -     90 +
1176     -1148     -    208 +    154 +129     -     91 +```
1177     -1149     -    209 +    155 +130     -     92 +
1178     -1150     -    210 +    156 +131     -     93 +
1179     -1151     -    211 +    157 +132     -     94 +### üìÑ `style.css`
1180     -1152     -    212 +    158 +133     -     95 +
1181     -1153     -    213 +    159 +134     -     96 +**Type:** Stylesheet üé®
1182     -1154     -    214 +    160 +135     -     97 +
1183     -1155     -    215 +    161 +136     -     98 +```diff
1184     -1156     -    216 +    162 +137     -     99 +@@ -630,7 +630,7 @@ body {
1185     -1157     -    217 +    163 +138     -    100 +630 630  }
1186     -1158     -    218 +    164 +139     -    101 +631 631  
1187     -1159     -    219 +    165 +140     -    102 +632 632  /* ==================== MERMAID DIAGRAMS ==================== */
1188     -1160     -    220 +    166 +141     -    103 +633     -.mermaid {
1189     -1161     -    221 +    167 +142     -    104 +    633 +.mermaid-diagram {
1190     -1162     -    222 +    168 +143     -    105 +634 634    margin: 2em 0;
1191     -1163     -    223 +    169 +144     -    106 +635 635    display: flex;
1192     -1164     -    224 +    170 +145     -    107 +636 636    justify-content: center;
1193     -1165     -    225 +    171 +146     -    108 +637 637  
1194     -1166     -    226 +    172 +147     - 44 109  
1195     -1167     -    227 +    173 +148     - 45 110  ```
1196     -1168     -    228 +    174 +149     - 46 111  
1197     -1169     -    229 +    175 +150     -@@ -86,4 +151,4 @@ Please provide specific feedback on:
1198     -1170     -    230 +    176 +151     - 86 151  
1199     -1171     -    231 +    177 +152     - 87 152  ---
1200     -1172     -    232 +    178 +153     - 88 153  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
1201     -1173     -    233 +    179 +154     - 89     -*Files processed: 1/2 | Errors: 1 | Generated: 2025-12-09T01:57:41.998Z*
1202     -1174     -    234 +    180 +155     -    154 +*Files processed: 2/3 | Errors: 1 | Generated: 2025-12-09T02:02:58.836Z*
1203     -1175     -    235 +    181 +156     - 90 155  
1204     -1176     -    236 +    182 +157     -
1205     -1177     -    237 +    183 +158     -```
1206     -1178     -    238 +    184 +159     -
1207     -1179     -    239 +    185 +160     -
1208     -1180     -    240 +    186 +161     -### üìÑ `package-lock.json`
1209     -1181     -    241 +    187 +162     -
1210     -1182     -    242 +    188 +163     -**Type:** Configuration/Data File üìã
1211     -1183     -    243 +    189 +164     -
1212     -1184     -    244 +    190 +165     -```diff
1213     -1185     -    245 +    191 +166     -@@ -26,6 +26,7 @@
1214     -1186     -    246 +    192 +167     - 26  26          "prettier": "3.6.2",
1215     -1187     -    247 +    193 +168     - 27  27          "typescript": "5.9.3",
1216     -1188     -    248 +    194 +169     - 28  28          "vite": "7.2.2",
1217     -1189     -    249 +    195 +170     -     29 +        "vite-plugin-prismjs": "0.0.11",
1218     -1190     -    250 +    196 +171     - 29  30          "vitest": "4.0.8"
1219     -1191     -    251 +    197 +172     - 30  31        }
1220     -1192     -    252 +    198 +173     - 31  32      },
1221     -1193     -    253 +    199 +174     -@@ -93,6 +94,175 @@
1222     -1194     -    254 +    200 +175     - 93  94        "dev": true,
1223     -1195     -    255 +    201 +176     - 94  95        "license": "MIT"
1224     -1196     -    256 +    202 +177     - 95  96      },
1225     -1197     -    257 +    203 +178     -     97 +    "node_modules/@babel/code-frame": {
1226     -1198     -    258 +    204 +179     -     98 +      "version": "7.27.1",
1227     -1199     -    259 +    205 +180     -     99 +      "resolved": "https://registry.npmjs.org/@babel/code-frame/-/code-frame-7.27.1.tgz",
1228     -1200     -    260 +    206 +181     -    100 +      "integrity": "sha512-cjQ7ZlQ0Mv3b47hABuTevyTuYN4i+loJKGeV9flcCgIK37cCXRh+L1bd3iBHlynerhQ7BhCkn2BPbQUL+rGqFg==",
1229     -1201     -    261 +    207 +182     -    101 +      "dev": true,
1230     -1202     -    262 +    208 +183     -    102 +      "license": "MIT",
1231     -1203     -    263 +    209 +184     -    103 +      "dependencies": {
1232     -1204     -    264 +    210 +185     -    104 +        "@babel/helper-validator-identifier": "^7.27.1",
1233     -1205     -    265 +    211 +186     -    105 +        "js-tokens": "^4.0.0",
1234     -1206     -    266 +    212 +187     -    106 +        "picocolors": "^1.1.1"
1235     -1207     -    267 +    213 +188     -    107 +      },
1236     -1208     -    268 +    214 +189     -    108 +      "engines": {
1237     -1209     -    269 +    215 +190     -    109 +        "node": ">=6.9.0"
1238     -1210     -    270 +    216 +191     -    110 +      }
1239     -1211     -    271 +    217 +192     -    111 +    },
1240     -1212     -    272 +    218 +193     -    112 +    "node_modules/@babel/code-frame/node_modules/js-tokens": {
1241     -1213     -    273 +    219 +194     -    113 +      "version": "4.0.0",
1242     -1214     -    274 +    220 +195     -    114 +      "resolved": "https://registry.npmjs.org/js-tokens/-/js-tokens-4.0.0.tgz",
1243     -1215     -    275 +    221 +196     -    115 +      "integrity": "sha512-RdJUflcE3cUzKiMqQgsCu06FPu9UdIJO0beYbPhHN4k6apgJtifcoCtT9bcxOpYBtpD2kCM6Sbzg4CausW/PKQ==",
1244     -1216     -    276 +    222 +197     -    116 +      "dev": true,
1245     -1217     -    277 +    223 +198     -    117 +      "license": "MIT"
1246     -1218     -    278 +    224 +199     -    118 +    },
1247     -1219     -    279 +    225 +200     -    119 +    "node_modules/@babel/compat-data": {
1248     -1220     -    280 +    226 +201     -    120 +      "version": "7.28.5",
1249     -1221     -    281 +    227 +202     -    121 +      "resolved": "https://registry.npmjs.org/@babel/compat-data/-/compat-data-7.28.5.tgz",
1250     -1222     -    282 +    228 +203     -    122 +      "integrity": "sha512-6uFXyCayocRbqhZOB+6XcuZbkMNimwfVGFji8CTZnCzOHVGvDqzvitu1re2AU5LROliz7eQPhB8CpAMvnx9EjA==",
1251     -1223     -    283 +    229 +204     -    123 +      "dev": true,
1252     -1224     -    284 +    230 +205     -    124 +      "license": "MIT",
1253     -1225     -    285 +    231 +206     -    125 +      "engines": {
1254     -1226     -    286 +    232 +207     -    126 +        "node": ">=6.9.0"
1255     -1227     -    287 +    233 +208     -    127 +      }
1256     -1228     -    288 +    234 +209     -    128 +    },
1257     -1229     -    289 +    235 +210     -    129 +    "node_modules/@babel/core": {
1258     -1230     -    290 +    236 +211     -    130 +      "version": "7.28.5",
1259     -1231     -    291 +    237 +212     -    131 +      "resolved": "https://registry.npmjs.org/@babel/core/-/core-7.28.5.tgz",
1260     -1232     -    292 +    238 +213     -    132 +      "integrity": "sha512-e7jT4DxYvIDLk1ZHmU/m/mB19rex9sv0c2ftBtjSBv+kVM/902eh0fINUzD7UwLLNR+jU585GxUJ8/EBfAM5fw==",
1261     -1233     -    293 +    239 +214     -    133 +      "dev": true,
1262     -1234     -    294 +    240 +215     -    134 +      "license": "MIT",
1263     -1235     -    295 +    241 +216     -    135 +      "dependencies": {
1264     -1236     -    296 +    242 +217     -    136 +        "@babel/code-frame": "^7.27.1",
1265     -1237     -    297 +    243 +218     -    137 +        "@babel/generator": "^7.28.5",
1266     -1238     -    298 +    244 +219     -    138 +        "@babel/helper-compilation-targets": "^7.27.2",
1267     -1239     -    299 +    245 +220     -    139 +        "@babel/helper-module-transforms": "^7.28.3",
1268     -1240     -    300 +    246 +221     -    140 +        "@babel/helpers": "^7.28.4",
1269     -1241     -    301 +    247 +222     -    141 +        "@babel/parser": "^7.28.5",
1270     -1242     -    302 +    248 +223     -    142 +        "@babel/template": "^7.27.2",
1271     -1243     -    303 +    249 +224     -    143 +        "@babel/traverse": "^7.28.5",
1272     -1244     -    304 +    250 +225     -    144 +        "@babel/types": "^7.28.5",
1273     -1245     -    305 +    251 +226     -    145 +        "@jridgewell/remapping": "^2.3.5",
1274     -1246     -    306 +    252 +227     -    146 +        "convert-source-map": "^2.0.0",
1275     -1247     -    307 +    253 +228     -    147 +        "debug": "^4.1.0",
1276     -1248     -    308 +    254 +229     -    148 +        "gensync": "^1.0.0-beta.2",
1277     -1249     -    309 +    255 +230     -    149 +        "json5": "^2.2.3",
1278     -1250     -    310 +    256 +231     -    150 +        "semver": "^6.3.1"
1279     -1251     -    311 +    257 +232     -    151 +      },
1280     -1252     -    312 +    258 +233     -    152 +      "engines": {
1281     -1253     -    313 +    259 +234     -    153 +        "node": ">=6.9.0"
1282     -1254     -    314 +    260 +235     -    154 +      },
1283     -1255     -    315 +    261 +236     -    155 +      "funding": {
1284     -1256     -    316 +    262 +237     -    156 +        "type": "opencollective",
1285     -1257     -    317 +    263 +238     -    157 +        "url": "https://opencollective.com/babel"
1286     -1258     -    318 +    264 +239     -    158 +      }
1287     -1259     -    319 +    265 +240     -    159 +    },
1288     -1260     -    320 +    266 +241     -    160 +    "node_modules/@babel/core/node_modules/semver": {
1289     -1261     -    321 +    267 +242     -    161 +      "version": "6.3.1",
1290     -1262     -    322 +    268 +243     -    162 +      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
1291     -1263     -    323 +    269 +244     -    163 +      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
1292     -1264     -    324 +    270 +245     -    164 +      "dev": true,
1293     -1265     -    325 +    271 +246     -    165 +      "license": "ISC",
1294     -1266     -    326 +    272 +247     -    166 +      "bin": {
1295     -1267     -    327 +    273 +248     -    167 +        "semver": "bin/semver.js"
1296     -1268     -    328 +    274 +249     -    168 +      }
1297     -1269     -    329 +    275 +250     -    169 +    },
1298     -1270     -    330 +    276 +251     -    170 +    "node_modules/@babel/generator": {
1299     -1271     -    331 +    277 +252     -    171 +      "version": "7.28.5",
1300     -1272     -    332 +    278 +253     -    172 +      "resolved": "https://registry.npmjs.org/@babel/generator/-/generator-7.28.5.tgz",
1301     -1273     -    333 +    279 +254     -    173 +      "integrity": "sha512-3EwLFhZ38J4VyIP6WNtt2kUdW9dokXA9Cr4IVIFHuCpZ3H8/YFOl5JjZHisrn1fATPBmKKqXzDFvh9fUwHz6CQ==",
1302     -1274     -    334 +    280 +255     -    174 +      "dev": true,
1303     -1275     -    335 +    281 +256     -    175 +      "license": "MIT",
1304     -1276     -    336 +    282 +257     -    176 +      "dependencies": {
1305     -1277     -    337 +    283 +258     -    177 +        "@babel/parser": "^7.28.5",
1306     -1278     -    338 +    284 +259     -    178 +        "@babel/types": "^7.28.5",
1307     -1279     -    339 +    285 +260     -    179 +        "@jridgewell/gen-mapping": "^0.3.12",
1308     -1280     -    340 +    286 +261     -    180 +        "@jridgewell/trace-mapping": "^0.3.28",
1309     -1281     -    341 +    287 +262     -    181 +        "jsesc": "^3.0.2"
1310     -1282     -    342 +    288 +263     -    182 +      },
1311     -1283     -    343 +    289 +264     -    183 +      "engines": {
1312     -1284     -    344 +    290 +265     -    184 +        "node": ">=6.9.0"
1313     -1285     -    345 +    291 +266     -    185 +      }
1314     -1286     -    346 +    292 +267     -    186 +    },
1315     -1287     -    347 +    293 +268     -    187 +    "node_modules/@babel/helper-compilation-targets": {
1316     -1288     -    348 +    294 +269     -    188 +      "version": "7.27.2",
1317     -1289     -    349 +    295 +270     -    189 +      "resolved": "https://registry.npmjs.org/@babel/helper-compilation-targets/-/helper-compilation-targets-7.27.2.tgz",
1318     -1290     -    350 +    296 +271     -    190 +      "integrity": "sha512-2+1thGUUWWjLTYTHZWK1n8Yga0ijBz1XAhUXcKy81rd5g6yh7hGqMp45v7cadSbEHc9G3OTv45SyneRN3ps4DQ==",
1319     -1291     -    351 +    297 +272     -    191 +      "dev": true,
1320     -1292     -    352 +    298 +273     -    192 +      "license": "MIT",
1321     -1293     -    353 +    299 +274     -    193 +      "dependencies": {
1322     -1294     -    354 +    300 +275     -    194 +        "@babel/compat-data": "^7.27.2",
1323     -1295     -    355 +    301 +276     -    195 +        "@babel/helper-validator-option": "^7.27.1",
1324     -1296     -    356 +    302 +277     -    196 +        "browserslist": "^4.24.0",
1325     -1297     -    357 +    303 +278     -    197 +        "lru-cache": "^5.1.1",
1326     -1298     -    358 +    304 +279     -    198 +        "semver": "^6.3.1"
1327     -1299     -    359 +    305 +280     -    199 +      },
1328     -1300     -    360 +    306 +281     -    200 +      "engines": {
1329     -1301     -    361 +    307 +282     -    201 +        "node": ">=6.9.0"
1330     -1302     -    362 +    308 +283     -    202 +      }
1331     -1303     -    363 +    309 +284     -    203 +    },
1332     -1304     -    364 +    310 +285     -    204 +    "node_modules/@babel/helper-compilation-targets/node_modules/lru-cache": {
1333     -1305     -    365 +    311 +286     -    205 +      "version": "5.1.1",
1334     -1306     -    366 +    312 +287     -    206 +      "resolved": "https://registry.npmjs.org/lru-cache/-/lru-cache-5.1.1.tgz",
1335     -1307     -    367 +    313 +288     -    207 +      "integrity": "sha512-KpNARQA3Iwv+jTA0utUVVbrh+Jlrr1Fv0e56GGzAFOXN7dk/FviaDW8LHmK52DlcH4WP2n6gI8vN1aesBFgo9w==",
1336     -1308     -    368 +    314 +289     -    208 +      "dev": true,
1337     -1309     -    369 +    315 +290     -    209 +      "license": "ISC",
1338     -1310     -    370 +    316 +291     -    210 +      "dependencies": {
1339     -1311     -    371 +    317 +292     -    211 +        "yallist": "^3.0.2"
1340     -1312     -    372 +    318 +293     -    212 +      }
1341     -1313     -    373 +    319 +294     -    213 +    },
1342     -1314     -    374 +    320 +295     -    214 +    "node_modules/@babel/helper-compilation-targets/node_modules/semver": {
1343     -1315     -    375 +    321 +296     -    215 +      "version": "6.3.1",
1344     -1316     -    376 +    322 +297     -    216 +      "resolved": "https://registry.npmjs.org/semver/-/semver-6.3.1.tgz",
1345     -1317     -    377 +    323 +298     -    217 +      "integrity": "sha512-BR7VvDCVHO+q2xBEWskxS6DJE1qRnb7DxzUrogb71CWoSficBxYsiAGd+Kl0mmq/MprG9yArRkyrQxTO6XjMzA==",
1346     -1318     -    378 +    324 +299     -    218 +      "dev": true,
1347     -1319     -    379 +    325 +300     -    219 +      "license": "ISC",
1348     -1320     -    380 +    326 +301     -    220 +      "bin": {
1349     -1321     -    381 +    327 +302     -    221 +        "semver": "bin/semver.js"
1350     -1322     -    382 +    328 +303     -    222 +      }
1351     -1323     -    383 +    329 +304     -    223 +    },
1352     -1324     -    384 +    330 +305     -    224 +    "node_modules/@babel/helper-globals": {
1353     -1325     -    385 +    331 +306     -    225 +      "version": "7.28.0",
1354     -1326     -    386 +    332 +307     -    226 +      "resolved": "https://registry.npmjs.org/@babel/helper-globals/-/helper-globals-7.28.0.tgz",
1355     -1327     -    387 +    333 +308     -    227 +      "integrity": "sha512-+W6cISkXFa1jXsDEdYA8HeevQT/FULhxzR99pxphltZcVaugps53THCeiWA8SguxxpSp3gKPiuYfSWopkLQ4hw==",
1356     -1328     -    388 +    334 +309     -    228 +      "dev": true,
1357     -1329     -    389 +    335 +310     -    229 +      "license": "MIT",
1358     -1330     -    390 +    336 +311     -    230 +      "engines": {
1359     -1331     -    391 +    337 +312     -    231 +        "node": ">=6.9.0"
1360     -1332     -    392 +    338 +313     -    232 +      }
1361     -1333     -    393 +    339 +314     -    233 +    },
1362     -1334     -    394 +    340 +315     -    234 +    "node_modules/@babel/helper-module-imports": {
1363     -1335     -    395 +    341 +316     -    235 +      "version": "7.27.1",
1364     -1336     -    396 +    342 +317     -    236 +      "resolved": "https://registry.npmjs.org/@babel/helper-module-imports/-/helper-module-imports-7.27.1.tgz",
1365     -1337     -    397 +    343 +318     -    237 +      "integrity": "sha512-0gSFWUPNXNopqtIPQvlD5WgXYI5GY2kP2cCvoT8kczjbfcfuIljTbcWrulD1CIPIX2gt1wghbDy08yE1p+/r3w==",
1366     -1338     -    398 +    344 +319     -    238 +      "dev": true,
1367     -1339     -    399 +    345 +320     -    239 +      "license": "MIT",
1368     -1340     -    400 +    346 +321     -    240 +      "dependencies": {
1369     -1341     -    401 +    347 +322     -    241 +        "@babel/traverse": "^7.27.1",
1370     -1342     -    402 +    348 +323     -    242 +        "@babel/types": "^7.27.1"
1371     -1343     -    403 +    349 +324     -    243 +      },
1372     -1344     -    404 +    350 +325     -    244 +      "engines": {
1373     -1345     -    405 +    351 +326     -    245 +        "node": ">=6.9.0"
1374     -1346     -    406 +    352 +327     -    246 +      }
1375     -1347     -    407 +    353 +328     -    247 +    },
1376     -1348     -    408 +    354 +329     -    248 +    "node_modules/@babel/helper-module-transforms": {
1377     -1349     -    409 +    355 +330     -    249 +      "version": "7.28.3",
1378     -1350     -    410 +    356 +331     -    250 +      "resolved": "https://registry.npmjs.org/@babel/helper-module-transforms/-/helper-module-transforms-7.28.3.tgz",
1379     -1351     -    411 +    357 +332     -    251 +      "integrity": "sha512-gytXUbs8k2sXS9PnQptz5o0QnpLL51SwASIORY6XaBKF88nsOT0Zw9szLqlSGQDP/4TljBAD5y98p2U1fqkdsw==",
1380     -1352     -    412 +    358 +333     -    252 +      "dev": true,
1381     -1353     -    413 +    359 +334     -    253 +      "license": "MIT",
1382     -1354     -    414 +    360 +335     -    254 +      "dependencies": {
1383     -1355     -    415 +    361 +336     -    255 +        "@babel/helper-module-imports": "^7.27.1",
1384     -1356     -    416 +    362 +337     -    256 +        "@babel/helper-validator-identifier": "^7.27.1",
1385     -1357     -    417 +    363 +338     -    257 +        "@babel/traverse": "^7.28.3"
1386     -1358     -    418 +    364 +339     -    258 +      },
1387     -1359     -    419 +    365 +340     -    259 +      "engines": {
1388     -1360     -    420 +    366 +341     -    260 +        "node": ">=6.9.0"
1389     -1361     -    421 +    367 +342     -    261 +      },
1390     -1362     -    422 +    368 +343     -    262 +      "peerDependencies": {
1391     -1363     -    423 +    369 +344     -    263 +        "@babel/core": "^7.0.0"
1392     -1364     -    424 +    370 +345     -    264 +      }
1393     -1365     -    425 +    371 +346     -    265 +    },
1394     -1366     -    426 +    372 +347     - 96 266      "node_modules/@babel/helper-string-parser": {
1395     -1367     -    427 +    373 +348     - 97 267        "version": "7.27.1",
1396     -1368     -    428 +    374 +349     - 98 268        "resolved": "https://registry.npmjs.org/@babel/helper-string-parser/-/helper-string-parser-7.27.1.tgz",
1397     -1369     -    429 +    375 +350     -@@ -113,6 +283,30 @@
1398     -1370     -    430 +    376 +351     -113 283          "node": ">=6.9.0"
1399     -1371     -    431 +    377 +352     -114 284        }
1400     -1372     -    432 +    378 +353     -115 285      },
1401     -1373     -    433 +    379 +354     -    286 +    "node_modules/@babel/helper-validator-option": {
1402     -1374     -    434 +    380 +355     -    287 +      "version": "7.27.1",
1403     -1375     -    435 +    381 +356     -    288 +      "resolved": "https://registry.npmjs.org/@babel/helper-validator-option/-/helper-validator-option-7.27.1.tgz",
1404     -1376     -    436 +    382 +357     -    289 +      "integrity": "sha512-YvjJow9FxbhFFKDSuFnVCe2WxXk1zWc22fFePVNEaWJEu8IrZVlda6N0uHwzZrUM1il7NC9Mlp4MaJYbYd9JSg==",
1405     -1377     -    437 +    383 +358     -    290 +      "dev": true,
1406     -1378     -    438 +    384 +359     -    291 +      "license": "MIT",
1407     -1379     -    439 +    385 +360     -    292 +      "engines": {
1408     -1380     -    440 +    386 +361     -    293 +        "node": ">=6.9.0"
1409     -1381     -    441 +    387 +362     -    294 +      }
1410     -1382     -    442 +    388 +363     -    295 +    },
1411     -1383     -    443 +    389 +364     -    296 +    "node_modules/@babel/helpers": {
1412     -1384     -    444 +    390 +365     -    297 +      "version": "7.28.4",
1413     -1385     -    445 +    391 +366     -    298 +      "resolved": "https://registry.npmjs.org/@babel/helpers/-/helpers-7.28.4.tgz",
1414     -1386     -    446 +    392 +367     -    299 +      "integrity": "sha512-HFN59MmQXGHVyYadKLVumYsA9dBFun/ldYxipEjzA4196jpLZd8UjEEBLkbEkvfYreDqJhZxYAWFPtrfhNpj4w==",
1415     -1387     -    447 +    393 +368     -    300 +      "dev": true,
1416     -1388     -    448 +    394 +369     -    301 +      "license": "MIT",
1417     -1389     -    449 +    395 +370     -    302 +      "dependencies": {
1418     -1390     -    450 +    396 +371     -    303 +        "@babel/template": "^7.27.2",
1419     -1391     -    451 +    397 +372     -    304 +        "@babel/types": "^7.28.4"
1420     -1392     -    452 +    398 +373     -    305 +      },
1421     -1393     -    453 +    399 +374     -    306 +      "engines": {
1422     -1394     -    454 +    400 +375     -    307 +        "node": ">=6.9.0"
1423     -1395     -    455 +    401 +376     -    308 +      }
1424     -1396     -    456 +    402 +377     -    309 +    },
1425     -1397     -    457 +    403 +378     -116 310      "node_modules/@babel/parser": {
1426     -1398     -    458 +    404 +379     -117 311        "version": "7.28.5",
1427     -1399     -    459 +    405 +380     -118 312        "resolved": "https://registry.npmjs.org/@babel/parser/-/parser-7.28.5.tgz",
1428     -1400     -    460 +    406 +381     -@@ -138,6 +332,40 @@
1429     -1401     -    461 +    407 +382     -138 332          "node": ">=6.9.0"
1430     -1402     -    462 +    408 +383     -139 333        }
1431     -1403     -    463 +    409 +384     -140 334      },
1432     -1404     -    464 +    410 +385     -    335 +    "node_modules/@babel/template": {
1433     -1405     -    465 +    411 +386     -    336 +      "version": "7.27.2",
1434     -1406     -    466 +    412 +387     -    337 +      "resolved": "https://registry.npmjs.org/@babel/template/-/template-7.27.2.tgz",
1435     -1407     -    467 +    413 +388     -    338 +      "integrity": "sha512-LPDZ85aEJyYSd18/DkjNh4/y1ntkE5KwUHWTiqgRxruuZL2F1yuHligVHLvcHY2vMHXttKFpJn6LwfI7cw7ODw==",
1436     -1408     -    468 +    414 +389     -    339 +      "dev": true,
1437     -1409     -    469 +    415 +390     -    340 +      "license": "MIT",
1438     -1410     -    470 +    416 +391     -    341 +      "dependencies": {
1439     -1411     -    471 +    417 +392     -    342 +        "@babel/code-frame": "^7.27.1",
1440     -1412     -    472 +    418 +393     -    343 +        "@babel/parser": "^7.27.2",
1441     -1413     -    473 +    419 +394     -    344 +        "@babel/types": "^7.27.1"
1442     -1414     -    474 +    420 +395     -    345 +      },
1443     -1415     -    475 +    421 +396     -    346 +      "engines": {
1444     -1416     -    476 +    422 +397     -    347 +        "node": ">=6.9.0"
1445     -1417     -    477 +    423 +398     -    348 +      }
1446     -1418     -    478 +    424 +399     -    349 +    },
1447     -1419     -    479 +    425 +400     -    350 +    "node_modules/@babel/traverse": {
1448     -1420     -    480 +    426 +401     -    351 +      "version": "7.28.5",
1449     -1421     -    481 +    427 +402     -    352 +      "resolved": "https://registry.npmjs.org/@babel/traverse/-/traverse-7.28.5.tgz",
1450     -1422     -    482 +    428 +403     -    353 +      "integrity": "sha512-TCCj4t55U90khlYkVV/0TfkJkAkUg3jZFA3Neb7unZT8CPok7iiRfaX0F+WnqWqt7OxhOn0uBKXCw4lbL8W0aQ==",
1451     -1423     -    483 +    429 +404     -    354 +      "dev": true,
1452     -1424     -    484 +    430 +405     -    355 +      "license": "MIT",
1453     -1425     -    485 +    431 +406     -    356 +      "dependencies": {
1454     -1426     -    486 +    432 +407     -    357 +        "@babel/code-frame": "^7.27.1",
1455     -1427     -    487 +    433 +408     -    358 +        "@babel/generator": "^7.28.5",
1456     -1428     -    488 +    434 +409     -    359 +        "@babel/helper-globals": "^7.28.0",
1457     -1429     -    489 +    435 +410     -    360 +        "@babel/parser": "^7.28.5",
1458     -1430     -    490 +    436 +411     -    361 +        "@babel/template": "^7.27.2",
1459     -1431     -    491 +    437 +412     -    362 +        "@babel/types": "^7.28.5",
1460     -1432     -    492 +    438 +413     -    363 +        "debug": "^4.3.1"
1461     -1433     -    493 +    439 +414     -    364 +      },
1462     -1434     -    494 +    440 +415     -    365 +      "engines": {
1463     -1435     -    495 +    441 +416     -    366 +        "node": ">=6.9.0"
1464     -1436     -    496 +    442 +417     -    367 +      }
1465     -1437     -    497 +    443 +418     -    368 +    },
1466     -1438     -    498 +    444 +419     -141 369      "node_modules/@babel/types": {
1467     -1439     -    499 +    445 +420     -142 370        "version": "7.28.5",
1468     -1440     -    500 +    446 +421     -143 371        "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.28.5.tgz",
1469     -1441     -    501 +    447 +422     -@@ -997,6 +1225,28 @@
1470     -1442     -    502 +    448 +423     -997 1225          "mlly": "^1.8.0"
1471     -1443     -    503 +    449 +424     -998 1226        }
1472     -1444     -    504 +    450 +425     -999 1227      },
1473     -1445     -    505 +    451 +426     -    1228 +    "node_modules/@jridgewell/gen-mapping": {
1474     -1446     -    506 +    452 +427     -    1229 +      "version": "0.3.13",
1475     -1447     -    507 +    453 +428     -    1230 +      "resolved": "https://registry.npmjs.org/@jridgewell/gen-mapping/-/gen-mapping-0.3.13.tgz",
1476     -1448     -    508 +    454 +429     -    1231 +      "integrity": "sha512-2kkt/7niJ6MgEPxF0bYdQ6etZaA+fQvDcLKckhy1yIQOzaoKjBBjSj63/aLVjYE3qhRt5dvM+uUyfCg6UKCBbA==",
1477     -1449     -    509 +    455 +430     -    1232 +      "dev": true,
1478     -1450     -    510 +    456 +431     -    1233 +      "license": "MIT",
1479     -1451     -    511 +    457 +432     -    1234 +      "dependencies": {
1480     -1452     -    512 +    458 +433     -    1235 +        "@jridgewell/sourcemap-codec": "^1.5.0",
1481     -1453     -    513 +    459 +434     -    1236 +        "@jridgewell/trace-mapping": "^0.3.24"
1482     -1454     -    514 +    460 +435     -    1237 +      }
1483     -1455     -    515 +    461 +436     -    1238 +    },
1484     -1456     -    516 +    462 +437     -    1239 +    "node_modules/@jridgewell/remapping": {
1485     -1457     -    517 +    463 +438     -    1240 +      "version": "2.3.5",
1486     -1458     -    518 +    464 +439     -    1241 +      "resolved": "https://registry.npmjs.org/@jridgewell/remapping/-/remapping-2.3.5.tgz",
1487     -1459     -    519 +    465 +440     -    1242 +      "integrity": "sha512-LI9u/+laYG4Ds1TDKSJW2YPrIlcVYOwi2fUC6xB43lueCjgxV4lffOCZCtYFiH6TNOX+tQKXx97T4IKHbhyHEQ==",
1488     -1460     -    520 +    466 +441     -    1243 +      "dev": true,
1489     -1461     -    521 +    467 +442     -    1244 +      "license": "MIT",
1490     -1462     -    522 +    468 +443     -    1245 +      "dependencies": {
1491     -1463     -    523 +    469 +444     -    1246 +        "@jridgewell/gen-mapping": "^0.3.5",
1492     -1464     -    524 +    470 +445     -    1247 +        "@jridgewell/trace-mapping": "^0.3.24"
1493     -1465     -    525 +    471 +446     -    1248 +      }
1494     -1466     -    526 +    472 +447     -    1249 +    },
1495     -1467     -    527 +    473 +448     -1000 1250      "node_modules/@jridgewell/resolve-uri": {
1496     -1468     -    528 +    474 +449     -1001 1251        "version": "3.1.2",
1497     -1469     -    529 +    475 +450     -1002 1252        "resolved": "https://registry.npmjs.org/@jridgewell/resolve-uri/-/resolve-uri-3.1.2.tgz",
1498     -1470     -    530 +    476 +451     -@@ -1965,6 +2215,16 @@
1499     -1471     -    531 +    477 +452     -1965 2215          "js-tokens": "^9.0.1"
1500     -1472     -    532 +    478 +453     -1966 2216        }
1501     -1473     -    533 +    479 +454     -1967 2217      },
1502     -1474     -    534 +    480 +455     -    2218 +    "node_modules/babel-plugin-prismjs": {
1503     -1475     -    535 +    481 +456     -    2219 +      "version": "2.1.0",
1504     -1476     -    536 +    482 +457     -    2220 +      "resolved": "https://registry.npmjs.org/babel-plugin-prismjs/-/babel-plugin-prismjs-2.1.0.tgz",
1505     -1477     -    537 +    483 +458     -    2221 +      "integrity": "sha512-ehzSKYfeAz4U78zi/sfwsjDPlq0LvDKxNefcZTJ/iKBu+plsHsLqZhUeGf1+82LAcA35UZGbU6ksEx2Utphc/g==",
1506     -1478     -    538 +    484 +459     -    2222 +      "dev": true,
1507     -1479     -    539 +    485 +460     -    2223 +      "license": "MIT",
1508     -1480     -    540 +    486 +461     -    2224 +      "peerDependencies": {
1509     -1481     -    541 +    487 +462     -    2225 +        "prismjs": "^1.18.0"
1510     -1482     -    542 +    488 +463     -    2226 +      }
1511     -1483     -    543 +    489 +464     -    2227 +    },
1512     -1484     -    544 +    490 +465     -1968 2228      "node_modules/balanced-match": {
1513     -1485     -    545 +    491 +466     -1969 2229        "version": "1.0.2",
1514     -1486     -    546 +    492 +467     -1970 2230        "resolved": "https://registry.npmjs.org/balanced-match/-/balanced-match-1.0.2.tgz",
1515     -1487     -    547 +    493 +468     -@@ -1981,6 +2241,16 @@
1516     -1488     -    548 +    494 +469     -1981 2241          "node": ">= 0.6.0"
1517     -1489     -    549 +    495 +470     -1982 2242        }
1518     -1490     -    550 +    496 +471     -1983 2243      },
1519     -1491     -    551 +    497 +472     -    2244 +    "node_modules/baseline-browser-mapping": {
1520     -1492     -    552 +    498 +473     -    2245 +      "version": "2.9.5",
1521     -1493     -    553 +    499 +474     -    2246 +      "resolved": "https://registry.npmjs.org/baseline-browser-mapping/-/baseline-browser-mapping-2.9.5.tgz",
1522     -1494     -    554 +    500 +475     -    2247 +      "integrity": "sha512-D5vIoztZOq1XM54LUdttJVc96ggEsIfju2JBvht06pSzpckp3C7HReun67Bghzrtdsq9XdMGbSSB3v3GhMNmAA==",
1523     -1495     -    555 +    501 +476     -    2248 +      "dev": true,
1524     -1496     -    556 +    502 +477     -    2249 +      "license": "Apache-2.0",
1525     -1497     -    557 +    503 +478     -    2250 +      "bin": {
1526     -1498     -    558 +    504 +479     -    2251 +        "baseline-browser-mapping": "dist/cli.js"
1527     -1499     -    559 +    505 +480     -    2252 +      }
1528     -1500     -    560 +    506 +481     -    2253 +    },
1529     -1501     -    561 +    507 +482     -1984 2254      "node_modules/bidi-js": {
1530     -1502     -    562 +    508 +483     -1985 2255        "version": "1.0.3",
1531     -1503     -    563 +    509 +484     -1986 2256        "resolved": "https://registry.npmjs.org/bidi-js/-/bidi-js-1.0.3.tgz",
1532     -1504     -    564 +    510 +485     -@@ -2057,6 +2327,40 @@
1533     -1505     -    565 +    511 +486     -2057 2327          "concat-map": "0.0.1"
1534     -1506     -    566 +    512 +487     -2058 2328        }
1535     -1507     -    567 +    513 +488     -2059 2329      },
1536     -1508     -    568 +    514 +489     -    2330 +    "node_modules/browserslist": {
1537     -1509     -    569 +    515 +490     -    2331 +      "version": "4.28.1",
1538     -1510     -    570 +    516 +491     -    2332 +      "resolved": "https://registry.npmjs.org/browserslist/-/browserslist-4.28.1.tgz",
1539     -1511     -    571 +    517 +492     -    2333 +      "integrity": "sha512-ZC5Bd0LgJXgwGqUknZY/vkUQ04r8NXnJZ3yYi4vDmSiZmC/pdSN0NbNRPxZpbtO4uAfDUAFffO8IZoM3Gj8IkA==",
1540     -1512     -    572 +    518 +493     -    2334 +      "dev": true,
1541     -1513     -    573 +    519 +494     -    2335 +      "funding": [
1542     -1514     -    574 +    520 +495     -    2336 +        {
1543     -1515     -    575 +    521 +496     -    2337 +          "type": "opencollective",
1544     -1516     -    576 +    522 +497     -    2338 +          "url": "https://opencollective.com/browserslist"
1545     -1517     -    577 +    523 +498     -    2339 +        },
1546     -1518     -    578 +    524 +499     -    2340 +        {
1547     -1519     -    579 +    525 +500     -    2341 +          "type": "tidelift",
1548     -1520     -    580 +    526 +501     -    2342 +          "url": "https://tidelift.com/funding/github/npm/browserslist"
1549     -1521     -    581 +    527 +502     -    2343 +        },
1550     -1522     -    582 +    528 +503     -    2344 +        {
1551     -1523     -    583 +    529 +504     -    2345 +          "type": "github",
1552     -1524     -    584 +    530 +505     -    2346 +          "url": "https://github.com/sponsors/ai"
1553     -1525     -    585 +    531 +506     -    2347 +        }
1554     -1526     -    586 +    532 +507     -    2348 +      ],
1555     -1527     -    587 +    533 +508     -    2349 +      "license": "MIT",
1556     -1528     -    588 +    534 +509     -    2350 +      "dependencies": {
1557     -1529     -    589 +    535 +510     -    2351 +        "baseline-browser-mapping": "^2.9.0",
1558     -1530     -    590 +    536 +511     -    2352 +        "caniuse-lite": "^1.0.30001759",
1559     -1531     -    591 +    537 +512     -    2353 +        "electron-to-chromium": "^1.5.263",
1560     -1532     -    592 +    538 +513     -    2354 +        "node-releases": "^2.0.27",
1561     -1533     -    593 +    539 +514     -    2355 +        "update-browserslist-db": "^1.2.0"
1562     -1534     -    594 +    540 +515     -    2356 +      },
1563     -1535     -    595 +    541 +516     -    2357 +      "bin": {
1564     -1536     -    596 +    542 +517     -    2358 +        "browserslist": "cli.js"
1565     -1537     -    597 +    543 +518     -    2359 +      },
1566     -1538     -    598 +    544 +519     -    2360 +      "engines": {
1567     -1539     -    599 +    545 +520     -    2361 +        "node": "^6 || ^7 || ^8 || ^9 || ^10 || ^11 || ^12 || >=13.7"
1568     -1540     -    600 +    546 +521     -    2362 +      }
1569     -1541     -    601 +    547 +522     -    2363 +    },
1570     -1542     -    602 +    548 +523     -2060 2364      "node_modules/bytes": {
1571     -1543     -    603 +    549 +524     -2061 2365        "version": "3.1.2",
1572     -1544     -    604 +    550 +525     -2062 2366        "resolved": "https://registry.npmjs.org/bytes/-/bytes-3.1.2.tgz",
1573     -1545     -    605 +    551 +526     -@@ -2108,6 +2412,27 @@
1574     -1546     -    606 +    552 +527     -2108 2412          "node": ">=6"
1575     -1547     -    607 +    553 +528     -2109 2413        }
1576     -1548     -    608 +    554 +529     -2110 2414      },
1577     -1549     -    609 +    555 +530     -    2415 +    "node_modules/caniuse-lite": {
1578     -1550     -    610 +    556 +531     -    2416 +      "version": "1.0.30001759",
1579     -1551     -    611 +    557 +532     -    2417 +      "resolved": "https://registry.npmjs.org/caniuse-lite/-/caniuse-lite-1.0.30001759.tgz",
1580     -1552     -    612 +    558 +533     -    2418 +      "integrity": "sha512-Pzfx9fOKoKvevQf8oCXoyNRQ5QyxJj+3O0Rqx2V5oxT61KGx8+n6hV/IUyJeifUci2clnmmKVpvtiqRzgiWjSw==",
1581     -1553     -    613 +    559 +534     -    2419 +      "dev": true,
1582     -1554     -    614 +    560 +535     -    2420 +      "funding": [
1583     -1555     -    615 +    561 +536     -    2421 +        {
1584     -1556     -    616 +    562 +537     -    2422 +          "type": "opencollective",
1585     -1557     -    617 +    563 +538     -    2423 +          "url": "https://opencollective.com/browserslist"
1586     -1558     -    618 +    564 +539     -    2424 +        },
1587     -1559     -    619 +    565 +540     -    2425 +        {
1588     -1560     -    620 +    566 +541     -    2426 +          "type": "tidelift",
1589     -1561     -    621 +    567 +542     -    2427 +          "url": "https://tidelift.com/funding/github/npm/caniuse-lite"
1590     -1562     -    622 +    568 +543     -    2428 +        },
1591     -1563     -    623 +    569 +544     -    2429 +        {
1592     -1564     -    624 +    570 +545     -    2430 +          "type": "github",
1593     -1565     -    625 +    571 +546     -    2431 +          "url": "https://github.com/sponsors/ai"
1594     -1566     -    626 +    572 +547     -    2432 +        }
1595     -1567     -    627 +    573 +548     -    2433 +      ],
1596     -1568     -    628 +    574 +549     -    2434 +      "license": "CC-BY-4.0"
1597     -1569     -    629 +    575 +550     -    2435 +    },
1598     -1570     -    630 +    576 +551     -2111 2436      "node_modules/canvg": {
1599     -1571     -    631 +    577 +552     -2112 2437        "version": "3.0.11",
1600     -1572     -    632 +    578 +553     -2113 2438        "resolved": "https://registry.npmjs.org/canvg/-/canvg-3.0.11.tgz",
1601     -1573     -    633 +    579 +554     -@@ -2246,6 +2571,13 @@
1602     -1574     -    634 +    580 +555     -2246 2571          "node": ">= 0.6"
1603     -1575     -    635 +    581 +556     -2247 2572        }
1604     -1576     -    636 +    582 +557     -2248 2573      },
1605     -1577     -    637 +    583 +558     -    2574 +    "node_modules/convert-source-map": {
1606     -1578     -    638 +    584 +559     -    2575 +      "version": "2.0.0",
1607     -1579     -    639 +    585 +560     -    2576 +      "resolved": "https://registry.npmjs.org/convert-source-map/-/convert-source-map-2.0.0.tgz",
1608     -1580     -    640 +    586 +561     -    2577 +      "integrity": "sha512-Kvp459HrV2FEJ1CAsi1Ku+MY3kasH19TFykTz2xWmMeq6bk2NU3XXvfJ+Q61m0xktWwt+1HSYf3JZsTms3aRJg==",
1609     -1581     -    641 +    587 +562     -    2578 +      "dev": true,
1610     -1582     -    642 +    588 +563     -    2579 +      "license": "MIT"
1611     -1583     -    643 +    589 +564     -    2580 +    },
1612     -1584     -    644 +    590 +565     -2249 2581      "node_modules/cookie": {
1613     -1585     -    645 +    591 +566     -2250 2582        "version": "0.7.1",
1614     -1586     -    646 +    592 +567     -2251 2583        "resolved": "https://registry.npmjs.org/cookie/-/cookie-0.7.1.tgz",
1615     -1587     -    647 +    593 +568     -@@ -2972,6 +3304,13 @@
1616     -1588     -    648 +    594 +569     -2972 3304        "dev": true,
1617     -1589     -    649 +    595 +570     -2973 3305        "license": "MIT"
1618     -1590     -    650 +    596 +571     -2974 3306      },
1619     -1591     -    651 +    597 +572     -    3307 +    "node_modules/electron-to-chromium": {
1620     -1592     -    652 +    598 +573     -    3308 +      "version": "1.5.267",
1621     -1593     -    653 +    599 +574     -    3309 +      "resolved": "https://registry.npmjs.org/electron-to-chromium/-/electron-to-chromium-1.5.267.tgz",
1622     -1594     -    654 +    600 +575     -    3310 +      "integrity": "sha512-0Drusm6MVRXSOJpGbaSVgcQsuB4hEkMpHXaVstcPmhu5LIedxs1xNK/nIxmQIU/RPC0+1/o0AVZfBTkTNJOdUw==",
1623     -1595     -    655 +    601 +576     -    3311 +      "dev": true,
1624     -1596     -    656 +    602 +577     -    3312 +      "license": "ISC"
1625     -1597     -    657 +    603 +578     -    3313 +    },
1626     -1598     -    658 +    604 +579     -2975 3314      "node_modules/encodeurl": {
1627     -1599     -    659 +    605 +580     -2976 3315        "version": "2.0.0",
1628     -1600     -    660 +    606 +581     -2977 3316        "resolved": "https://registry.npmjs.org/encodeurl/-/encodeurl-2.0.0.tgz",
1629     -1601     -    661 +    607 +582     -@@ -3077,6 +3416,16 @@
1630     -1602     -    662 +    608 +583     -3077 3416          "@esbuild/win32-x64": "0.25.12"
1631     -1603     -    663 +    609 +584     -3078 3417        }
1632     -1604     -    664 +    610 +585     -3079 3418      },
1633     -1605     -    665 +    611 +586     -    3419 +    "node_modules/escalade": {
1634     -1606     -    666 +    612 +587     -    3420 +      "version": "3.2.0",
1635     -1607     -    667 +    613 +588     -    3421 +      "resolved": "https://registry.npmjs.org/escalade/-/escalade-3.2.0.tgz",
1636     -1608     -    668 +    614 +589     -    3422 +      "integrity": "sha512-WUj2qlxaQtO4g6Pq5c29GTcWGDyd8itL8zTlipgECz3JesAiiOKotd8JU6otB3PACgG6xkJUyVhboMS+bje/jA==",
1637     -1609     -    669 +    615 +590     -    3423 +      "dev": true,
1638     -1610     -    670 +    616 +591     -    3424 +      "license": "MIT",
1639     -1611     -    671 +    617 +592     -    3425 +      "engines": {
1640     -1612     -    672 +    618 +593     -    3426 +        "node": ">=6"
1641     -1613     -    673 +    619 +594     -    3427 +      }
1642     -1614     -    674 +    620 +595     -    3428 +    },
1643     -1615     -    675 +    621 +596     -3080 3429      "node_modules/escape-html": {
1644     -1616     -    676 +    622 +597     -3081 3430        "version": "1.0.3",
1645     -1617     -    677 +    623 +598     -3082 3431        "resolved": "https://registry.npmjs.org/escape-html/-/escape-html-1.0.3.tgz",
1646     -1618     -    678 +    624 +599     -@@ -3533,6 +3882,16 @@
1647     -1619     -    679 +    625 +600     -3533 3882          "url": "https://github.com/sponsors/ljharb"
1648     -1620     -    680 +    626 +601     -3534 3883        }
1649     -1621     -    681 +    627 +602     -3535 3884      },
1650     -1622     -    682 +    628 +603     -    3885 +    "node_modules/gensync": {
1651     -1623     -    683 +    629 +604     -    3886 +      "version": "1.0.0-beta.2",
1652     -1624     -    684 +    630 +605     -    3887 +      "resolved": "https://registry.npmjs.org/gensync/-/gensync-1.0.0-beta.2.tgz",
1653     -1625     -    685 +    631 +606     -    3888 +      "integrity": "sha512-3hN7NaskYvMDLQY55gnW3NQ+mesEAepTqlg+VEbj7zzqEMBVNhzcGYYeqFo/TlYz6eQiFcp1HcsCZO+nGgS8zg==",
1654     -1626     -    686 +    632 +607     -    3889 +      "dev": true,
1655     -1627     -    687 +    633 +608     -    3890 +      "license": "MIT",
1656     -1628     -    688 +    634 +609     -    3891 +      "engines": {
1657     -1629     -    689 +    635 +610     -    3892 +        "node": ">=6.9.0"
1658     -1630     -    690 +    636 +611     -    3893 +      }
1659     -1631     -    691 +    637 +612     -    3894 +    },
1660     -1632     -    692 +    638 +613     -3536 3895      "node_modules/get-intrinsic": {
1661     -1633     -    693 +    639 +614     -3537 3896        "version": "1.3.0",
1662     -1634     -    694 +    640 +615     -3538 3897        "resolved": "https://registry.npmjs.org/get-intrinsic/-/get-intrinsic-1.3.0.tgz",
1663     -1635     -    695 +    641 +616     -@@ -3973,6 +4332,19 @@
1664     -1636     -    696 +    642 +617     -3973 4332          }
1665     -1637     -    697 +    643 +618     -3974 4333        }
1666     -1638     -    698 +    644 +619     -3975 4334      },
1667     -1639     -    699 +    645 +620     -    4335 +    "node_modules/jsesc": {
1668     -1640     -    700 +    646 +621     -    4336 +      "version": "3.1.0",
1669     -1641     -    701 +    647 +622     -    4337 +      "resolved": "https://registry.npmjs.org/jsesc/-/jsesc-3.1.0.tgz",
1670     -1642     -    702 +    648 +623     -    4338 +      "integrity": "sha512-/sM3dO2FOzXjKQhJuo0Q173wf2KOo8t4I8vHy6lF9poUp7bKT0/NHE8fPX23PwfhnykfqnC2xRxOnVw5XuGIaA==",
1671     -1643     -    703 +    649 +624     -    4339 +      "dev": true,
1672     -1644     -    704 +    650 +625     -    4340 +      "license": "MIT",
1673     -1645     -    705 +    651 +626     -    4341 +      "bin": {
1674     -1646     -    706 +    652 +627     -    4342 +        "jsesc": "bin/jsesc"
1675     -1647     -    707 +    653 +628     -    4343 +      },
1676     -1648     -    708 +    654 +629     -    4344 +      "engines": {
1677     -1649     -    709 +    655 +630     -    4345 +        "node": ">=6"
1678     -1650     -    710 +    656 +631     -    4346 +      }
1679     -1651     -    711 +    657 +632     -    4347 +    },
1680     -1652     -    712 +    658 +633     -3976 4348      "node_modules/json-buffer": {
1681     -1653     -    713 +    659 +634     -3977 4349        "version": "3.0.1",
1682     -1654     -    714 +    660 +635     -3978 4350        "resolved": "https://registry.npmjs.org/json-buffer/-/json-buffer-3.0.1.tgz",
1683     -1655     -    715 +    661 +636     -@@ -3994,6 +4366,19 @@
1684     -1656     -    716 +    662 +637     -3994 4366        "dev": true,
1685     -1657     -    717 +    663 +638     -3995 4367        "license": "MIT"
1686     -1658     -    718 +    664 +639     -3996 4368      },
1687     -1659     -    719 +    665 +640     -    4369 +    "node_modules/json5": {
1688     -1660     -    720 +    666 +641     -    4370 +      "version": "2.2.3",
1689     -1661     -    721 +    667 +642     -    4371 +      "resolved": "https://registry.npmjs.org/json5/-/json5-2.2.3.tgz",
1690     -1662     -    722 +    668 +643     -    4372 +      "integrity": "sha512-XmOWe7eyHYH14cLdVPoyg+GOH3rYX++KpzrylJwSW98t3Nk+U8XOl8FWKOgwtzdb8lXGf6zYwDUzeHMWfxasyg==",
1691     -1663     -    723 +    669 +644     -    4373 +      "dev": true,
1692     -1664     -    724 +    670 +645     -    4374 +      "license": "MIT",
1693     -1665     -    725 +    671 +646     -    4375 +      "bin": {
1694     -1666     -    726 +    672 +647     -    4376 +        "json5": "lib/cli.js"
1695     -1667     -    727 +    673 +648     -    4377 +      },
1696     -1668     -    728 +    674 +649     -    4378 +      "engines": {
1697     -1669     -    729 +    675 +650     -    4379 +        "node": ">=6"
1698     -1670     -    730 +    676 +651     -    4380 +      }
1699     -1671     -    731 +    677 +652     -    4381 +    },
1700     -1672     -    732 +    678 +653     -3997 4382      "node_modules/jspdf": {
1701     -1673     -    733 +    679 +654     -3998 4383        "version": "3.0.4",
1702     -1674     -    734 +    680 +655     -3999 4384        "resolved": "https://registry.npmjs.org/jspdf/-/jspdf-3.0.4.tgz",
1703     -1675     -    735 +    681 +656     -@@ -4377,6 +4762,13 @@
1704     -1676     -    736 +    682 +657     -4377 4762          "node": ">= 0.6"
1705     -1677     -    737 +    683 +658     -4378 4763        }
1706     -1678     -    738 +    684 +659     -4379 4764      },
1707     -1679     -    739 +    685 +660     -    4765 +    "node_modules/node-releases": {
1708     -1680     -    740 +    686 +661     -    4766 +      "version": "2.0.27",
1709     -1681     -    741 +    687 +662     -    4767 +      "resolved": "https://registry.npmjs.org/node-releases/-/node-releases-2.0.27.tgz",
1710     -1682     -    742 +    688 +663     -    4768 +      "integrity": "sha512-nmh3lCkYZ3grZvqcCH+fjmQ7X+H0OeZgP40OierEaAptX4XofMh5kwNbWh7lBduUzCcV/8kZ+NDLCwm2iorIlA==",
1711     -1683     -    743 +    689 +664     -    4769 +      "dev": true,
1712     -1684     -    744 +    690 +665     -    4770 +      "license": "MIT"
1713     -1685     -    745 +    691 +666     -    4771 +    },
1714     -1686     -    746 +    692 +667     -4380 4772      "node_modules/object-assign": {
1715     -1687     -    747 +    693 +668     -4381 4773        "version": "4.1.1",
1716     -1688     -    748 +    694 +669     -4382 4774        "resolved": "https://registry.npmjs.org/object-assign/-/object-assign-4.1.1.tgz",
1717     -1689     -    749 +    695 +670     -@@ -5384,6 +5776,37 @@
1718     -1690     -    750 +    696 +671     -5384 5776          "node": ">= 0.8"
1719     -1691     -    751 +    697 +672     -5385 5777        }
1720     -1692     -    752 +    698 +673     -5386 5778      },
1721     -1693     -    753 +    699 +674     -    5779 +    "node_modules/update-browserslist-db": {
1722     -1694     -    754 +    700 +675     -    5780 +      "version": "1.2.2",
1723     -1695     -    755 +    701 +676     -    5781 +      "resolved": "https://registry.npmjs.org/update-browserslist-db/-/update-browserslist-db-1.2.2.tgz",
1724     -1696     -    756 +    702 +677     -    5782 +      "integrity": "sha512-E85pfNzMQ9jpKkA7+TJAi4TJN+tBCuWh5rUcS/sv6cFi+1q9LYDwDI5dpUL0u/73EElyQ8d3TEaeW4sPedBqYA==",
1725     -1697     -    757 +    703 +678     -    5783 +      "dev": true,
1726     -1698     -    758 +    704 +679     -    5784 +      "funding": [
1727     -1699     -    759 +    705 +680     -    5785 +        {
1728     -1700     -    760 +    706 +681     -    5786 +          "type": "opencollective",
1729     -1701     -    761 +    707 +682     -    5787 +          "url": "https://opencollective.com/browserslist"
1730     -1702     -    762 +    708 +683     -    5788 +        },
1731     -1703     -    763 +    709 +684     -    5789 +        {
1732     -1704     -    764 +    710 +685     -    5790 +          "type": "tidelift",
1733     -1705     -    765 +    711 +686     -    5791 +          "url": "https://tidelift.com/funding/github/npm/browserslist"
1734     -1706     -    766 +    712 +687     -    5792 +        },
1735     -1707     -    767 +    713 +688     -    5793 +        {
1736     -1708     -    768 +    714 +689     -    5794 +          "type": "github",
1737     -1709     -    769 +    715 +690     -    5795 +          "url": "https://github.com/sponsors/ai"
1738     -1710     -    770 +    716 +691     -    5796 +        }
1739     -1711     -    771 +    717 +692     -    5797 +      ],
1740     -1712     -    772 +    718 +693     -    5798 +      "license": "MIT",
1741     -1713     -    773 +    719 +694     -    5799 +      "dependencies": {
1742     -1714     -    774 +    720 +695     -    5800 +        "escalade": "^3.2.0",
1743     -1715     -    775 +    721 +696     -    5801 +        "picocolors": "^1.1.1"
1744     -1716     -    776 +    722 +697     -    5802 +      },
1745     -1717     -    777 +    723 +698     -    5803 +      "bin": {
1746     -1718     -    778 +    724 +699     -    5804 +        "update-browserslist-db": "cli.js"
1747     -1719     -    779 +    725 +700     -    5805 +      },
1748     -1720     -    780 +    726 +701     -    5806 +      "peerDependencies": {
1749     -1721     -    781 +    727 +702     -    5807 +        "browserslist": ">= 4.21.0"
1750     -1722     -    782 +    728 +703     -    5808 +      }
1751     -1723     -    783 +    729 +704     -    5809 +    },
1752     -1724     -    784 +    730 +705     -5387 5810      "node_modules/uri-js": {
1753     -1725     -    785 +    731 +706     -5388 5811        "version": "4.4.1",
1754     -1726     -    786 +    732 +707     -5389 5812        "resolved": "https://registry.npmjs.org/uri-js/-/uri-js-4.4.1.tgz",
1755     -1727     -    787 +    733 +708     -@@ -5511,6 +5934,20 @@
1756     -1728     -    788 +    734 +709     -5511 5934          }
1757     -1729     -    789 +    735 +710     -5512 5935        }
1758     -1730     -    790 +    736 +711     -5513 5936      },
1759     -1731     -    791 +    737 +712     -    5937 +    "node_modules/vite-plugin-prismjs": {
1760     -1732     -    792 +    738 +713     -    5938 +      "version": "0.0.11",
1761     -1733     -    793 +    739 +714     -    5939 +      "resolved": "https://registry.npmjs.org/vite-plugin-prismjs/-/vite-plugin-prismjs-0.0.11.tgz",
1762     -1734     -    794 +    740 +715     -    5940 +      "integrity": "sha512-20NBQxg/zH+3FTrlU6BQTob720xkuXNYtrx7psAQ4E6pMcRDeLEK77QU9kXURU587+f2To7ASH1JVTGbXVV/vQ==",
1763     -1735     -    795 +    741 +716     -    5941 +      "dev": true,
1764     -1736     -    796 +    742 +717     -    5942 +      "license": "MIT",
1765     -1737     -    797 +    743 +718     -    5943 +      "dependencies": {
1766     -1738     -    798 +    744 +719     -    5944 +        "@babel/core": "^7.15.5",
1767     -1739     -    799 +    745 +720     -    5945 +        "babel-plugin-prismjs": "^2.1.0"
1768     -1740     -    800 +    746 +721     -    5946 +      },
1769     -1741     -    801 +    747 +722     -    5947 +      "engines": {
1770     -1742     -    802 +    748 +723     -    5948 +        "node": ">=12.0.0"
1771     -1743     -    803 +    749 +724     -    5949 +      }
1772     -1744     -    804 +    750 +725     -    5950 +    },
1773     -1745     -    805 +    751 +726     -5514 5951      "node_modules/vitest": {
1774     -1746     -    806 +    752 +727     -5515 5952        "version": "4.0.8",
1775     -1747     -    807 +    753 +728     -5516 5953        "resolved": "https://registry.npmjs.org/vitest/-/vitest-4.0.8.tgz",
1776     -1748     -    808 +    754 +729     -@@ -5780,6 +6217,13 @@
1777     -1749     -    809 +    755 +730     -5780 6217        "dev": true,
1778     -1750     -    810 +    756 +731     -5781 6218        "license": "MIT"
1779     -1751     -    811 +    757 +732     -5782 6219      },
1780     -1752     -    812 +    758 +733     -    6220 +    "node_modules/yallist": {
1781     -1753     -    813 +    759 +734     -    6221 +      "version": "3.1.1",
1782     -1754     -    814 +    760 +735     -    6222 +      "resolved": "https://registry.npmjs.org/yallist/-/yallist-3.1.1.tgz",
1783     -1755     -    815 +    761 +736     -    6223 +      "integrity": "sha512-a4UGQaWPH59mOXUYnAG2ewncQS4i4F43Tv3JoAM+s2VDAmS9NsK8GpDMLrCHPksFT7h3K6TOoUNn2pb7RoXx4g==",
1784     -1756     -    816 +    762 +737     -    6224 +      "dev": true,
1785     -1757     -    817 +    763 +738     -    6225 +      "license": "ISC"
1786     -1758     -    818 +    764 +739     -    6226 +    },
1787     -1759     -    819 +    765 +740     -5783 6227      "node_modules/yocto-queue": {
1788     -1760     -    820 +    766 +741     -5784 6228        "version": "0.1.0",
1789     -1761     -    821 +    767 +742     -5785 6229        "resolved": "https://registry.npmjs.org/yocto-queue/-/yocto-queue-0.1.0.tgz",
1790     -1762     -    822 +    768 +743     -5786 6230  
1791     -1763     -    823 +    769 +744     -
1792     -1764     -    824 +    770 +745     -```
1793     -1765     -    825 +    771 +746     -
1794     -1766     -    826 +    772 +747     -
1795     -1767     -    827 +    773 +748     -### üìÑ `package.json`
1796     -1768     -    828 +    774 +749     -
1797     -1769     -    829 +    775 +750     -**Type:** Configuration/Data File üìã
1798     -1770     -    830 +    776 +751     -
1799     -1771     -    831 +    777 +752     -```diff
1800     -1772     -    832 +    778 +753     -@@ -38,6 +38,7 @@
1801     -1773     -    833 +    779 +754     - 38  38      "prettier": "3.6.2",
1802     -1774     -    834 +    780 +755     - 39  39      "typescript": "5.9.3",
1803     -1775     -    835 +    781 +756     - 40  40      "vite": "7.2.2",
1804     -1776     -    836 +    782 +757     -     41 +    "vite-plugin-prismjs": "0.0.11",
1805     -1777     -    837 +    783 +758     - 41  42      "vitest": "4.0.8"
1806     -1778     -    838 +    784 +759     - 42  43    },
1807     -1779     -    839 +    785 +760     - 43  44    "dependencies": {
1808     -1780     -    840 +    786 +761     - 44  45  
1809     -1781     -    841 +    787 +762     -
1810     -1782     -    842 +    788 +763     -```
1811     -1783     -    843 +    789 +     13 +## üìù Files Changed (1/1 selected)
1812     -1784     -    844 +    790 +764  14  
1813     -1785     -    845 +    791 +765  15  
1814     -1786     -    846 +    792 +766  16  ### üìÑ `script.js`
1815     -1787     -    847 +    793 +@@ -768,119 +18,32 @@ AI_REVIEW.md      | 107 ++++++++++---
1816     -1788     -    848 +    794 +768  18  **Type:** JavaScript Source File üü®
1817     -1789     -    849 +    795 +769  19  
1818     -1790     -    850 +    796 +770  20  ```diff
1819     -1791     -    851 +    797 +771     -@@ -9,26 +9,9 @@ import { marked } from 'marked';
1820     -1792     -    852 +    798 +772     -  9   9  import markedFootnote from 'marked-footnote';
1821     -1793     -    853 +    799 +773     - 10  10  import mermaid from 'mermaid';
1822     -1794     -    854 +    800 +774     - 11  11  import Prism from 'prismjs';
1823     -1795     -    855 +    801 +775     - 12     -import 'prismjs/components/prism-bash';
1824     -1796     -    856 +    802 +776     - 13     -import 'prismjs/components/prism-batch';
1825     -1797     -    857 +    803 +777     - 14     -import 'prismjs/components/prism-c';
1826     -1798     -    858 +    804 +778     - 15     -import 'prismjs/components/prism-cpp';
1827     -1799     -    859 +    805 +779     - 16     -import 'prismjs/components/prism-css';
1828     -1800     -    860 +    806 +780     - 17     -import 'prismjs/components/prism-diff';
1829     -1801     -    861 +    807 +781     - 18     -import 'prismjs/components/prism-go';
1830     -1802     -    862 +    808 +782     - 19     -import 'prismjs/components/prism-ini';
1831     -1803     -    863 +    809 +783     - 20     -import 'prismjs/components/prism-java';
1832     -1804     -    864 +    810 +784     - 21     -import 'prismjs/components/prism-javascript';
1833     -1805     -    865 +    811 +785     - 22     -import 'prismjs/components/prism-json';
1834     -1806     -    866 +    812 +786     - 23     -import 'prismjs/components/prism-markdown';
1835     -1807     -    867 +    813 +787     - 24     -import 'prismjs/components/prism-python';
1836     -1808     -    868 +    814 +788     - 25     -import 'prismjs/components/prism-r';
1837     -1809     -    869 +    815 +789     - 26     -import 'prismjs/components/prism-rust';
1838     -1810     -    870 +    816 +790     - 27     -import 'prismjs/components/prism-scss';
1839     -1811     -    871 +    817 +791     - 28     -import 'prismjs/components/prism-sql';
1840     -1812     -    872 +    818 +792     - 29     -import 'prismjs/components/prism-typescript';
1841     -1813     -    873 +    819 +793     - 30     -import 'prismjs/components/prism-yaml';
1842     -1814     -    874 +    820 +794     - 31     -import 'prismjs/themes/prism-tomorrow.css'; // Import Prism CSS
1843     -1815     -    875 +    821 +795     -     12 +
1844     -1816     -    876 +    822 +796     -     13 +// PrismJS is now handled by vite-plugin-prismjs
1845     -1817     -    877 +    823 +797     -     14 +// which automatically loads all languages and themes
1846     -1818     -    878 +    824 +798     - 32  15  
1847     -1819     -    879 +    825 +799     - 33  16  import { StorageManager } from './src/js/core/StorageManager.js';
1848     -1820     -    880 +    826 +800     - 34  17  import { ThemeManager } from './src/js/core/ThemeManager.js';
1849     -1821     -    881 +    827 +801     -@@ -189,6 +172,9 @@ function configureMarkedExtensions() {
1850     -1822     -    882 +    828 +802     -189 172                  throwOnError: false,
1851     -1823     -    883 +    829 +803     -190 173                  output: 'html',
1852     -1824     -    884 +    830 +804     -191 174                  trust: true, // Allow custom styling
1853     -1825     -    885 +    831 +805     -    175 +                macros: {
1854     -1826     -    886 +    832 +806     -    176 +                  '\\label': '\\phantom', // Hide \label
1855     -1827     -    887 +    833 +807     -    177 +                },
1856     -1828     -    888 +    834 +808     -192 178                }) +
1857     -1829     -    889 +    835 +809     -193 179                '</div>'
1858     -1830     -    890 +    836 +810     -194 180              );
1859     -1831     -    891 +    837 +811     -@@ -206,8 +192,8 @@ function configureMarkedExtensions() {
1860     -1832     -    892 +    838 +812     -206 192            return src.match(/^\s*\\begin/)?.index;
1861     -1833     -    893 +    839 +813     -207 193          },
1862     -1834     -    894 +    840 +814     -208 194          tokenizer(src) {
1863     -1835     -    895 +    841 +815     -209     -          // Robust regex for LaTeX environments
1864     -1836     -    896 +    842 +816     -210     -          const match = src.match(/^\s*(\\begin\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\{\2\})/);
1865     -1837     -    897 +    843 +817     -    195 +          // Robust regex for LaTeX environments (tolerant to whitespace)
1866     -1838     -    898 +    844 +818     -    196 +          const match = src.match(/^\s*(\\begin\s*\{\s*([a-zA-Z]+\*?)\s*\}\s*([\s\S]*?)\s*\\end\s*\{\s*\2\s*\})/);
1867     -1839     -    899 +    845 +819     -211 197            if (match) {
1868     -1840     -    900 +    846 +820     -212 198              return {
1869     -1841     -    901 +    847 +821     -213 199                type: 'mathEnvironment',
1870     -1842     -    902 +    848 +822     -@@ -225,6 +211,12 @@ function configureMarkedExtensions() {
1871     -1843     -    903 +    849 +823     -225 211                  throwOnError: false,
1872     -1844     -    904 +    850 +824     -226 212                  output: 'html',
1873     -1845     -    905 +    851 +825     -227 213                  trust: true,
1874     -1846     -    906 +    852 +826     -    214 +                macros: {
1875     -1847     -    907 +    853 +827     -    215 +                  '\\label': '\\phantom', // Hide \label
1876     -1848     -    908 +    854 +828     -    216 +                  '\\eqref': '\\text', // Plain text for refs (or link if needed)
1877     -1849     -    909 +    855 +829     -    217 +                  '\\cite': '\\text',
1878     -1850     -    910 +    856 +830     -    218 +                  '\\ref': '\\text',
1879     -1851     -    911 +    857 +831     -    219 +                },
1880     -1852     -    912 +    858 +832     -228 220                }) +
1881     -1853     -    913 +    859 +833     -229 221                '</div>'
1882     -1854     -    914 +    860 +834     -230 222              );
1883     -1855     -    915 +    861 +835     -@@ -269,6 +261,9 @@ function configureMarkedExtensions() {
1884     -1856     -    916 +    862 +836     -269 261                displayMode: token.displayMode || false,
1885     -1857     -    917 +    863 +837     -270 262                throwOnError: false,
1886     -1858     -    918 +    864 +838     -271 263                output: 'html',
1887     -1859     -    919 +    865 +839     -    264 +              macros: {
1888     -1860     -    920 +    866 +840     -    265 +                '\\label': '\\phantom',
1889     -1861     -    921 +    867 +841     -    266 +              },
1890     -1862     -    922 +    868 +842     -272 267              });
1891     -1863     -    923 +    869 +843     -273 268  
1892     -1864     -    924 +    870 +844     -274 269              // Wrap display math in a div for proper spacing
1893     -1865     -    925 +    871 +845     -275 270  
1894     -1866     -    926 +    872 +846     -
1895     -1867     -    927 +    873 +847     -```
1896     -1868     -    928 +    874 +848     -
1897     -1869     -    929 +    875 +849     -
1898     -1870     -    930 +    876 +850     -### üìÑ `vite.config.js`
1899     -1871     -    931 +    877 +851     -
1900     -1872     -    932 +    878 +852     -**Type:** JavaScript Source File üü®
1901     -1873     -    933 +    879 +853     -
1902     -1874     -    934 +    880 +854     -```diff
1903     -1875     -    935 +    881 +855     -@@ -1,20 +1,25 @@
1904     -1876     -    936 +    882 +856     -  1   1  import { copyFileSync, mkdirSync, readdirSync } from 'fs';
1905     -1877     -    937 +    883 +857     -  2   2  import { join } from 'path';
1906     -1878     -    938 +    884 +858     -  3   3  import { defineConfig } from 'vite';
1907     -1879     -    939 +    885 +859     -      4 +import prism from 'vite-plugin-prismjs';
1908     -1880     -    940 +    886 +860     -  4   5  
1909     -1881     -    941 +    887 +861     -  5   6  export default defineConfig({
1910     -1882     -    942 +    888 +862     -  6   7    root: './',
1911     -1883     -    943 +    889 +863     -  7   8    base: '/markdown-viewer-app/',
1912     -1884     -    944 +    890 +864     -  8   9    build: {
1913     -1885     -    945 +    891 +865     -  9  10      outDir: 'dist',
1914     -1886     -    946 +    892 +866     - 10     -    // Note: marked, prismjs, and mermaid are loaded via CDN in index.html
1915     -1887     -    947 +    893 +867     - 11     -    // No need for manualChunks as they are not npm dependencies
1916     -1888     -    948 +    894 +868     - 12  11    },
1917     -1889     -    949 +    895 +869     - 13  12    server: {
1918     -1890     -    950 +    896 +870     - 14  13      port: 3000,
1919     -1891     -    951 +    897 +871     - 15  14      open: true,
1920     -1892     -    952 +    898 +872     - 16  15    },
1921     -1893     -    953 +    899 +873     - 17  16    plugins: [
1922     -1894     -    954 +    900 +874     -     17 +    prism({
1923     -1895     -    955 +    901 +875     -     18 +      languages: 'all', // Load ALL languages for future-proofing
1924     -1896     -    956 +    902 +876     -     19 +      plugins: ['line-numbers', 'copy-to-clipboard'],
1925     -1897     -    957 +    903 +877     -     20 +      theme: 'tomorrow',
1926     -1898     -    958 +    904 +878     -     21 +      css: true,
1927     -1899     -    959 +    905 +879     -     22 +    }),
1928     -1900     -    960 +    906 +880     - 18  23      {
1929     -1901     -    961 +    907 +881     - 19  24        name: 'copy-themes',
1930     -1902     -    962 +    908 +882     - 20  25        closeBundle() {
1931     -1903     -    963 +    909 +883     - 21  26  
1932     -1904     -    964 +    910 +     21 +@@ -544,6 +544,11 @@ graph TD
1933     -1905     -    965 +    911 +     22 +544 544          const id = element.id;
1934     -1906     -    966 +    912 +     23 +545 545          const code = decodeURIComponent(element.dataset.code);
1935     -1907     -    967 +    913 +     24 +546 546  
1936     -1908     -    968 +    914 +     25 +    547 +        if (!code || !code.trim()) {
1937     -1909     -    969 +    915 +     26 +    548 +          element.innerHTML = '';
1938     -1910     -    970 +    916 +     27 +    549 +          return;
1939     -1911     -    971 +    917 +     28 +    550 +        }
1940     -1912     -    972 +    918 +     29 +    551 +
1941     -1913     -    973 +    919 +     30 +547 552          if (typeof mermaid !== 'undefined') {
1942     -1914     -    974 +    920 +     31 +548 553            mermaid
1943     -1915     -    975 +    921 +     32 +549 554              .render('mermaid-svg-' + id, code)
1944     -1916     -    976 +    922 +     33 +@@ -551,7 +556,11 @@ graph TD
1945     -1917     -    977 +    923 +     34 +551 556                element.innerHTML = result.svg;
1946     -1918     -    978 +    924 +     35 +552 557              })
1947     -1919     -    979 +    925 +     36 +553 558              .catch(err => {
1948     -1920     -    980 +    926 +     37 +554     -              element.innerHTML = `<p style="color: red;">Mermaid diagram error: ${err.message}</p>`;
1949     -1921     -    981 +    927 +     38 +    559 +              console.warn('Mermaid error:', err);
1950     -1922     -    982 +    928 +     39 +    560 +              // Graceful failure: small warning instead of giant red text
1951     -1923     -    983 +    929 +     40 +    561 +              element.innerHTML = `<div style="color: var(--text-secondary); font-size: 0.8em; text-align: center; border: 1px dashed var(--border-color); padding: 8px; border-radius: 6px; opacity: 0.8; margin: 10px 0;">
1952     -1924     -    984 +    930 +     41 +    562 +                <span style="font-size: 1.2em;">‚ö†Ô∏è</span> Invalid Mermaid Syntax
1953     -1925     -    985 +    931 +     42 +    563 +              </div>`;
1954     -1926     -    986 +    932 +     43 +555 564              });
1955     -1927     -    987 +    933 +     44 +556 565          }
1956     -1928     -    988 +    934 +     45 +557 566        });
1957     -1929     -    989 +    935 +     46 +558 567  
1958     -1930     -    990 +    936 +884  47  
1959     -1931     -    991 +    937 +885  48  ```
1960     -1932     -    992 +    938 +886  49  
1961     -1933     -    993 +    939 +@@ -926,4 +89,4 @@ Please provide specific feedback on:
1962     -1934     -    994 +    940 +926  89  
1963     -1935     -    995 +    941 +927  90  ---
1964     -1936     -    996 +    942 +928  91  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
1965     -1937     -    997 +    943 +929     -*Files processed: 5/5 | Errors: 0 | Generated: 2025-12-09T02:07:02.257Z*
1966     -1938     -    998 +    944 +     92 +*Files processed: 1/1 | Errors: 0 | Generated: 2025-12-09T03:47:49.443Z*
1967     -1939     -    999 +    945 +930  93  
1968     -1940     -    1000 +    946 +
1969     -1941     -    1001 +    947 +```
1970     -1942     -    1002 +    948 +
1971     -1943     -    1003 +    949 +
1972     -1944     -    1004 +    950 +### üìÑ `style.css`
1973     -1945     -    1005 +    951 +
1974     -1946     -    1006 +    952 +**Type:** Stylesheet üé®
1975     -1947     -    1007 +    953 +
1976     -1948     -    1008 +    954 +```diff
1977     -1949     -    1009 +    955 +@@ -88,17 +88,23 @@ body {
1978     -1950     -    1010 +    956 + 88  88  .btn {
1979     -1951     -    1011 +    957 + 89  89    padding: 8px 16px;
1980     -1952     -    1012 +    958 + 90  90    border: 1px solid var(--border-color);
1981     -1953     -    1013 +    959 + 91     -  background-color: var(--bg-primary);
1982     -1954     -    1014 +    960 +     91 +  background-color: color-mix(in srgb, var(--bg-primary) 80%, transparent);
1983     -1955     -    1015 +    961 +     92 +  backdrop-filter: blur(4px);
1984     -1956     -    1016 +    962 +     93 +  -webkit-backdrop-filter: blur(4px);
1985     -1957     -    1017 +    963 + 92  94    color: var(--text-primary);
1986     -1958     -    1018 +    964 + 93     -  border-radius: 6px;
1987     -1959     -    1019 +    965 +     95 +  border-radius: 8px; /* Softer, more modern radius */
1988     -1960     -    1020 +    966 + 94  96    cursor: pointer;
1989     -1961     -    1021 +    967 + 95  97    font-size: 14px;
1990     -1962     -    1022 +    968 + 96     -  transition: all 0.2s;
1991     -1963     -    1023 +    969 +     98 +  font-weight: 500;
1992     -1964     -    1024 +    970 +     99 +  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
1993     -1965     -    1025 +    971 +    100 +  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
1994     -1966     -    1026 +    972 + 97 101  }
1995     -1967     -    1027 +    973 + 98 102  
1996     -1968     -    1028 +    974 + 99 103  .btn:hover {
1997     -1969     -    1029 +    975 +100 104    background-color: var(--bg-tertiary);
1998     -1970     -    1030 +    976 +101     -  transform: translateY(-1px);
1999     -1971     -    1031 +    977 +    105 +  transform: translateY(-2px);
2000     -1972     -    1032 +    978 +    106 +  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
2001     -1973     -    1033 +    979 +    107 +  border-color: var(--h1-color);
2002     -1974     -    1034 +    980 +102 108  }
2003     -1975     -    1035 +    981 +103 109  
2004     -1976     -    1036 +    982 +104 110  .btn.active {
2005     -1977     -    1037 +    983 +@@ -112,6 +118,12 @@ body {
2006     -1978     -    1038 +    984 +112 118    display: flex;
2007     -1979     -    1039 +    985 +113 119    flex: 1;
2008     -1980     -    1040 +    986 +114 120    overflow: hidden;
2009     -1981     -    1041 +    987 +    121 +  animation: slideUpFade 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
2010     -1982     -    1042 +    988 +    122 +}
2011     -1983     -    1043 +    989 +    123 +
2012     -1984     -    1044 +    990 +    124 +@keyframes slideUpFade {
2013     -1985     -    1045 +    991 +    125 +  from { opacity: 0; transform: translateY(20px); }
2014     -1986     -    1046 +    992 +    126 +  to { opacity: 1; transform: translateY(0); }
2015     -1987     -    1047 +    993 +115 127  }
2016     -1988     -    1048 +    994 +116 128  
2017     -1989     -    1049 +    995 +117 129  /* ==================== EDITOR ==================== */
2018     -1990     -    1050 +    996 +@@ -1080,3 +1092,27 @@ body {
2019     -1991     -    1051 +    997 +1080 1092    border-left-color: #cf222e;
2020     -1992     -    1052 +    998 +1081 1093    background-color: rgba(207, 34, 46, 0.1);
2021     -1993     -    1053 +    999 +1082 1094  }
2022     -1994     -    1054 +    1000 +    1095 +/* ==================== GLASS SCROLLBARS ==================== */
2023     -1995     -    1055 +    1001 +    1096 +::-webkit-scrollbar {
2024     -1996     -    1056 +    1002 +    1097 +  width: 12px;
2025     -1997     -    1057 +    1003 +    1098 +  height: 12px;
2026     -1998     -    1058 +    1004 +    1099 +  background-color: transparent;
2027     -1999     -    1059 +    1005 +    1100 +}
2028     -2000     -    1060 +    1006 +    1101 +
2029     -2001     -    1061 +    1007 +    1102 +::-webkit-scrollbar-track {
2030     -2002     -    1062 +    1008 +    1103 +  background: transparent;
2031     -2003     -    1063 +    1009 +    1104 +}
2032     -2004     -    1064 +    1010 +    1105 +
2033     -2005     -    1065 +    1011 +    1106 +::-webkit-scrollbar-thumb {
2034     -2006     -    1066 +    1012 +    1107 +  background-color: color-mix(in srgb, var(--text-secondary) 30%, transparent);
2035     -2007     -    1067 +    1013 +    1108 +  border-radius: 20px;
2036     -2008     -    1068 +    1014 +    1109 +  border: 3px solid transparent;
2037     -2009     -    1069 +    1015 +    1110 +  background-clip: content-box;
2038     -2010     -    1070 +    1016 +    1111 +  backdrop-filter: blur(4px);
2039     -2011     -    1071 +    1017 +    1112 +}
2040     -2012     -    1072 +    1018 +    1113 +
2041     -2013     -    1073 +    1019 +    1114 +::-webkit-scrollbar-thumb:hover {
2042     -2014     -    1074 +    1020 +    1115 +  background-color: color-mix(in srgb, var(--text-secondary) 50%, transparent);
2043     -2015     -    1075 +    1021 +    1116 +}
2044     -2016     -    1076 +    1022 +    1117 +
2045     -2017     -    1077 +    1023 +    1118 +/* ==================== END ==================== */
2046     -2018     -    1078 +    1024 +1083 1119  
2047     -2019     -    1079 + 47 1025  
2048     -2020     -    1080 + 48 1026  ```
2049     -2021     -    1081 + 49 1027  
2050     -2022     -    1082 +@@ -89,4 +1067,4 @@ Please provide specific feedback on:
2051     -2023     -    1083 + 89 1067  
2052     -2024     -    1084 + 90 1068  ---
2053     -2025     -    1085 + 91 1069  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
2054     -2026     -    1086 + 92     -*Files processed: 1/1 | Errors: 0 | Generated: 2025-12-09T03:47:49.443Z*
2055     -2027     -    1087 +    1070 +*Files processed: 2/2 | Errors: 0 | Generated: 2025-12-09T03:51:39.497Z*
2056     -2028     -    1088 + 93 1071  
2057     -2029     -946 1089  
2058     -2030     -947 1090  ```
2059     -2031     -948 1091  
2060     -2032     -949 1092  
2061     -2033     -950     -### üìÑ `style.css`
2062     -2034     -    1093 +### üìÑ `script.js`
2063     -2035     -951 1094  
2064     -2036     -952     -**Type:** Stylesheet üé®
2065     -2037     -    1095 +**Type:** JavaScript Source File üü®
2066     -2038     -953 1096  
2067     -2039     -954 1097  ```diff
2068     -2040     -955     -@@ -88,17 +88,23 @@ body {
2069     -2041     -956     - 88  88  .btn {
2070     -2042     -957     - 89  89    padding: 8px 16px;
2071     -2043     -958     - 90  90    border: 1px solid var(--border-color);
2072     -2044     -959     - 91     -  background-color: var(--bg-primary);
2073     -2045     -960     -     91 +  background-color: color-mix(in srgb, var(--bg-primary) 80%, transparent);
2074     -2046     -961     -     92 +  backdrop-filter: blur(4px);
2075     -2047     -962     -     93 +  -webkit-backdrop-filter: blur(4px);
2076     -2048     -963     - 92  94    color: var(--text-primary);
2077     -2049     -964     - 93     -  border-radius: 6px;
2078     -2050     -965     -     95 +  border-radius: 8px; /* Softer, more modern radius */
2079     -2051     -966     - 94  96    cursor: pointer;
2080     -2052     -967     - 95  97    font-size: 14px;
2081     -2053     -968     - 96     -  transition: all 0.2s;
2082     -2054     -969     -     98 +  font-weight: 500;
2083     -2055     -970     -     99 +  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
2084     -2056     -971     -    100 +  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
2085     -2057     -972     - 97 101  }
2086     -2058     -973     - 98 102  
2087     -2059     -974     - 99 103  .btn:hover {
2088     -2060     -975     -100 104    background-color: var(--bg-tertiary);
2089     -2061     -976     -101     -  transform: translateY(-1px);
2090     -2062     -977     -    105 +  transform: translateY(-2px);
2091     -2063     -978     -    106 +  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
2092     -2064     -979     -    107 +  border-color: var(--h1-color);
2093     -2065     -980     -102 108  }
2094     -2066     -981     -103 109  
2095     -2067     -982     -104 110  .btn.active {
2096     -2068     -983     -@@ -112,6 +118,12 @@ body {
2097     -2069     -984     -112 118    display: flex;
2098     -2070     -985     -113 119    flex: 1;
2099     -2071     -986     -114 120    overflow: hidden;
2100     -2072     -987     -    121 +  animation: slideUpFade 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
2101     -2073     -988     -    122 +}
2102     -2074     -989     -    123 +
2103     -2075     -990     -    124 +@keyframes slideUpFade {
2104     -2076     -991     -    125 +  from { opacity: 0; transform: translateY(20px); }
2105     -2077     -992     -    126 +  to { opacity: 1; transform: translateY(0); }
2106     -2078     -993     -115 127  }
2107     -2079     -994     -116 128  
2108     -2080     -995     -117 129  /* ==================== EDITOR ==================== */
2109     -2081     -996     -@@ -1080,3 +1092,27 @@ body {
2110     -2082     -997     -1080 1092    border-left-color: #cf222e;
2111     -2083     -998     -1081 1093    background-color: rgba(207, 34, 46, 0.1);
2112     -2084     -999     -1082 1094  }
2113     -2085     -1000     -    1095 +/* ==================== GLASS SCROLLBARS ==================== */
2114     -2086     -1001     -    1096 +::-webkit-scrollbar {
2115     -2087     -1002     -    1097 +  width: 12px;
2116     -2088     -1003     -    1098 +  height: 12px;
2117     -2089     -1004     -    1099 +  background-color: transparent;
2118     -2090     -1005     -    1100 +}
2119     -2091     -1006     -    1101 +
2120     -2092     -1007     -    1102 +::-webkit-scrollbar-track {
2121     -2093     -1008     -    1103 +  background: transparent;
2122     -2094     -1009     -    1104 +}
2123     -2095     -1010     -    1105 +
2124     -2096     -1011     -    1106 +::-webkit-scrollbar-thumb {
2125     -2097     -1012     -    1107 +  background-color: color-mix(in srgb, var(--text-secondary) 30%, transparent);
2126     -2098     -1013     -    1108 +  border-radius: 20px;
2127     -2099     -1014     -    1109 +  border: 3px solid transparent;
2128     -2100     -1015     -    1110 +  background-clip: content-box;
2129     -2101     -1016     -    1111 +  backdrop-filter: blur(4px);
2130     -2102     -1017     -    1112 +}
2131     -2103     -1018     -    1113 +
2132     -2104     -1019     -    1114 +::-webkit-scrollbar-thumb:hover {
2133     -2105     -1020     -    1115 +  background-color: color-mix(in srgb, var(--text-secondary) 50%, transparent);
2134     -2106     -1021     -    1116 +}
2135     -2107     -1022     -    1117 +
2136     -2108     -1023     -    1118 +/* ==================== END ==================== */
2137     -2109     -1024     -1083 1119  
2138     -2110     -    1098 +@@ -193,7 +193,9 @@ function configureMarkedExtensions() {
2139     -2111     -    1099 +193 193          },
2140     -2112     -    1100 +194 194          tokenizer(src) {
2141     -2113     -    1101 +195 195            // Robust regex for LaTeX environments (tolerant to whitespace)
2142     -2114     -    1102 +196     -          const match = src.match(/^\s*(\\begin\s*\{\s*([a-zA-Z]+\*?)\s*\}\s*([\s\S]*?)\s*\\end\s*\{\s*\2\s*\})/);
2143     -2115     -    1103 +    196 +          // Capture group 1: The full environment content (including begin/end)
2144     -2116     -    1104 +    197 +          // Capture group 2: The environment name (e.g., multline)
2145     -2117     -    1105 +    198 +          const match = src.match(/^\s*(\\begin\s*\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\s*\{\2\})/);
2146     -2118     -    1106 +197 199            if (match) {
2147     -2119     -    1107 +198 200              return {
2148     -2120     -    1108 +199 201                type: 'mathEnvironment',
2149     -2121     -    1109 +200 202  
2150     -2122     -1025 1110  
2151     -2123     -1026 1111  ```
2152     -2124     -1027 1112  
2153     -2125     -@@ -1067,4 +1152,4 @@ Please provide specific feedback on:
2154     -2126     -1067 1152  
2155     -2127     -1068 1153  ---
2156     -2128     -1069 1154  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
2157     -2129     -1070     -*Files processed: 2/2 | Errors: 0 | Generated: 2025-12-09T03:51:39.497Z*
2158     -2130     -    1155 +*Files processed: 2/2 | Errors: 0 | Generated: 2025-12-09T03:56:04.680Z*
2159     -2131     -1071 1156  
2160     -     22 +@@ -15,14 +15,28 @@
2161     -     23 + 15  15      <div class="app-container">
2162     -     24 + 16  16        <!-- Toolbar -->
2163     -     25 + 17  17        <div class="toolbar">
2164     -     26 + 18     -        <div style="display: flex; align-items: center; gap: 12px;">
2165     -     27 + 19     -            <button id="sidebar-toggle-btn" class="btn-icon" title="Toggle Sidebar" aria-label="Toggle File Sidebar">
2166     -     28 + 20     -                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
2167     -     29 + 21     -                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
2168     -     30 + 22     -                    <line x1="9" y1="3" x2="9" y2="21"></line>
2169     -     31 + 23     -                </svg>
2170     -     32 + 24     -            </button>
2171     -     33 + 25     -            <h1>üìù Markdown Viewer Pro</h1>
2172     -     34 +     18 +        <div style="display: flex; align-items: center; gap: 12px">
2173     -     35 +     19 +          <button
2174     -     36 +     20 +            id="sidebar-toggle-btn"
2175     -     37 +     21 +            class="btn-icon"
2176     -     38 +     22 +            title="Toggle Sidebar"
2177     -     39 +     23 +            aria-label="Toggle File Sidebar"
2178     -     40 +     24 +          >
2179     -     41 +     25 +            <svg
2180     -     42 +     26 +              width="20"
2181     -     43 +     27 +              height="20"
2182     -     44 +     28 +              viewBox="0 0 24 24"
2183     -     45 +     29 +              fill="none"
2184     -     46 +     30 +              stroke="currentColor"
2185     -     47 +     31 +              stroke-width="2"
2186     -     48 +     32 +              stroke-linecap="round"
2187     -     49 +     33 +              stroke-linejoin="round"
2188     -     50 +     34 +            >
2189     -     51 +     35 +              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
2190     -     52 +     36 +              <line x1="9" y1="3" x2="9" y2="21"></line>
2191     -     53 +     37 +            </svg>
2192     -     54 +     38 +          </button>
2193     -     55 +     39 +          <h1>üìù Markdown Viewer Pro</h1>
2194     -     56 + 26  40          </div>
2195     -     57 + 27  41          <div class="toolbar-controls">
2196     -     58 + 28  42            <!-- Folder Browser Toggle - Always visible -->
2197     -     59 +@@ -149,7 +163,6 @@
2198     -     60 +149 163        <div class="main-content">
2199     -     61 +150 164          <!-- Floating show sidebar button (visible when sidebar is hidden) -->
2200     -     62 +151 165  
2201     -     63 +152     -
2202     -     64 +153 166          <!-- Folder Browser Sidebar (Hidden by default) -->
2203     -     65 +154 167          <div class="file-browser collapsed" id="file-browser">
2204     -     66 +155 168            <!-- Resize handle for dragging -->
2205     -     67 +@@ -169,14 +182,6 @@
2206     -     68 +169 182                >
2207     -     69 +170 183                  ‚óÄ
2208     -     70 +171 184                </button>
2209     -     71 +172     -              <button
2210     -     72 +173     -                class="btn-icon"
2211     -     73 +174     -                id="close-browser-btn"
2212     -     74 +175     -                title="Close Folder Browser"
2213     -     75 +176     -                aria-label="Close Folder Browser"
2214     -     76 +177     -              >
2215     -     77 +178     -                ‚úï
2216     -     78 +179     -              </button>
2217     -     79 +180 185              </div>
2218     -     80 +181 186            </div>
2219     -     81 +182 187  
2220     -     82 +183 188  
2221     -2132  83  
2222     -2133  84  ```
2223     -2134  85  
2224     -@@ -2138,102 +89,67 @@ AI_REVIEW.md | 2073 ++++++++++++++++++++++++++++++----------------------------
2225     -2138  89  **Type:** JavaScript Source File üü®
2226     -2139  90  
2227     -2140  91  ```diff
2228     -2141     -@@ -193,14 +193,21 @@ function configureMarkedExtensions() {
2229     -2142     -193 193          },
2230     -2143     -194 194          tokenizer(src) {
2231     -2144     -195 195            // Robust regex for LaTeX environments (tolerant to whitespace)
2232     -2145     -196     -          // Capture group 1: The full environment content (including begin/end)
2233     -2146     -197     -          // Capture group 2: The environment name (e.g., multline)
2234     -2147     -    196 +          // Capture group 1: Full content, Group 2: Env Name, Group 3: Inner Content
2235     -2148     -198 197            const match = src.match(/^\s*(\\begin\s*\{([a-zA-Z]+\*?)\}([\s\S]*?)\\end\s*\{\2\})/);
2236     -2149     -199 198            if (match) {
2237     -2150     -    199 +            let text = match[1];
2238     -2151     -    200 +            const env = match[2];
2239     -2152     -    201 +            // Shim 'multline' (not supported by KaTeX core) to 'gathered'
2240     -2153     -    202 +            if (env === 'multline' || env === 'multline*') {
2241     -2154     -    203 +              console.warn('Shimming multline to gathered for KaTeX compatibility');
2242     -2155     -    204 +              text = '\\begin{gathered}' + match[3] + '\\end{gathered}';
2243     -2156     -    205 +            }
2244     -2157     -    206 +
2245     -2158     -200 207              return {
2246     -2159     -201 208                type: 'mathEnvironment',
2247     -2160     -202 209                raw: match[0],
2248     -2161     -203     -              text: match[1],
2249     -2162     -    210 +              text: text,
2250     -2163     -204 211              };
2251     -2164     -205 212            }
2252     -2165     -206 213          },
2253     -2166     -207 214  
2254     -2167     -
2255     -2168     -```
2256     -2169     -
2257     -2170     -
2258     -2171     -### üìÑ `style.css`
2259     -2172     -
2260     -2173     -**Type:** Stylesheet üé®
2261     -2174     -
2262     -2175     -```diff
2263     -2176     -@@ -842,14 +842,17 @@ body {
2264     -2177     -842 842    width: 280px;
2265     -2178     -843 843    min-width: 100px;
2266     -2179     -844 844    max-width: 600px;
2267     -2180     -845     -  background-color: var(--bg-secondary);
2268     -2181     -846     -  border-right: 2px solid var(--border-color);
2269     -2182     -    845 +  background-color: color-mix(in srgb, var(--bg-secondary) 85%, transparent);
2270     -2183     -    846 +  backdrop-filter: blur(12px);
2271     -2184     -    847 +  -webkit-backdrop-filter: blur(12px);
2272     -2185     -    848 +  border-right: 1px solid var(--border-color);
2273     -2186     -847 849    display: flex;
2274     -2187     -848 850    flex-direction: column;
2275     -2188     -849 851    overflow: hidden;
2276     -2189     -850 852    flex-shrink: 0;
2277     -2190     -851 853    position: relative;
2278     -2191     -852     -  transition: width 0.1s ease-out;
2279     -2192     -    854 +  transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
2280     -2193     -    855 +  box-shadow: 4px 0 12px rgba(0, 0, 0, 0.05); /* Subtle depth */
2281     -2194     -853 856  }
2282     -2195     -854 857  
2283     -2196     -855 858  .file-browser.resizing {
2284     -2197     -@@ -938,28 +941,35 @@ body {
2285     -2198     -938 941    padding: 4px 0;
2286     -2199     -939 942  }
2287     -2200     -940 943  
2288     -2201     -    944 +/* Tree Items */
2289     -2202     -941 945  /* Tree Items */
2290     -2203     -942 946  .tree-item {
2291     -2204     -943 947    padding: 8px 12px;
2292     -2205     -    948 +  margin: 2px 6px; /* Floating items */
2293     -2206     -    949 +  border-radius: 6px;
2294     -2207     -944 950    cursor: pointer;
2295     -2208     -945 951    display: flex;
2296     -2209     -946 952    align-items: center;
2297     -2210     -947 953    gap: 8px;
2298     -2211     -948     -  transition: background-color 0.15s ease;
2299     -2212     -    954 +  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
2300     -2213     -949 955    user-select: none;
2301     -2214     -950 956    font-size: 14px;
2302     -2215     -951 957    border-left: 3px solid transparent;
2303     -2216     -952 958  }
2304     -2217     -953 959  
2305     -2218     -954 960  .tree-item:hover {
2306     -2219     -955     -  background-color: var(--bg-tertiary);
2307     -2220     -    961 +  background-color: color-mix(in srgb, var(--h1-color) 10%, transparent);
2308     -2221     -    962 +  transform: translateX(4px);
2309     -2222     -    963 +  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
2310     -2223     -956 964  }
2311     -2224     -957 965  
2312     -2225     -958 966  .tree-item.active {
2313     -2226     -959 967    background-color: var(--h1-color);
2314     -2227     -960 968    color: white;
2315     -2228     -961     -  border-left-color: var(--h2-color);
2316     -2229     -    969 +  border-left-color: rgba(255,255,255,0.5);
2317     -2230     -962 970    font-weight: 600;
2318     -2231     -    971 +  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
2319     -2232     -    972 +  transform: scale(1.02);
2320     -2233     -963 973  }
2321     -2234     -964 974  
2322     -2235     -965 975  .tree-item.folder {
2323     -2236     -966 976  
2324     -     92 +@@ -79,10 +79,9 @@ function initializeApp() {
2325     -     93 + 79  79  function debounce(func, wait) {
2326     -     94 + 80  80    let timeout;
2327     -     95 + 81  81    return function truncated(...args) {
2328     -     96 + 82     -    const context = this;
2329     -     97 + 83  82      clearTimeout(timeout);
2330     -     98 + 84  83      timeout = setTimeout(() => {
2331     -     99 + 85     -      func.apply(context, args);
2332     -    100 +     84 +      func.apply(this, args);
2333     -    101 + 86  85      }, wait);
2334     -    102 + 87  86    };
2335     -    103 + 88  87  }
2336     -    104 +@@ -1178,12 +1177,11 @@ graph TD
2337     -    105 +1178 1177  
2338     -    106 +1179 1178    // ==================== FOLDER BROWSER FUNCTIONALITY ====================
2339     -    107 +1180 1179  
2340     -    108 +1181     -  // Folder browser DOM elements
2341     -    109 +1182 1180    // Folder browser DOM elements
2342     -    110 +1183 1181    const fileBrowser = document.getElementById('file-browser');
2343     -    111 +1184 1182    const openFolderBtn = document.getElementById('open-folder-btn');
2344     -    112 +1185     -  const sidebarToggleBtn = document.getElementById('sidebar-toggle-btn');
2345     -    113 +1186     -  const closeBrowserBtn = document.getElementById('close-browser-btn');
2346     -    114 +    1183 +  const sidebarToggleBtn = document.getElementById('sidebar-toggle-btn'); // Toolbar button
2347     -    115 +    1184 +  const toggleSidebarBtn = document.getElementById('toggle-sidebar-btn'); // Sidebar header button
2348     -    116 +1187 1185    const resizeHandle = document.getElementById('resize-handle');
2349     -    117 +1188 1186    const fileTree = document.getElementById('file-tree');
2350     -    118 +1189 1187    const currentFolderNameEl = document.getElementById('current-folder-name');
2351     -    119 +@@ -1257,8 +1255,8 @@ graph TD
2352     -    120 +1257 1255      if (!folderBrowserService.isSupported()) {
2353     -    121 +1258 1256        alert(
2354     -    122 +1259 1257          'Folder browsing requires File System Access API.\n\n' +
2355     -    123 +1260     -        'Please use Chrome 86+ or Edge 86+.\n\n' +
2356     -    124 +1261     -        'Firefox and Safari are not currently supported.'
2357     -    125 +    1258 +          'Please use Chrome 86+ or Edge 86+.\n\n' +
2358     -    126 +    1259 +          'Firefox and Safari are not currently supported.'
2359     -    127 +1262 1260        );
2360     -    128 +1263 1261        return;
2361     -    129 +1264 1262      }
2362     -    130 +@@ -1298,18 +1296,13 @@ graph TD
2363     -    131 +1298 1296      storageManager.set('sidebarCollapsed', isCollapsed);
2364     -    132 +1299 1297    }
2365     -    133 +1300 1298  
2366     -    134 +1301     -  // Unified Toggle Button
2367     -    135 +    1299 +  // Attach event listeners to BOTH toggle buttons
2368     -    136 +1302 1300    if (sidebarToggleBtn) {
2369     -    137 +1303 1301      sidebarToggleBtn.addEventListener('click', toggleSidebar);
2370     -    138 +1304 1302    }
2371     -    139 +1305 1303  
2372     -    140 +1306     -  // Handle Close Button inside sidebar
2373     -    141 +1307     -  if (closeBrowserBtn) {
2374     -    142 +1308     -    closeBrowserBtn.addEventListener('click', () => {
2375     -    143 +1309     -      // Just collapse it
2376     -    144 +1310     -      fileBrowser.classList.add('collapsed');
2377     -    145 +1311     -      storageManager.set('sidebarCollapsed', 'true');
2378     -    146 +1312     -    });
2379     -    147 +    1304 +  if (toggleSidebarBtn) {
2380     -    148 +    1305 +    toggleSidebarBtn.addEventListener('click', toggleSidebar);
2381     -    149 +1313 1306    }
2382     -    150 +1314 1307  
2383     -    151 +1315 1308    // Render file tree
2384     -    152 +1316 1309  
2385     -2237 153  
2386     -2238 154  ```
2387     -2239 155  
2388     -@@ -2279,4 +195,4 @@ Please provide specific feedback on:
2389     -2279 195  
2390     -2280 196  ---
2391     -2281 197  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
2392     -2282     -*Files processed: 3/3 | Errors: 0 | Generated: 2025-12-09T03:59:52.431Z*
2393     -    198 +*Files processed: 2/2 | Errors: 0 | Generated: 2025-12-09T07:39:37.871Z*
2394     -2283 199  
     26 +@@ -0,0 +1,52 @@
     27 +      1 +# Code & Architecture Review: Export Services
     28 +      2 +
     29 +      3 +## 1. Code Review
     30 +      4 +
     31 +      5 +### PDFService (PDF Export)
     32 +      6 +- **Status:** ‚ö†Ô∏è Resolved Rendering Issue
     33 +      7 +- **Issue:** The `html2pdf` library (specifically `html2canvas`) crashed when parsing modern CSS `color-mix()` functions used in the UI (Glassmorphism).
     34 +      8 +- **Fix:** Refactored `style.css` to use solid color variables (`var(--bg-secondary)`) instead of `color-mix()` for elements involved in the export context (Buttons).
     35 +      9 +- **Quality:**
     36 +     10 +  - ‚úÖ Clean separation of config (`buildHtml2PdfConfig`) and execution.
     37 +     11 +  - ‚úÖ Robust validation of user inputs (margins, page size).
     38 +     12 +  - ‚ö†Ô∏è Dependency on global `html2pdf` (should be modular, but acceptable for this architecture).
     39 +     13 +
     40 +     14 +### HTMLService (HTML Export)
     41 +     15 +- **Status:** ‚úÖ NEW Implementation
     42 +     16 +- **Issue:** Previous implementation was monolithic (inside `script.js`) and produced broken HTML (missing math styles, missing syntax highlighting dependencies).
     43 +     17 +- **Fix:** Created dedicated `HTMLService.js`.
     44 +     18 +  - Injects `katex.min.css` (CDN) for Math support.
     45 +     19 +  - Injects `prism-tomorrow.min.css` (CDN) for Code highlighting.
     46 +     20 +  - Injects Theme CSS properly.
     47 +     21 +- **Quality:**
     48 +     22 +  - ‚úÖ Service-based architecture.
     49 +     23 +  - ‚úÖ Generates standalone HTML blobs.
     50 +     24 +
     51 +     25 +## 2. Architectural Review
     52 +     26 +
     53 +     27 +### Service Layer
     54 +     28 +- **Pattern:** The application uses a "Service Class" pattern (`PDFService`, `MermaidService`, `HTMLService`) instantiated in the main controller (`script.js`).
     55 +     29 +- **Verdict:** Good. This keeps logic out of the global scope and allows for easier testing/mocking.
     56 +     30 +- **Recommendation:** `script.js` acts as a text-heavy "God Controller". Future refactoring should split `script.js` into `EditorController`, `PreviewController`, and `ToolbarController`.
     57 +     31 +
     58 +     32 +### CSS / Styling
     59 +     33 +- **Architecture:** CSS Variables (`:root`) used for Theming.
     60 +     34 +- **Issue:** Modern CSS (`color-mix`) caused compatibility issues with legacy tools (`html2canvas`).
     61 +     35 +- **Lesson:** When building "Export to PDF" features that rely on DOM parsing, avoid bleeding-edge CSS in exportable elements.
     62 +     36 +
     63 +     37 +## 3. UI/UX Review
     64 +     38 +
     65 +     39 +### PDF Export
     66 +     40 +- **Experience:** ‚≠êÔ∏è Premium.
     67 +     41 +- **Features:** Live Preview, Custom Margins, Page Size, Font Scale.
     68 +     42 +- **Feedback:** The glassmorphism and animations in the modal are visually pleasing.
     69 +     43 +
     70 +     44 +### HTML Export
     71 +     45 +- **Experience:** üòê Functional.
     72 +     46 +- **Features:** "Click to Download".
     73 +     47 +- **Feedback:** Lacks a "Preview" or configuration (e.g., "Exclude CSS?").
     74 +     48 +- **Improvement:** Could add a simple modal to choose "Self-contained (Base64 images)" vs "Linked".
     75 +     49 +
     76 +     50 +## Summary of Findings
     77 +     51 +- **Critical Fix:** `color-mix` CSS removed to unblock PDF generation.
     78 +     52 +- **New Feature:** `HTMLService` ensures exported files render Math and Code correctly.
     79 +     53  
     80 +
     81 +```
     82 +
     83 +
     84 +### üìÑ `script.js`
     85 +
     86 +**Type:** JavaScript Source File üü®
     87 +
     88 +```diff
     89 +@@ -16,6 +16,7 @@ import Prism from 'prismjs';
     90 + 16  16  import { StorageManager } from './src/js/core/StorageManager.js';
     91 + 17  17  import { ThemeManager } from './src/js/core/ThemeManager.js';
     92 + 18  18  import { FolderBrowserService } from './src/js/services/FolderBrowserService.js';
     93 +     19 +import { HTMLService } from './src/js/services/HTMLService.js';
     94 + 19  20  import { MermaidService } from './src/js/services/MermaidService.js';
     95 + 20  21  import { PDFService } from './src/js/services/PDFService.js';
     96 + 21  22  import { PrismService } from './src/js/services/PrismService.js';
     97 +@@ -34,6 +35,7 @@ const themeManager = new ThemeManager(storageManager);
     98 + 34  35  const mermaidService = new MermaidService();
     99 + 35  36  const prismService = new PrismService();
    100 + 36  37  const pdfService = new PDFService();
    101 +     38 +const htmlService = new HTMLService();
    102 + 37  39  const folderBrowserService = new FolderBrowserService(storageManager);
    103 + 38  40  
    104 + 39  41  // Folder browser state
    105 +@@ -616,99 +618,25 @@ graph TD
    106 +616 618    }
    107 +617 619  
    108 +618 620    // Export to HTML
    109 +619     -  function exportHTML() {
    110 +620     -    const currentTheme = themeSelector.value;
    111 +621     -    let themeCSS = '';
    112 +    621 +  async function exportHTML() {
    113 +    622 +    const originalText = exportHtmlBtn.textContent;
    114 +    623 +    exportHtmlBtn.textContent = '‚è≥ Exporting...';
    115 +    624 +    exportHtmlBtn.disabled = true;
    116 +622 625  
    117 +623     -    if (currentTheme === 'custom') {
    118 +624     -      const customTheme = storageManager.getJSON('customTheme');
    119 +625     -      if (customTheme) {
    120 +626     -        const theme = customTheme;
    121 +627     -        themeCSS = ':root {\n';
    122 +628     -        Object.entries(theme).forEach(([property, value]) => {
    123 +629     -          themeCSS += `    ${property}: ${value};\n`;
    124 +630     -        });
    125 +631     -        themeCSS += '}';
    126 +632     -      }
    127 +633     -    } else {
    128 +634     -      // Fetch theme CSS
    129 +635     -      fetch(`themes/${currentTheme}.css`)
    130 +636     -        .then(response => response.text())
    131 +637     -        .then(css => {
    132 +638     -          themeCSS = css;
    133 +639     -          generateHTML();
    134 +640     -        })
    135 +641     -        .catch(err => {
    136 +642     -          console.error('Error loading theme:', err);
    137 +643     -          generateHTML();
    138 +644     -        });
    139 +645     -      return;
    140 +646     -    }
    141 +    626 +    try {
    142 +    627 +      const themeName = themeSelector.value;
    143 +    628 +      const customTheme = themeName === 'custom' ? storageManager.getJSON('customTheme') : null;
    144 +647 629  
    145 +648     -    generateHTML();
    146 +    630 +      const blob = await htmlService.generateHTML(previewContainer.innerHTML, themeName, customTheme);
    147 +    631 +      htmlService.downloadHTML(blob, 'markdown-export.html');
    148 +649 632  
    149 +650     -    function generateHTML() {
    150 +651     -      const html = `<!DOCTYPE html>
    151 +652     -<html>
    152 +653     -<head>
    153 +654     -    <meta charset="UTF-8">
    154 +655     -    <title>Exported Markdown</title>
    155 +656     -    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    156 +657     -    <style>
    157 +658     -        body {
    158 +659     -            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    159 +660     -            max-width: 800px;
    160 +661     -            margin: 0 auto;
    161 +662     -            padding: 40px 20px;
    162 +663     -            line-height: 1.7;
    163 +664     -        }
    164 +665     -
    165 +666     -        ${themeCSS}
    166 +667     -
    167 +668     -        body {
    168 +669     -            background-color: var(--bg-primary);
    169 +670     -            color: var(--text-primary);
    170 +671     -        }
    171 +672     -
    172 +673     -        h1 { color: var(--h1-color); font-size: 2.5em; margin: 0.67em 0; border-bottom: 2px solid var(--h1-color); padding-bottom: 0.3em; }
    173 +674     -        h2 { color: var(--h2-color); font-size: 2em; margin: 0.75em 0 0.5em 0; }
    174 +675     -        h3 { color: var(--h3-color); font-size: 1.5em; margin: 0.83em 0; }
    175 +676     -        h4 { color: var(--h4-color); font-size: 1.25em; margin: 1em 0; }
    176 +677     -        h5 { color: var(--h5-color); font-size: 1em; margin: 1.33em 0; }
    177 +678     -        h6 { color: var(--h6-color); font-size: 0.875em; margin: 1.67em 0; }
    178 +679     -
    179 +680     -        a { color: var(--link-color); text-decoration: none; }
    180 +681     -        a:hover { color: var(--link-hover); text-decoration: underline; }
    181 +682     -
    182 +683     -        strong { color: var(--bold-color); font-weight: 700; }
    183 +684     -        em { color: var(--italic-color); font-style: italic; }
    184 +685     -
    185 +686     -        code { background-color: var(--code-bg); color: var(--code-text); padding: 2px 6px; border-radius: 4px; font-family: 'Consolas', 'Monaco', monospace; font-size: 0.9em; }
    186 +687     -        pre { background-color: var(--code-block-bg); border-radius: 8px; padding: 16px; overflow-x: auto; margin: 1.5em 0; }
    187 +688     -        pre code { background-color: transparent; color: inherit; padding: 0; }
    188 +689     -
    189 +690     -        blockquote { border-left: 4px solid var(--blockquote-border); background-color: var(--blockquote-bg); padding: 12px 20px; margin: 1.5em 0; font-style: italic; }
    190 +691     -
    191 +692     -        table { border-collapse: collapse; width: 100%; margin: 1.5em 0; }
    192 +693     -        th { background-color: var(--table-header-bg); padding: 12px; text-align: left; border: 1px solid var(--table-border); font-weight: 600; }
    193 +694     -        td { padding: 10px 12px; border: 1px solid var(--table-border); }
    194 +695     -
    195 +696     -        hr { border: none; border-top: 2px solid var(--border-color); margin: 2em 0; }
    196 +697     -        img { max-width: 100%; height: auto; border-radius: 8px; margin: 1em 0; }
    197 +698     -    </style>
    198 +699     -</head>
    199 +700     -<body>
    200 +701     -    ${DOMPurify.sanitize(preview.innerHTML)}
    201 +702     -</body>
    202 +703     -</html>`;
    203 +704     -
    204 +705     -      const blob = new Blob([html], { type: 'text/html' });
    205 +706     -      const url = URL.createObjectURL(blob);
    206 +707     -      const a = document.createElement('a');
    207 +708     -      a.href = url;
    208 +709     -      a.download = 'markdown-export.html';
    209 +710     -      a.click();
    210 +711     -      URL.revokeObjectURL(url);
    211 +    633 +      console.log('‚úÖ HTML Export successful');
    212 +    634 +    } catch (error) {
    213 +    635 +      console.error('HTML Export failed:', error);
    214 +    636 +      alert('Failed to export HTML: ' + error.message);
    215 +    637 +    } finally {
    216 +    638 +      exportHtmlBtn.textContent = originalText;
    217 +    639 +      exportHtmlBtn.disabled = false;
    218 +712 640      }
    219 +713 641    }
    220 +714 642  
    221 +@@ -1255,8 +1183,8 @@ graph TD
    222 +1255 1183      if (!folderBrowserService.isSupported()) {
    223 +1256 1184        alert(
    224 +1257 1185          'Folder browsing requires File System Access API.\n\n' +
    225 +1258     -          'Please use Chrome 86+ or Edge 86+.\n\n' +
    226 +1259     -          'Firefox and Safari are not currently supported.'
    227 +    1186 +        'Please use Chrome 86+ or Edge 86+.\n\n' +
    228 +    1187 +        'Firefox and Safari are not currently supported.'
    229 +1260 1188        );
    230 +1261 1189        return;
    231 +1262 1190      }
    232 +1263 1191  
    233 +
    234 +```
    235 +
    236 +
    237 +### ‚ú® `src/js/services/HTMLService.js` **[ADDED]**
    238 +
    239 +**Status:** ‚úÖ **NEW FILE** - This file has been newly created
    240 +
    241 +**Type:** JavaScript Source File üü®
    242 +
    243 +```diff
    244 +@@ -0,0 +1,119 @@
    245 +      1 +/**
    246 +      2 + * HTMLService - HTML Export Service
    247 +      3 + * Handles generation of standalone HTML files with embedded themes and necessary CDNs.
    248 +      4 + */
    249 +      5 +
    250 +      6 +export class HTMLService {
    251 +      7 +  /**
    252 +      8 +   * Generate complete HTML document
    253 +      9 +   *
    254 +     10 +   * @param {string} contentHtml - The inner HTML of the preview container
    255 +     11 +   * @param {string} themeName - Current theme name
    256 +     12 +   * @param {Object} customTheme - Custom theme object (optional)
    257 +     13 +   * @returns {Promise<Blob>} HTML Blob
    258 +     14 +   */
    259 +     15 +  async generateHTML(contentHtml, themeName, customTheme = null) {
    260 +     16 +    const themeCSS = await this.getThemeCSS(themeName, customTheme);
    261 +     17 +
    262 +     18 +    const html = `<!DOCTYPE html>
    263 +     19 +<html>
    264 +     20 +<head>
    265 +     21 +    <meta charset="UTF-8">
    266 +     22 +    <title>Exported Markdown</title>
    267 +     23 +    <!-- Syntax Highlighting -->
    268 +     24 +    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    269 +     25 +    <!-- Math Rendering (KaTeX) -->
    270 +     26 +    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    271 +     27 +    <!-- Mermaid Styles (Basic) -->
    272 +     28 +    <style>
    273 +     29 +      .mermaid { display: flex; justify-content: center; margin: 1em 0; }
    274 +     30 +    </style>
    275 +     31 +    <style>
    276 +     32 +        body {
    277 +     33 +            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    278 +     34 +            max-width: 800px;
    279 +     35 +            margin: 0 auto;
    280 +     36 +            padding: 40px 20px;
    281 +     37 +            line-height: 1.7;
    282 +     38 +        }
    283 +     39 +
    284 +     40 +        ${themeCSS}
    285 +     41 +
    286 +     42 +        body {
    287 +     43 +            background-color: var(--bg-primary);
    288 +     44 +            color: var(--text-primary);
    289 +     45 +        }
    290 +     46 +
    291 +     47 +        /* Base Typography */
    292 +     48 +        h1 { color: var(--h1-color); font-size: 2.5em; margin: 0.67em 0; border-bottom: 2px solid var(--h1-color); padding-bottom: 0.3em; }
    293 +     49 +        h2 { color: var(--h2-color); font-size: 2em; margin: 0.75em 0 0.5em 0; }
    294 +     50 +        h3 { color: var(--h3-color); font-size: 1.5em; margin: 0.83em 0; }
    295 +     51 +        h4 { color: var(--h4-color); font-size: 1.25em; margin: 1em 0; }
    296 +     52 +        h5 { color: var(--h5-color); font-size: 1em; margin: 1.33em 0; }
    297 +     53 +        h6 { color: var(--h6-color); font-size: 0.875em; margin: 1.67em 0; }
    298 +     54 +
    299 +     55 +        a { color: var(--link-color); text-decoration: none; }
    300 +     56 +        a:hover { color: var(--link-hover); text-decoration: underline; }
    301 +     57 +
    302 +     58 +        strong { color: var(--bold-color); font-weight: 700; }
    303 +     59 +        em { color: var(--italic-color); font-style: italic; }
    304 +     60 +
    305 +     61 +        code { background-color: var(--code-bg); color: var(--code-text); padding: 2px 6px; border-radius: 4px; font-family: 'Consolas', 'Monaco', monospace; font-size: 0.9em; }
    306 +     62 +        pre { background-color: var(--code-block-bg); border-radius: 8px; padding: 16px; overflow-x: auto; margin: 1.5em 0; }
    307 +     63 +        pre code { background-color: transparent; color: inherit; padding: 0; }
    308 +     64 +
    309 +     65 +        blockquote { border-left: 4px solid var(--blockquote-border); background-color: var(--blockquote-bg); padding: 12px 20px; margin: 1.5em 0; font-style: italic; }
    310 +     66 +
    311 +     67 +        table { border-collapse: collapse; width: 100%; margin: 1.5em 0; }
    312 +     68 +        th { background-color: var(--table-header-bg); padding: 12px; text-align: left; border: 1px solid var(--table-border); font-weight: 600; }
    313 +     69 +        td { padding: 10px 12px; border: 1px solid var(--table-border); }
    314 +     70 +
    315 +     71 +        hr { border: none; border-top: 2px solid var(--border-color); margin: 2em 0; }
    316 +     72 +        img { max-width: 100%; height: auto; border-radius: 8px; margin: 1em 0; }
    317 +     73 +
    318 +     74 +        /* Lists */
    319 +     75 +        ul, ol { padding-left: 2em; margin: 1em 0; }
    320 +     76 +        li { margin: 0.5em 0; }
    321 +     77 +    </style>
    322 +     78 +</head>
    323 +     79 +<body>
    324 +     80 +    ${contentHtml}
    325 +     81 +</body>
    326 +     82 +</html>`;
    327 +     83 +
    328 +     84 +    return new Blob([html], { type: 'text/html' });
    329 +     85 +  }
    330 +     86 +
    331 +     87 +  /**
    332 +     88 +   * Helper to retrieve CSS content
    333 +     89 +   * @private
    334 +     90 +   */
    335 +     91 +  async getThemeCSS(themeName, customTheme) {
    336 +     92 +    if (themeName === 'custom' && customTheme) {
    337 +     93 +      let css = ':root {\n';
    338 +     94 +      Object.entries(customTheme).forEach(([prop, val]) => {
    339 +     95 +        css += `    ${prop}: ${val};\n`;
    340 +     96 +      });
    341 +     97 +      css += '}';
    342 +     98 +      return css;
    343 +     99 +    }
    344 +    100 +
    345 +    101 +    try {
    346 +    102 +      const response = await fetch(`themes/${themeName}.css`);
    347 +    103 +      if (!response.ok) throw new Error('Theme load failed');
    348 +    104 +      return await response.text();
    349 +    105 +    } catch (e) {
    350 +    106 +      console.error('Failed to load theme CSS', e);
    351 +    107 +      return ''; // Fallback
    352 +    108 +    }
    353 +    109 +  }
    354 +    110 +
    355 +    111 +  downloadHTML(blob, filename = 'exported-markdown.html') {
    356 +    112 +    const url = URL.createObjectURL(blob);
    357 +    113 +    const a = document.createElement('a');
    358 +    114 +    a.href = url;
    359 +    115 +    a.download = filename;
    360 +    116 +    a.click();
    361 +    117 +    URL.revokeObjectURL(url);
    362 +    118 +  }
    363 +    119 +}
    364 +    120  
    365 +
    366 +```
    367 +
    368 +
    369 +### üìÑ `style.css`
    370 +
    371 +**Type:** Stylesheet üé®
    372 +
    373 +```diff
    374 +@@ -24,7 +24,7 @@ body {
    375 + 24  24  
    376 + 25  25  /* ==================== TOOLBAR ==================== */
    377 + 26  26  .toolbar {
    378 + 27     -  background-color: color-mix(in srgb, var(--bg-secondary) 85%, transparent);
    379 +     27 +  background-color: var(--bg-secondary);
    380 + 28  28    backdrop-filter: blur(12px);
    381 + 29  29    -webkit-backdrop-filter: blur(12px);
    382 + 30  30    border-bottom: 1px solid var(--border-color);
    383 +@@ -88,7 +88,7 @@ body {
    384 + 88  88  .btn {
    385 + 89  89    padding: 8px 16px;
    386 + 90  90    border: 1px solid var(--border-color);
    387 + 91     -  background-color: color-mix(in srgb, var(--bg-primary) 80%, transparent);
    388 +     91 +  background-color: var(--bg-primary);
    389 + 92  92    backdrop-filter: blur(4px);
    390 + 93  93    -webkit-backdrop-filter: blur(4px);
    391 + 94  94    color: var(--text-primary);
    392 +@@ -503,7 +503,7 @@ body {
    393 +503 503  }
    394 +504 504  
    395 +505 505  .modal-content {
    396 +506     -  background-color: color-mix(in srgb, var(--bg-primary) 95%, transparent);
    397 +    506 +  background-color: var(--bg-primary);
    398 +507 507    backdrop-filter: blur(16px);
    399 +508 508    -webkit-backdrop-filter: blur(16px);
    400 +509 509    border-radius: 16px;
    401 +@@ -823,7 +823,7 @@ body {
    402 +823 823    width: 280px;
    403 +824 824    min-width: 100px;
    404 +825 825    max-width: 600px;
    405 +826     -  background-color: color-mix(in srgb, var(--bg-secondary) 85%, transparent);
    406 +    826 +  background-color: var(--bg-secondary);
    407 +827 827    backdrop-filter: blur(12px);
    408 +828 828    -webkit-backdrop-filter: blur(12px);
    409 +829 829    border-right: 1px solid var(--border-color);
    410 +@@ -948,7 +948,7 @@ body {
    411 +948 948  }
    412 +949 949  
    413 +950 950  .tree-item:hover {
    414 +951     -  background-color: color-mix(in srgb, var(--h1-color) 10%, transparent);
    415 +    951 +  background-color: var(--bg-tertiary);
    416 +952 952    transform: translateX(4px);
    417 +953 953    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    418 +954 954  }
    419 +@@ -1104,7 +1104,7 @@ body {
    420 +1104 1104  }
    421 +1105 1105  
    422 +1106 1106  ::-webkit-scrollbar-thumb {
    423 +1107     -  background-color: color-mix(in srgb, var(--text-secondary) 30%, transparent);
    424 +    1107 +  background-color: var(--text-secondary);
    425 +1108 1108    border-radius: 20px;
    426 +1109 1109    border: 3px solid transparent;
    427 +1110 1110    background-clip: content-box;
    428 +@@ -1112,7 +1112,7 @@ body {
    429 +1112 1112  }
    430 +1113 1113  
    431 +1114 1114  ::-webkit-scrollbar-thumb:hover {
    432 +1115     -  background-color: color-mix(in srgb, var(--text-secondary) 50%, transparent);
    433 +    1115 +  background-color: var(--text-secondary);
    434 +1116 1116  }
    435 +1117 1117  
    436 +1118 1118  /* ==================== END ==================== */
    437 +1119 1119  
2395 438  
2396 439  ```
2397 440  
@@ -2437,4 +480,4 @@ Please provide specific feedback on:
2437 480  
2438 481  ---
2439 482  *Generated by AI Visual Code Review v2.0 - Unified Export Script*
2440     -*Files processed: 1/1 | Errors: 0 | Generated: 2025-12-09T07:45:27.917Z*
    483 +*Files processed: 4/4 | Errors: 0 | Generated: 2025-12-09T13:33:47.856Z*
2441 484  

```


### ‚ú® `CODE_REVIEW_AND_FINDINGS.md` **[ADDED]**

**Status:** ‚úÖ **NEW FILE** - This file has been newly created

**Type:** Documentation üìñ

```diff
@@ -0,0 +1,52 @@
      1 +# Code & Architecture Review: Export Services
      2 +
      3 +## 1. Code Review
      4 +
      5 +### PDFService (PDF Export)
      6 +- **Status:** ‚ö†Ô∏è Resolved Rendering Issue
      7 +- **Issue:** The `html2pdf` library (specifically `html2canvas`) crashed when parsing modern CSS `color-mix()` functions used in the UI (Glassmorphism).
      8 +- **Fix:** Refactored `style.css` to use solid color variables (`var(--bg-secondary)`) instead of `color-mix()` for elements involved in the export context (Buttons).
      9 +- **Quality:**
     10 +  - ‚úÖ Clean separation of config (`buildHtml2PdfConfig`) and execution.
     11 +  - ‚úÖ Robust validation of user inputs (margins, page size).
     12 +  - ‚ö†Ô∏è Dependency on global `html2pdf` (should be modular, but acceptable for this architecture).
     13 +
     14 +### HTMLService (HTML Export)
     15 +- **Status:** ‚úÖ NEW Implementation
     16 +- **Issue:** Previous implementation was monolithic (inside `script.js`) and produced broken HTML (missing math styles, missing syntax highlighting dependencies).
     17 +- **Fix:** Created dedicated `HTMLService.js`.
     18 +  - Injects `katex.min.css` (CDN) for Math support.
     19 +  - Injects `prism-tomorrow.min.css` (CDN) for Code highlighting.
     20 +  - Injects Theme CSS properly.
     21 +- **Quality:**
     22 +  - ‚úÖ Service-based architecture.
     23 +  - ‚úÖ Generates standalone HTML blobs.
     24 +
     25 +## 2. Architectural Review
     26 +
     27 +### Service Layer
     28 +- **Pattern:** The application uses a "Service Class" pattern (`PDFService`, `MermaidService`, `HTMLService`) instantiated in the main controller (`script.js`).
     29 +- **Verdict:** Good. This keeps logic out of the global scope and allows for easier testing/mocking.
     30 +- **Recommendation:** `script.js` acts as a text-heavy "God Controller". Future refactoring should split `script.js` into `EditorController`, `PreviewController`, and `ToolbarController`.
     31 +
     32 +### CSS / Styling
     33 +- **Architecture:** CSS Variables (`:root`) used for Theming.
     34 +- **Issue:** Modern CSS (`color-mix`) caused compatibility issues with legacy tools (`html2canvas`).
     35 +- **Lesson:** When building "Export to PDF" features that rely on DOM parsing, avoid bleeding-edge CSS in exportable elements.
     36 +
     37 +## 3. UI/UX Review
     38 +
     39 +### PDF Export
     40 +- **Experience:** ‚≠êÔ∏è Premium.
     41 +- **Features:** Live Preview, Custom Margins, Page Size, Font Scale.
     42 +- **Feedback:** The glassmorphism and animations in the modal are visually pleasing.
     43 +
     44 +### HTML Export
     45 +- **Experience:** üòê Functional.
     46 +- **Features:** "Click to Download".
     47 +- **Feedback:** Lacks a "Preview" or configuration (e.g., "Exclude CSS?").
     48 +- **Improvement:** Could add a simple modal to choose "Self-contained (Base64 images)" vs "Linked".
     49 +
     50 +## Summary of Findings
     51 +- **Critical Fix:** `color-mix` CSS removed to unblock PDF generation.
     52 +- **New Feature:** `HTMLService` ensures exported files render Math and Code correctly.
     53  

```


### ‚ú® `SERVICE_AUDIT.md` **[ADDED]**

**Status:** ‚úÖ **NEW FILE** - This file has been newly created

**Type:** Documentation üìñ

```diff
@@ -0,0 +1,55 @@
      1 +# Service Code Audit & Verification
      2 +Date: 2025-12-09
      3 +Reviewer: Antigravity Assistant
      4 +
      5 +## Scope
      6 +Line-by-line review of `src/js/services/PDFService.js` and `src/js/services/HTMLService.js` to address export crashes and content pollution.
      7 +
      8 +## 1. PDFService.js Audit
      9 +
     10 +### Initialization & Validation
     11 +- **Lines 20-39:** Constructor & Default Config.
     12 +  - ‚úÖ Defaults are safe (A4, Portrait, 0.5in margins).
     13 +- **Lines 57-91:** `validateConfig`.
     14 +  - ‚ö†Ô∏è Found weakness: Margins validation acceptable strings but logic downstream required numbers.
     15 +  - ‚úÖ **FIXED:** Updated validation/sanitization in `buildHtml2PdfConfig` to handle types rigidly.
     16 +
     17 +### Content Preparation
     18 +- **Lines 101-144:** `prepareContent`.
     19 +  - ‚úÖ Logic Clones content node.
     20 +  - ‚úÖ Wraps in styling container (fixes `color-mix` issue by isolation).
     21 +  - ‚úÖ Appends Footer (Created in previous step).
     22 +  - üîç **Note:** Relies on clean input element. If input has garbage, output has garbage. Fixed caller in `script.js`.
     23 +
     24 +### Configuration Building (Critical Path)
     25 +- **Lines 153-177:** `buildHtml2PdfConfig`.
     26 +  - üõë **CRITICAL FINDING:** Direct mapping of `config.margins` to `html2pdf` option caused crash when `NaN` (from empty input) was passed.
     27 +  - ‚úÖ **FIXED:** Implemented robust mapping: `Array.isArray(margins) ? margins.map(m => isFinite(parseFloat(m)) ? parseFloat(m) : 0.5) : default`.
     28 +  - ‚úÖ `html2canvas` options set `backgroundColor` explicitly to avoid transparency issues.
     29 +  - ‚úÖ `jsPDF` config uses `unit: 'in'`, matching the input values.
     30 +
     31 +### Execution
     32 +- **Lines 190-221:** `generatePDF`.
     33 +  - ‚úÖ Proper error handling (try-catch) wrapping external library calls.
     34 +  - ‚úÖ `outputPdf('blob')` used correctly.
     35 +
     36 +## 2. HTMLService.js Audit
     37 +
     38 +### CSS Extraction (The "Vanilla" Bug)
     39 +- **Lines 96-140:** `getThemeCSS`.
     40 +  - üõë **CRITICAL FINDING:** `fetch` returns Vite's JS module string in Dev mode.
     41 +  - ‚úÖ **FIXED:** Implemented Regex + JSON.parse extraction strategy locally to parse `const __vite__css` variable.
     42 +  - ‚úÖ Logic includes fallback to full path handling.
     43 +
     44 +### Content Generation
     45 +- **Line 80:** `${contentHtml}` interpolation.
     46 +  - üîç **Note:** Takes raw HTML string.
     47 +  - ‚úÖ **FIXED:** Caller (`script.js`) updated to pass `preview.innerHTML` (Content) instead of `previewContainer.innerHTML` (Wrapper + Header).
     48 +
     49 +### Footer
     50 +- **Lines 82-84:** Footer Implementation.
     51 +  - ‚úÖ Updated to match User Request (Specific links, new tabs).
     52 +
     53 +## 3. script.js (Integration)
     54 +- **Export HTML:** Updated to target `#markdown-preview` (via `preview` variable).
     55 +- **Export PDF:** Verified `previewPDF` targets `preview` variable.
     56  

```


### üìÑ `script.js`

**Type:** JavaScript Source File üü®

```diff
@@ -16,6 +16,7 @@ import Prism from 'prismjs';
 16  16  import { StorageManager } from './src/js/core/StorageManager.js';
 17  17  import { ThemeManager } from './src/js/core/ThemeManager.js';
 18  18  import { FolderBrowserService } from './src/js/services/FolderBrowserService.js';
     19 +import { HTMLService } from './src/js/services/HTMLService.js';
 19  20  import { MermaidService } from './src/js/services/MermaidService.js';
 20  21  import { PDFService } from './src/js/services/PDFService.js';
 21  22  import { PrismService } from './src/js/services/PrismService.js';
@@ -34,6 +35,7 @@ const themeManager = new ThemeManager(storageManager);
 34  35  const mermaidService = new MermaidService();
 35  36  const prismService = new PrismService();
 36  37  const pdfService = new PDFService();
     38 +const htmlService = new HTMLService();
 37  39  const folderBrowserService = new FolderBrowserService(storageManager);
 38  40  
 39  41  // Folder browser state
@@ -616,99 +618,25 @@ graph TD
616 618    }
617 619  
618 620    // Export to HTML
619     -  function exportHTML() {
620     -    const currentTheme = themeSelector.value;
621     -    let themeCSS = '';
    621 +  async function exportHTML() {
    622 +    const originalText = exportHtmlBtn.textContent;
    623 +    exportHtmlBtn.textContent = '‚è≥ Exporting...';
    624 +    exportHtmlBtn.disabled = true;
622 625  
623     -    if (currentTheme === 'custom') {
624     -      const customTheme = storageManager.getJSON('customTheme');
625     -      if (customTheme) {
626     -        const theme = customTheme;
627     -        themeCSS = ':root {\n';
628     -        Object.entries(theme).forEach(([property, value]) => {
629     -          themeCSS += `    ${property}: ${value};\n`;
630     -        });
631     -        themeCSS += '}';
632     -      }
633     -    } else {
634     -      // Fetch theme CSS
635     -      fetch(`themes/${currentTheme}.css`)
636     -        .then(response => response.text())
637     -        .then(css => {
638     -          themeCSS = css;
639     -          generateHTML();
640     -        })
641     -        .catch(err => {
642     -          console.error('Error loading theme:', err);
643     -          generateHTML();
644     -        });
645     -      return;
646     -    }
    626 +    try {
    627 +      const themeName = themeSelector.value;
    628 +      const customTheme = themeName === 'custom' ? storageManager.getJSON('customTheme') : null;
647 629  
648     -    generateHTML();
    630 +      const blob = await htmlService.generateHTML(preview.innerHTML, themeName, customTheme);
    631 +      htmlService.downloadHTML(blob, 'markdown-export.html');
649 632  
650     -    function generateHTML() {
651     -      const html = `<!DOCTYPE html>
652     -<html>
653     -<head>
654     -    <meta charset="UTF-8">
655     -    <title>Exported Markdown</title>
656     -    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
657     -    <style>
658     -        body {
659     -            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
660     -            max-width: 800px;
661     -            margin: 0 auto;
662     -            padding: 40px 20px;
663     -            line-height: 1.7;
664     -        }
665     -
666     -        ${themeCSS}
667     -
668     -        body {
669     -            background-color: var(--bg-primary);
670     -            color: var(--text-primary);
671     -        }
672     -
673     -        h1 { color: var(--h1-color); font-size: 2.5em; margin: 0.67em 0; border-bottom: 2px solid var(--h1-color); padding-bottom: 0.3em; }
674     -        h2 { color: var(--h2-color); font-size: 2em; margin: 0.75em 0 0.5em 0; }
675     -        h3 { color: var(--h3-color); font-size: 1.5em; margin: 0.83em 0; }
676     -        h4 { color: var(--h4-color); font-size: 1.25em; margin: 1em 0; }
677     -        h5 { color: var(--h5-color); font-size: 1em; margin: 1.33em 0; }
678     -        h6 { color: var(--h6-color); font-size: 0.875em; margin: 1.67em 0; }
679     -
680     -        a { color: var(--link-color); text-decoration: none; }
681     -        a:hover { color: var(--link-hover); text-decoration: underline; }
682     -
683     -        strong { color: var(--bold-color); font-weight: 700; }
684     -        em { color: var(--italic-color); font-style: italic; }
685     -
686     -        code { background-color: var(--code-bg); color: var(--code-text); padding: 2px 6px; border-radius: 4px; font-family: 'Consolas', 'Monaco', monospace; font-size: 0.9em; }
687     -        pre { background-color: var(--code-block-bg); border-radius: 8px; padding: 16px; overflow-x: auto; margin: 1.5em 0; }
688     -        pre code { background-color: transparent; color: inherit; padding: 0; }
689     -
690     -        blockquote { border-left: 4px solid var(--blockquote-border); background-color: var(--blockquote-bg); padding: 12px 20px; margin: 1.5em 0; font-style: italic; }
691     -
692     -        table { border-collapse: collapse; width: 100%; margin: 1.5em 0; }
693     -        th { background-color: var(--table-header-bg); padding: 12px; text-align: left; border: 1px solid var(--table-border); font-weight: 600; }
694     -        td { padding: 10px 12px; border: 1px solid var(--table-border); }
695     -
696     -        hr { border: none; border-top: 2px solid var(--border-color); margin: 2em 0; }
697     -        img { max-width: 100%; height: auto; border-radius: 8px; margin: 1em 0; }
698     -    </style>
699     -</head>
700     -<body>
701     -    ${DOMPurify.sanitize(preview.innerHTML)}
702     -</body>
703     -</html>`;
704     -
705     -      const blob = new Blob([html], { type: 'text/html' });
706     -      const url = URL.createObjectURL(blob);
707     -      const a = document.createElement('a');
708     -      a.href = url;
709     -      a.download = 'markdown-export.html';
710     -      a.click();
711     -      URL.revokeObjectURL(url);
    633 +      console.log('‚úÖ HTML Export successful');
    634 +    } catch (error) {
    635 +      console.error('HTML Export failed:', error);
    636 +      alert('Failed to export HTML: ' + error.message);
    637 +    } finally {
    638 +      exportHtmlBtn.textContent = originalText;
    639 +      exportHtmlBtn.disabled = false;
712 640      }
713 641    }
714 642  
@@ -1255,8 +1183,8 @@ graph TD
1255 1183      if (!folderBrowserService.isSupported()) {
1256 1184        alert(
1257 1185          'Folder browsing requires File System Access API.\n\n' +
1258     -          'Please use Chrome 86+ or Edge 86+.\n\n' +
1259     -          'Firefox and Safari are not currently supported.'
    1186 +        'Please use Chrome 86+ or Edge 86+.\n\n' +
    1187 +        'Firefox and Safari are not currently supported.'
1260 1188        );
1261 1189        return;
1262 1190      }
1263 1191  

```


### ‚ú® `src/js/services/HTMLService.js` **[ADDED]**

**Status:** ‚úÖ **NEW FILE** - This file has been newly created

**Type:** JavaScript Source File üü®

```diff
@@ -0,0 +1,150 @@
      1 +/**
      2 + * HTMLService - HTML Export Service
      3 + * Handles generation of standalone HTML files with embedded themes and necessary CDNs.
      4 + */
      5 +
      6 +export class HTMLService {
      7 +  /**
      8 +   * Generate complete HTML document
      9 +   *
     10 +   * @param {string} contentHtml - The inner HTML of the preview container
     11 +   * @param {string} themeName - Current theme name
     12 +   * @param {Object} customTheme - Custom theme object (optional)
     13 +   * @returns {Promise<Blob>} HTML Blob
     14 +   */
     15 +  async generateHTML(contentHtml, themeName, customTheme = null) {
     16 +    const themeCSS = await this.getThemeCSS(themeName, customTheme);
     17 +
     18 +    const html = `<!DOCTYPE html>
     19 +<html>
     20 +<head>
     21 +    <meta charset="UTF-8">
     22 +    <title>Exported Markdown</title>
     23 +    <!-- Syntax Highlighting -->
     24 +    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
     25 +    <!-- Math Rendering (KaTeX) -->
     26 +    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
     27 +    <!-- Mermaid Styles (Basic) -->
     28 +    <style>
     29 +      .mermaid { display: flex; justify-content: center; margin: 1em 0; }
     30 +    </style>
     31 +    <style>
     32 +        body {
     33 +            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
     34 +            max-width: 800px;
     35 +            margin: 0 auto;
     36 +            padding: 40px 20px;
     37 +            line-height: 1.7;
     38 +        }
     39 +
     40 +        ${themeCSS}
     41 +
     42 +        body {
     43 +            background-color: var(--bg-primary);
     44 +            color: var(--text-primary);
     45 +        }
     46 +
     47 +        /* Base Typography */
     48 +        h1 { color: var(--h1-color); font-size: 2.5em; margin: 0.67em 0; border-bottom: 2px solid var(--h1-color); padding-bottom: 0.3em; }
     49 +        h2 { color: var(--h2-color); font-size: 2em; margin: 0.75em 0 0.5em 0; }
     50 +        h3 { color: var(--h3-color); font-size: 1.5em; margin: 0.83em 0; }
     51 +        h4 { color: var(--h4-color); font-size: 1.25em; margin: 1em 0; }
     52 +        h5 { color: var(--h5-color); font-size: 1em; margin: 1.33em 0; }
     53 +        h6 { color: var(--h6-color); font-size: 0.875em; margin: 1.67em 0; }
     54 +
     55 +        a { color: var(--link-color); text-decoration: none; }
     56 +        a:hover { color: var(--link-hover); text-decoration: underline; }
     57 +
     58 +        strong { color: var(--bold-color); font-weight: 700; }
     59 +        em { color: var(--italic-color); font-style: italic; }
     60 +
     61 +        code { background-color: var(--code-bg); color: var(--code-text); padding: 2px 6px; border-radius: 4px; font-family: 'Consolas', 'Monaco', monospace; font-size: 0.9em; }
     62 +        pre { background-color: var(--code-block-bg); border-radius: 8px; padding: 16px; overflow-x: auto; margin: 1.5em 0; }
     63 +        pre code { background-color: transparent; color: inherit; padding: 0; }
     64 +
     65 +        blockquote { border-left: 4px solid var(--blockquote-border); background-color: var(--blockquote-bg); padding: 12px 20px; margin: 1.5em 0; font-style: italic; }
     66 +
     67 +        table { border-collapse: collapse; width: 100%; margin: 1.5em 0; }
     68 +        th { background-color: var(--table-header-bg); padding: 12px; text-align: left; border: 1px solid var(--table-border); font-weight: 600; }
     69 +        td { padding: 10px 12px; border: 1px solid var(--table-border); }
     70 +
     71 +        hr { border: none; border-top: 2px solid var(--border-color); margin: 2em 0; }
     72 +        img { max-width: 100%; height: auto; border-radius: 8px; margin: 1em 0; }
     73 +
     74 +        /* Lists */
     75 +        ul, ol { padding-left: 2em; margin: 1em 0; }
     76 +        li { margin: 0.5em 0; }
     77 +    </style>
     78 +</head>
     79 +<body>
     80 +    ${contentHtml}
     81 +
     82 +    <footer style="margin-top: 40px; border-top: 1px solid var(--border-color); padding-top: 20px; text-align: center; color: var(--text-secondary); font-size: 0.85em;">
     83 +        <p style="margin: 0.5em 0;">Generated by <a href="https://prakharmnnit.github.io/markdown-viewer-app/" target="_blank" style="color: inherit; text-decoration: underline;">Markdown Viewer Pro</a></p>
     84 +        <p style="margin: 0.5em 0;">Made with ‚ù§Ô∏è by Prax Lannister | Follow me on <a href="https://github.com/PrakharMNNIT" target="_blank" style="color: var(--link-color); text-decoration: none;">GitHub</a> & <a href="https://x.com/ByteByByteSrSDE" target="_blank" style="color: var(--link-color); text-decoration: none;">X (Twitter)</a></p>
     85 +    </footer>
     86 +</body>
     87 +</html>`;
     88 +
     89 +    return new Blob([html], { type: 'text/html' });
     90 +  }
     91 +
     92 +  /**
     93 +   * Helper to retrieve CSS content
     94 +   * @private
     95 +   */
     96 +  async getThemeCSS(themeName, customTheme) {
     97 +    if (themeName === 'custom' && customTheme) {
     98 +      let css = ':root {\n';
     99 +      Object.entries(customTheme).forEach(([prop, val]) => {
    100 +        css += `    ${prop}: ${val};\n`;
    101 +      });
    102 +      css += '}';
    103 +      return css;
    104 +    }
    105 +    const baseUrl = import.meta.env.BASE_URL || '/';
    106 +    // Remove leading slash from baseUrl if present to avoid double slash with themes/
    107 +    // Actually relative fetch is best.
    108 +
    109 +    try {
    110 +      // Use relative path which works best with <base> or current location
    111 +      const response = await fetch(`themes/${themeName}.css`);
    112 +
    113 +      let finalResponse = response;
    114 +      if (!response.ok) {
    115 +        // Fallback to full path construction if relative failed
    116 +        const fullPath = `${baseUrl}themes/${themeName}.css`.replace('//', '/');
    117 +        finalResponse = await fetch(fullPath);
    118 +        if (!finalResponse.ok) throw new Error(`Theme load failed: ${finalResponse.status}`);
    119 +      }
    120 +
    121 +      let css = await finalResponse.text();
    122 +
    123 +      // Handle Vite Dev Server response (JS module instead of raw CSS)
    124 +      if (css.includes('const __vite__css = "')) {
    125 +        const match = css.match(/const __vite__css\s*=\s*"((?:[^"\\]|\\.)*)"/);
    126 +        if (match && match[1]) {
    127 +          try {
    128 +            // Parse JSON string to handle escapes (e.g. \n) correctly
    129 +            css = JSON.parse(`"${match[1]}"`);
    130 +          } catch (e) {
    131 +            console.warn('Failed to parse Vite CSS string', e);
    132 +          }
    133 +        }
    134 +      }
    135 +      return css;
    136 +    } catch (e) {
    137 +      console.error('Failed to load theme CSS', e);
    138 +      return '/* Theme Fetch Failed: ' + e.message + ' */';
    139 +    }
    140 +  }
    141 +
    142 +  downloadHTML(blob, filename = 'exported-markdown.html') {
    143 +    const url = URL.createObjectURL(blob);
    144 +    const a = document.createElement('a');
    145 +    a.href = url;
    146 +    a.download = filename;
    147 +    a.click();
    148 +    URL.revokeObjectURL(url);
    149 +  }
    150 +}
    151  

```


### üìÑ `src/js/services/PDFService.js`

**Type:** JavaScript Source File üü®

```diff
@@ -122,6 +122,24 @@ export class PDFService {
122 122        .trim();
123 123  
124 124      container.appendChild(element);
    125 +
    126 +    // Add Footer
    127 +    const footer = document.createElement('div');
    128 +    footer.style.marginTop = '40px';
    129 +    const borderColor = getComputedStyle(document.documentElement).getPropertyValue('--border-color').trim();
    130 +    const textColor = getComputedStyle(document.documentElement).getPropertyValue('--text-secondary').trim();
    131 +
    132 +    footer.style.borderTop = `1px solid ${borderColor}`;
    133 +    footer.style.paddingTop = '20px';
    134 +    footer.style.textAlign = 'center';
    135 +    footer.style.color = textColor;
    136 +    footer.style.fontSize = '0.85em';
    137 +    footer.innerHTML = `
    138 +        <p style="margin: 5px 0;">Generated by <a href="https://prakharmnnit.github.io/markdown-viewer-app/" style="color: #0969da; text-decoration: underline;">Markdown Viewer Pro</a></p>
    139 +        <p style="margin: 5px 0;">Made with ‚ù§Ô∏è by Prax Lannister | Follow me on <a href="https://github.com/PrakharMNNIT" style="color: #0969da;">GitHub</a> & <a href="https://x.com/ByteByByteSrSDE" style="color: #0969da;">X (Twitter)</a></p>
    140 +    `;
    141 +    container.appendChild(footer);
    142 +
125 143      return container;
126 144    }
127 145  
@@ -135,7 +153,15 @@ export class PDFService {
135 153    buildHtml2PdfConfig(config) {
136 154      const pageSize = config.pageSize || 'A4';
137 155      const orientation = config.orientation || PDF_CONFIG.ORIENTATIONS.PORTRAIT;
138     -    const margins = config.margins || PDF_CONFIG.DEFAULT_MARGINS;
    156 +
    157 +    // Ensure margins are numbers and safe
    158 +    let margins = config.margins || PDF_CONFIG.DEFAULT_MARGINS;
    159 +    if (Array.isArray(margins)) {
    160 +      margins = margins.map(m => {
    161 +        const val = parseFloat(m);
    162 +        return isFinite(val) ? val : 0.5; // Default to 0.5in if invalid
    163 +      });
    164 +    }
139 165  
140 166      return {
141 167        margin: margins,
142 168  

```


### üìÑ `style.css`

**Type:** Stylesheet üé®

```diff
@@ -24,7 +24,7 @@ body {
 24  24  
 25  25  /* ==================== TOOLBAR ==================== */
 26  26  .toolbar {
 27     -  background-color: color-mix(in srgb, var(--bg-secondary) 85%, transparent);
     27 +  background-color: var(--bg-secondary);
 28  28    backdrop-filter: blur(12px);
 29  29    -webkit-backdrop-filter: blur(12px);
 30  30    border-bottom: 1px solid var(--border-color);
@@ -88,7 +88,7 @@ body {
 88  88  .btn {
 89  89    padding: 8px 16px;
 90  90    border: 1px solid var(--border-color);
 91     -  background-color: color-mix(in srgb, var(--bg-primary) 80%, transparent);
     91 +  background-color: var(--bg-primary);
 92  92    backdrop-filter: blur(4px);
 93  93    -webkit-backdrop-filter: blur(4px);
 94  94    color: var(--text-primary);
@@ -503,7 +503,7 @@ body {
503 503  }
504 504  
505 505  .modal-content {
506     -  background-color: color-mix(in srgb, var(--bg-primary) 95%, transparent);
    506 +  background-color: var(--bg-primary);
507 507    backdrop-filter: blur(16px);
508 508    -webkit-backdrop-filter: blur(16px);
509 509    border-radius: 16px;
@@ -823,7 +823,7 @@ body {
823 823    width: 280px;
824 824    min-width: 100px;
825 825    max-width: 600px;
826     -  background-color: color-mix(in srgb, var(--bg-secondary) 85%, transparent);
    826 +  background-color: var(--bg-secondary);
827 827    backdrop-filter: blur(12px);
828 828    -webkit-backdrop-filter: blur(12px);
829 829    border-right: 1px solid var(--border-color);
@@ -948,7 +948,7 @@ body {
948 948  }
949 949  
950 950  .tree-item:hover {
951     -  background-color: color-mix(in srgb, var(--h1-color) 10%, transparent);
    951 +  background-color: var(--bg-tertiary);
952 952    transform: translateX(4px);
953 953    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
954 954  }
@@ -1104,7 +1104,7 @@ body {
1104 1104  }
1105 1105  
1106 1106  ::-webkit-scrollbar-thumb {
1107     -  background-color: color-mix(in srgb, var(--text-secondary) 30%, transparent);
    1107 +  background-color: var(--text-secondary);
1108 1108    border-radius: 20px;
1109 1109    border: 3px solid transparent;
1110 1110    background-clip: content-box;
@@ -1112,7 +1112,7 @@ body {
1112 1112  }
1113 1113  
1114 1114  ::-webkit-scrollbar-thumb:hover {
1115     -  background-color: color-mix(in srgb, var(--text-secondary) 50%, transparent);
    1115 +  background-color: var(--text-secondary);
1116 1116  }
1117 1117  
1118 1118  /* ==================== END ==================== */
1119 1119  

```

---

## ü§ñ AI Review Checklist

Please review these changes for:

### üîç Code Quality
- [ ] **Linting Compliance**: No unused imports/variables, proper formatting
- [ ] **Type Safety**: Proper typing throughout (TypeScript/Python type hints)
- [ ] **Best Practices**: Framework-specific conventions and patterns
- [ ] **Performance**: Efficient algorithms, proper memoization
- [ ] **Documentation**: Clear comments and function descriptions

### üêõ Potential Issues
- [ ] **Runtime Errors**: Type mismatches, null/undefined handling
- [ ] **Logic Bugs**: Incorrect calculations, edge cases
- [ ] **Memory Leaks**: Cleanup in lifecycle methods, event listeners
- [ ] **Error Handling**: Proper try-catch blocks, user feedback
- [ ] **Accessibility**: ARIA labels, keyboard navigation, screen readers

### üîí Security & Data
- [ ] **Input Validation**: Sanitization, XSS prevention, SQL injection
- [ ] **Authentication**: Proper access controls and permissions
- [ ] **Privacy**: No sensitive data exposure in logs/client
- [ ] **Dependencies**: Updated packages, vulnerability checks

### üì± UX/UI
- [ ] **Responsive Design**: Mobile/desktop/tablet compatibility
- [ ] **Loading States**: Proper feedback during async operations
- [ ] **Error Messages**: User-friendly error handling and recovery
- [ ] **Performance**: Fast loading, smooth animations

### üí° Suggestions & Improvements
Please provide specific feedback on:
1. Code organization and structure improvements
2. Performance optimization opportunities
3. Security considerations and hardening
4. Testing coverage and strategies
5. Documentation and maintainability

---
*Generated by AI Visual Code Review v2.0 - Unified Export Script*
*Files processed: 7/7 | Errors: 0 | Generated: 2025-12-09T13:44:06.124Z*
